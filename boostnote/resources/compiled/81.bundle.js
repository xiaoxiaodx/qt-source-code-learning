(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{"./node_modules/codemirror/mode/python/python.js":function(e,t,n){!function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var n,r=t(["and","or","not","is"]),i=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function a(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",i.concat(o)),e.defineMode("python",(function(n,s){for(var c="error",l=s.delimiters||s.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,u=[s.singleOperators,s.doubleOperators,s.doubleDelimiters,s.tripleDelimiters,s.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],f=0;f<u.length;f++)u[f]||u.splice(f--,1);var p=s.hangingIndent||n.indentUnit,d=i,m=o;null!=s.extra_keywords&&(d=d.concat(s.extra_keywords)),null!=s.extra_builtins&&(m=m.concat(s.extra_builtins));var h=!(s.version&&Number(s.version)<3);if(h){var b=s.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;d=d.concat(["nonlocal","False","True","None","async","await"]),m=m.concat(["ascii","bytes","exec","print"]);var g=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else b=s.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/,d=d.concat(["exec","print"]),m=m.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]),g=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i");var y=t(d),k=t(m);function v(e,t){var n=e.sol()&&"\\"!=t.lastToken;if(n&&(t.indent=e.indentation()),n&&"py"==a(t).type){var r=a(t).offset;if(e.eatSpace()){var i=e.indentation();return i>r?_(t):i<r&&z(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var o=x(e,t);return r>0&&z(e,t)&&(o+=" "+c),o}return x(e,t)}function x(e,t){if(e.eatSpace())return null;if(e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var n=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(n=!0),e.match(/^[\d_]+\.\d*/)&&(n=!0),e.match(/^\.\d+/)&&(n=!0),n)return e.eat(/J/i),"number";var i=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(i=!0),e.match(/^0b[01_]+/i)&&(i=!0),e.match(/^0o[0-7_]+/i)&&(i=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),i=!0),e.match(/^0(?![\dx])/i)&&(i=!0),i)return e.eat(/L/i),"number"}if(e.match(g))return-1!==e.current().toLowerCase().indexOf("f")?(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";function i(e){return function(t,n){var r=x(t,n);return"punctuation"==r&&("{"==t.current()?n.tokenize=i(e+1):"}"==t.current()&&(n.tokenize=e>1?i(e-1):o)),r}}function o(o,a){for(;!o.eol();)if(o.eatWhile(/[^'"\{\}\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return r}else{if(o.match(e))return a.tokenize=t,r;if(o.match("{{"))return r;if(o.match("{",!1))return a.tokenize=i(0),o.current()?r:a.tokenize(o,a);if(o.match("}}"))return r;if(o.match("}"))return c;o.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return c;a.tokenize=t}return r}return o.isString=!0,o}(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";function i(i,o){for(;!i.eol();)if(i.eatWhile(/[^'"\\]/),i.eat("\\")){if(i.next(),n&&i.eol())return r}else{if(i.match(e))return o.tokenize=t,r;i.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return c;o.tokenize=t}return r}return i.isString=!0,i}(e.current(),t.tokenize),t.tokenize(e,t));for(var o=0;o<u.length;o++)if(e.match(u[o]))return"operator";return e.match(l)?"punctuation":"."==t.lastToken&&e.match(b)?"property":e.match(y)||e.match(r)?"keyword":e.match(k)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(b)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),c)}function _(e){for(;"py"!=a(e).type;)e.scopes.pop();e.scopes.push({offset:a(e).offset+n.indentUnit,type:"py",align:null})}function z(e,t){for(var n=e.indentation();t.scopes.length>1&&a(t).offset>n;){if("py"!=a(t).type)return!0;t.scopes.pop()}return a(t).offset!=n}function w(e,t){e.sol()&&(t.beginningOfLine=!0);var n=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(b,!1)?"meta":h?"operator":c;if(/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=t.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=a(t).type||_(t),1==r.length&&!/string|comment/.test(n)){var i="[({".indexOf(r);if(-1!=i&&function(e,t,n){var r=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+p,type:n,align:r})}(e,t,"])}".slice(i,i+1)),-1!=(i="])}".indexOf(r))){if(a(t).type!=r)return c;t.indent=t.scopes.pop().offset-p}}return t.dedent>0&&e.eol()&&"py"==a(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),n}return{startState:function(e){return{tokenize:v,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=w(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+c:r},indent:function(t,n){if(t.tokenize!=v)return t.tokenize.isString?e.Pass:0;var r=a(t),i=r.type==n.charAt(0);return null!=r.align?r.align-(i?1:0):r.offset-(i?p:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}})),e.defineMIME("text/x-python","python"),e.defineMIME("text/x-cython",{name:"python",extra_keywords:(n="by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE",n.split(" "))})}(n("./node_modules/codemirror/lib/codemirror.js"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL3B5dGhvbi9weXRob24uanMiXSwibmFtZXMiOlsiQ29kZU1pcnJvciIsIndvcmRSZWdleHAiLCJ3b3JkcyIsIlJlZ0V4cCIsImpvaW4iLCJzdHIiLCJ3b3JkT3BlcmF0b3JzIiwiY29tbW9uS2V5d29yZHMiLCJjb21tb25CdWlsdGlucyIsInRvcCIsInN0YXRlIiwic2NvcGVzIiwibGVuZ3RoIiwicmVnaXN0ZXJIZWxwZXIiLCJjb25jYXQiLCJkZWZpbmVNb2RlIiwiY29uZiIsInBhcnNlckNvbmYiLCJFUlJPUkNMQVNTIiwiZGVsaW1pdGVycyIsInNpbmdsZURlbGltaXRlcnMiLCJvcGVyYXRvcnMiLCJzaW5nbGVPcGVyYXRvcnMiLCJkb3VibGVPcGVyYXRvcnMiLCJkb3VibGVEZWxpbWl0ZXJzIiwidHJpcGxlRGVsaW1pdGVycyIsImkiLCJzcGxpY2UiLCJoYW5naW5nSW5kZW50IiwiaW5kZW50VW5pdCIsIm15S2V5d29yZHMiLCJteUJ1aWx0aW5zIiwidW5kZWZpbmVkIiwiZXh0cmFfa2V5d29yZHMiLCJleHRyYV9idWlsdGlucyIsInB5MyIsInZlcnNpb24iLCJOdW1iZXIiLCJpZGVudGlmaWVycyIsInN0cmluZ1ByZWZpeGVzIiwia2V5d29yZHMiLCJidWlsdGlucyIsInRva2VuQmFzZSIsInN0cmVhbSIsInNvbCIsImxhc3RUb2tlbiIsImluZGVudCIsImluZGVudGF0aW9uIiwidHlwZSIsInNjb3BlT2Zmc2V0Iiwib2Zmc2V0IiwiZWF0U3BhY2UiLCJsaW5lT2Zmc2V0IiwicHVzaFB5U2NvcGUiLCJkZWRlbnQiLCJwZWVrIiwiZXJyb3JUb2tlbiIsInN0eWxlIiwidG9rZW5CYXNlSW5uZXIiLCJtYXRjaCIsImZsb2F0TGl0ZXJhbCIsImVhdCIsImludExpdGVyYWwiLCJjdXJyZW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwidG9rZW5pemUiLCJkZWxpbWl0ZXIiLCJ0b2tlbk91dGVyIiwiY2hhckF0Iiwic3Vic3RyIiwic2luZ2xlbGluZSIsIk9VVENMQVNTIiwidG9rZW5OZXN0ZWRFeHByIiwiZGVwdGgiLCJpbm5lciIsInRva2VuU3RyaW5nIiwiZW9sIiwiZWF0V2hpbGUiLCJuZXh0Iiwic2luZ2xlTGluZVN0cmluZ0Vycm9ycyIsImlzU3RyaW5nIiwiZm9ybWF0U3RyaW5nRmFjdG9yeSIsInRva2VuU3RyaW5nRmFjdG9yeSIsInBvcCIsInB1c2giLCJhbGlnbiIsImluZGVudGVkIiwidG9rZW5MZXhlciIsImJlZ2lubmluZ09mTGluZSIsInRlc3QiLCJsYW1iZGEiLCJkZWxpbWl0ZXJfaW5kZXgiLCJjb2x1bW4iLCJwdXNoQnJhY2tldFNjb3BlIiwic2xpY2UiLCJzdGFydFN0YXRlIiwiYmFzZWNvbHVtbiIsInRva2VuIiwiYWRkRXJyIiwidGV4dEFmdGVyIiwiUGFzcyIsInNjb3BlIiwiY2xvc2luZyIsImVsZWN0cmljSW5wdXQiLCJjbG9zZUJyYWNrZXRzIiwidHJpcGxlcyIsImxpbmVDb21tZW50IiwiZm9sZCIsImRlZmluZU1JTUUiLCJuYW1lIiwic3BsaXQiLCJtb2QiXSwibWFwcGluZ3MiOiI2SEFVRyxTQUFTQSxHQUNWLGFBRUEsU0FBU0MsRUFBV0MsR0FDbEIsT0FBTyxJQUFJQyxPQUFPLE1BQVFELEVBQU1FLEtBQUssT0FBUyxTQUdoRCxJQW9YcUJDLEVBcFhqQkMsRUFBZ0JMLEVBQVcsQ0FBQyxNQUFPLEtBQU0sTUFBTyxPQUNoRE0sRUFBaUIsQ0FBQyxLQUFNLFNBQVUsUUFBUyxRQUFTLFdBQ2xDLE1BQU8sTUFBTyxPQUFRLE9BQVEsU0FBVSxVQUN4QyxNQUFPLE9BQVEsU0FBVSxLQUFNLFNBQy9CLFNBQVUsT0FBUSxRQUFTLFNBQzNCLE1BQU8sUUFBUyxPQUFRLFFBQVMsTUFDbkRDLEVBQWlCLENBQUMsTUFBTyxNQUFPLE1BQU8sTUFBTyxPQUFRLFlBQWEsV0FBWSxNQUM3RCxjQUFlLFVBQVcsVUFBVyxVQUFXLE9BQVEsTUFBTyxTQUMvRCxZQUFh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LE9BQVNpQixFQUFVLEVBQUksR0FFN0JELEVBQU1wRCxRQUFVcUQsRUFBVTNFLEVBQWdCLElBR3JENEUsY0FBZSxnQkFDZkMsY0FBZSxDQUFDQyxRQUFTLE9BQ3pCQyxZQUFhLElBQ2JDLEtBQU0sYUFLVjVHLEVBQVc2RyxXQUFXLGdCQUFpQixVQUl2QzdHLEVBQVc2RyxXQUFXLGdCQUFpQixDQUNyQ0MsS0FBTSxTQUNON0UsZ0JBSm1CNUIsRUFJRyw2SEFKV0EsRUFBSTBHLE1BQU0sUUFoWTNDQyxDQUFJLEVBQVEiLCJmaWxlIjoiODEuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwczovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgZnVuY3Rpb24gd29yZFJlZ2V4cCh3b3Jkcykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiXigoXCIgKyB3b3Jkcy5qb2luKFwiKXwoXCIpICsgXCIpKVxcXFxiXCIpO1xuICB9XG5cbiAgdmFyIHdvcmRPcGVyYXRvcnMgPSB3b3JkUmVnZXhwKFtcImFuZFwiLCBcIm9yXCIsIFwibm90XCIsIFwiaXNcIl0pO1xuICB2YXIgY29tbW9uS2V5d29yZHMgPSBbXCJhc1wiLCBcImFzc2VydFwiLCBcImJyZWFrXCIsIFwiY2xhc3NcIiwgXCJjb250aW51ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZcIiwgXCJkZWxcIiwgXCJlbGlmXCIsIFwiZWxzZVwiLCBcImV4Y2VwdFwiLCBcImZpbmFsbHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9yXCIsIFwiZnJvbVwiLCBcImdsb2JhbFwiLCBcImlmXCIsIFwiaW1wb3J0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxhbWJkYVwiLCBcInBhc3NcIiwgXCJyYWlzZVwiLCBcInJldHVyblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cnlcIiwgXCJ3aGlsZVwiLCBcIndpdGhcIiwgXCJ5aWVsZFwiLCBcImluXCJdO1xuICB2YXIgY29tbW9uQnVpbHRpbnMgPSBbXCJhYnNcIiwgXCJhbGxcIiwgXCJhbnlcIiwgXCJiaW5cIiwgXCJib29sXCIsIFwiYnl0ZWFycmF5XCIsIFwiY2FsbGFibGVcIiwgXCJjaHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NtZXRob2RcIiwgXCJjb21waWxlXCIsIFwiY29tcGxleFwiLCBcImRlbGF0dHJcIiwgXCJkaWN0XCIsIFwiZGlyXCIsIFwiZGl2bW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVudW1lcmF0ZVwiLCBcImV2YWxcIiwgXCJmaWx0ZXJcIiwgXCJmbG9hdFwiLCBcImZvcm1hdFwiLCBcImZyb3plbnNldFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRhdHRyXCIsIFwiZ2xvYmFsc1wiLCBcImhhc2F0dHJcIiwgXCJoYXNoXCIsIFwiaGVscFwiLCBcImhleFwiLCBcImlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlucHV0XCIsIFwiaW50XCIsIFwiaXNpbnN0YW5jZVwiLCBcImlzc3ViY2xhc3NcIiwgXCJpdGVyXCIsIFwibGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpc3RcIiwgXCJsb2NhbHNcIiwgXCJtYXBcIiwgXCJtYXhcIiwgXCJtZW1vcnl2aWV3XCIsIFwibWluXCIsIFwibmV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiwgXCJvY3RcIiwgXCJvcGVuXCIsIFwib3JkXCIsIFwicG93XCIsIFwicHJvcGVydHlcIiwgXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXByXCIsIFwicmV2ZXJzZWRcIiwgXCJyb3VuZFwiLCBcInNldFwiLCBcInNldGF0dHJcIiwgXCJzbGljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzb3J0ZWRcIiwgXCJzdGF0aWNtZXRob2RcIiwgXCJzdHJcIiwgXCJzdW1cIiwgXCJzdXBlclwiLCBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIiwgXCJ2YXJzXCIsIFwiemlwXCIsIFwiX19pbXBvcnRfX1wiLCBcIk5vdEltcGxlbWVudGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVsbGlwc2lzXCIsIFwiX19kZWJ1Z19fXCJdO1xuICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsIFwicHl0aG9uXCIsIGNvbW1vbktleXdvcmRzLmNvbmNhdChjb21tb25CdWlsdGlucykpO1xuXG4gIGZ1bmN0aW9uIHRvcChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5zY29wZXNbc3RhdGUuc2NvcGVzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwicHl0aG9uXCIsIGZ1bmN0aW9uKGNvbmYsIHBhcnNlckNvbmYpIHtcbiAgICB2YXIgRVJST1JDTEFTUyA9IFwiZXJyb3JcIjtcblxuICAgIHZhciBkZWxpbWl0ZXJzID0gcGFyc2VyQ29uZi5kZWxpbWl0ZXJzIHx8IHBhcnNlckNvbmYuc2luZ2xlRGVsaW1pdGVycyB8fCAvXltcXChcXClcXFtcXF1cXHtcXH1ALDpgPTtcXC5cXFxcXS87XG4gICAgLy8gICAgICAgICAgICAgICAoQmFja3dhcmRzLWNvbXBhdGlibGl0eSB3aXRoIG9sZCwgY3VtYmVyc29tZSBjb25maWcgc3lzdGVtKVxuICAgIHZhciBvcGVyYXRvcnMgPSBbcGFyc2VyQ29uZi5zaW5nbGVPcGVyYXRvcnMsIHBhcnNlckNvbmYuZG91YmxlT3BlcmF0b3JzLCBwYXJzZXJDb25mLmRvdWJsZURlbGltaXRlcnMsIHBhcnNlckNvbmYudHJpcGxlRGVsaW1pdGVycyxcbiAgICAgICAgICAgICAgICAgICAgIHBhcnNlckNvbmYub3BlcmF0b3JzIHx8IC9eKFstKyovJVxcLyZ8Xl09P3xbPD49XSt8XFwvXFwvPT98XFwqXFwqPT98IT18W34hQF18XFwuXFwuXFwuKS9dXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVyYXRvcnMubGVuZ3RoOyBpKyspIGlmICghb3BlcmF0b3JzW2ldKSBvcGVyYXRvcnMuc3BsaWNlKGktLSwgMSlcblxuICAgIHZhciBoYW5naW5nSW5kZW50ID0gcGFyc2VyQ29uZi5oYW5naW5nSW5kZW50IHx8IGNvbmYuaW5kZW50VW5pdDtcblxuICAgIHZhciBteUtleXdvcmRzID0gY29tbW9uS2V5d29yZHMsIG15QnVpbHRpbnMgPSBjb21tb25CdWlsdGlucztcbiAgICBpZiAocGFyc2VyQ29uZi5leHRyYV9rZXl3b3JkcyAhPSB1bmRlZmluZWQpXG4gICAgICBteUtleXdvcmRzID0gbXlLZXl3b3Jkcy5jb25jYXQocGFyc2VyQ29uZi5leHRyYV9rZXl3b3Jkcyk7XG5cbiAgICBpZiAocGFyc2VyQ29uZi5leHRyYV9idWlsdGlucyAhPSB1bmRlZmluZWQpXG4gICAgICBteUJ1aWx0aW5zID0gbXlCdWlsdGlucy5jb25jYXQocGFyc2VyQ29uZi5leHRyYV9idWlsdGlucyk7XG5cbiAgICB2YXIgcHkzID0gIShwYXJzZXJDb25mLnZlcnNpb24gJiYgTnVtYmVyKHBhcnNlckNvbmYudmVyc2lvbikgPCAzKVxuICAgIGlmIChweTMpIHtcbiAgICAgIC8vIHNpbmNlIGh0dHA6Ly9sZWdhY3kucHl0aG9uLm9yZy9kZXYvcGVwcy9wZXAtMDQ2NS8gQCBpcyBhbHNvIGFuIG9wZXJhdG9yXG4gICAgICB2YXIgaWRlbnRpZmllcnMgPSBwYXJzZXJDb25mLmlkZW50aWZpZXJzfHwgL15bX0EtWmEtelxcdTAwQTEtXFx1RkZGRl1bX0EtWmEtejAtOVxcdTAwQTEtXFx1RkZGRl0qLztcbiAgICAgIG15S2V5d29yZHMgPSBteUtleXdvcmRzLmNvbmNhdChbXCJub25sb2NhbFwiLCBcIkZhbHNlXCIsIFwiVHJ1ZVwiLCBcIk5vbmVcIiwgXCJhc3luY1wiLCBcImF3YWl0XCJdKTtcbiAgICAgIG15QnVpbHRpbnMgPSBteUJ1aWx0aW5zLmNvbmNhdChbXCJhc2NpaVwiLCBcImJ5dGVzXCIsIFwiZXhlY1wiLCBcInByaW50XCJdKTtcbiAgICAgIHZhciBzdHJpbmdQcmVmaXhlcyA9IG5ldyBSZWdFeHAoXCJeKChbcmJ1Zl18KGJyKXwoZnIpKT8oJ3szfXxcXFwiezN9fFsnXFxcIl0pKVwiLCBcImlcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpZGVudGlmaWVycyA9IHBhcnNlckNvbmYuaWRlbnRpZmllcnN8fCAvXltfQS1aYS16XVtfQS1aYS16MC05XSovO1xuICAgICAgbXlLZXl3b3JkcyA9IG15S2V5d29yZHMuY29uY2F0KFtcImV4ZWNcIiwgXCJwcmludFwiXSk7XG4gICAgICBteUJ1aWx0aW5zID0gbXlCdWlsdGlucy5jb25jYXQoW1wiYXBwbHlcIiwgXCJiYXNlc3RyaW5nXCIsIFwiYnVmZmVyXCIsIFwiY21wXCIsIFwiY29lcmNlXCIsIFwiZXhlY2ZpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmaWxlXCIsIFwiaW50ZXJuXCIsIFwibG9uZ1wiLCBcInJhd19pbnB1dFwiLCBcInJlZHVjZVwiLCBcInJlbG9hZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVuaWNoclwiLCBcInVuaWNvZGVcIiwgXCJ4cmFuZ2VcIiwgXCJGYWxzZVwiLCBcIlRydWVcIiwgXCJOb25lXCJdKTtcbiAgICAgIHZhciBzdHJpbmdQcmVmaXhlcyA9IG5ldyBSZWdFeHAoXCJeKChbcnViZl18KHVyKXwoYnIpKT8oJ3szfXxcXFwiezN9fFsnXFxcIl0pKVwiLCBcImlcIik7XG4gICAgfVxuICAgIHZhciBrZXl3b3JkcyA9IHdvcmRSZWdleHAobXlLZXl3b3Jkcyk7XG4gICAgdmFyIGJ1aWx0aW5zID0gd29yZFJlZ2V4cChteUJ1aWx0aW5zKTtcblxuICAgIC8vIHRva2VuaXplcnNcbiAgICBmdW5jdGlvbiB0b2tlbkJhc2Uoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIHNvbCA9IHN0cmVhbS5zb2woKSAmJiBzdGF0ZS5sYXN0VG9rZW4gIT0gXCJcXFxcXCJcbiAgICAgIGlmIChzb2wpIHN0YXRlLmluZGVudCA9IHN0cmVhbS5pbmRlbnRhdGlvbigpXG4gICAgICAvLyBIYW5kbGUgc2NvcGUgY2hhbmdlc1xuICAgICAgaWYgKHNvbCAmJiB0b3Aoc3RhdGUpLnR5cGUgPT0gXCJweVwiKSB7XG4gICAgICAgIHZhciBzY29wZU9mZnNldCA9IHRvcChzdGF0ZSkub2Zmc2V0O1xuICAgICAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICAgICAgICB2YXIgbGluZU9mZnNldCA9IHN0cmVhbS5pbmRlbnRhdGlvbigpO1xuICAgICAgICAgIGlmIChsaW5lT2Zmc2V0ID4gc2NvcGVPZmZzZXQpXG4gICAgICAgICAgICBwdXNoUHlTY29wZShzdGF0ZSk7XG4gICAgICAgICAgZWxzZSBpZiAobGluZU9mZnNldCA8IHNjb3BlT2Zmc2V0ICYmIGRlZGVudChzdHJlYW0sIHN0YXRlKSAmJiBzdHJlYW0ucGVlaygpICE9IFwiI1wiKVxuICAgICAgICAgICAgc3RhdGUuZXJyb3JUb2tlbiA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0eWxlID0gdG9rZW5CYXNlSW5uZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgICAgaWYgKHNjb3BlT2Zmc2V0ID4gMCAmJiBkZWRlbnQoc3RyZWFtLCBzdGF0ZSkpXG4gICAgICAgICAgICBzdHlsZSArPSBcIiBcIiArIEVSUk9SQ0xBU1M7XG4gICAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW5CYXNlSW5uZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9rZW5CYXNlSW5uZXIoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0cmVhbS5lYXRTcGFjZSgpKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gSGFuZGxlIENvbW1lbnRzXG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eIy4qLykpIHJldHVybiBcImNvbW1lbnRcIjtcblxuICAgICAgLy8gSGFuZGxlIE51bWJlciBMaXRlcmFsc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlswLTlcXC5dLywgZmFsc2UpKSB7XG4gICAgICAgIHZhciBmbG9hdExpdGVyYWwgPSBmYWxzZTtcbiAgICAgICAgLy8gRmxvYXRzXG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goL15bXFxkX10qXFwuXFxkKyhlW1xcK1xcLV0/XFxkKyk/L2kpKSB7IGZsb2F0TGl0ZXJhbCA9IHRydWU7IH1cbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXltcXGRfXStcXC5cXGQqLykpIHsgZmxvYXRMaXRlcmFsID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eXFwuXFxkKy8pKSB7IGZsb2F0TGl0ZXJhbCA9IHRydWU7IH1cbiAgICAgICAgaWYgKGZsb2F0TGl0ZXJhbCkge1xuICAgICAgICAgIC8vIEZsb2F0IGxpdGVyYWxzIG1heSBiZSBcImltYWdpbmFyeVwiXG4gICAgICAgICAgc3RyZWFtLmVhdCgvSi9pKTtcbiAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbnRlZ2Vyc1xuICAgICAgICB2YXIgaW50TGl0ZXJhbCA9IGZhbHNlO1xuICAgICAgICAvLyBIZXhcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXjB4WzAtOWEtZl9dKy9pKSkgaW50TGl0ZXJhbCA9IHRydWU7XG4gICAgICAgIC8vIEJpbmFyeVxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eMGJbMDFfXSsvaSkpIGludExpdGVyYWwgPSB0cnVlO1xuICAgICAgICAvLyBPY3RhbFxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eMG9bMC03X10rL2kpKSBpbnRMaXRlcmFsID0gdHJ1ZTtcbiAgICAgICAgLy8gRGVjaW1hbFxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eWzEtOV1bXFxkX10qKGVbXFwrXFwtXT9bXFxkX10rKT8vKSkge1xuICAgICAgICAgIC8vIERlY2ltYWwgbGl0ZXJhbHMgbWF5IGJlIFwiaW1hZ2luYXJ5XCJcbiAgICAgICAgICBzdHJlYW0uZWF0KC9KL2kpO1xuICAgICAgICAgIC8vIFRPRE8gLSBDYW4geW91IGhhdmUgaW1hZ2luYXJ5IGxvbmdzP1xuICAgICAgICAgIGludExpdGVyYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFplcm8gYnkgaXRzZWxmIHdpdGggbm8gb3RoZXIgcGllY2Ugb2YgbnVtYmVyLlxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eMCg/IVtcXGR4XSkvaSkpIGludExpdGVyYWwgPSB0cnVlO1xuICAgICAgICBpZiAoaW50TGl0ZXJhbCkge1xuICAgICAgICAgIC8vIEludGVnZXIgbGl0ZXJhbHMgbWF5IGJlIFwibG9uZ1wiXG4gICAgICAgICAgc3RyZWFtLmVhdCgvTC9pKTtcbiAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgU3RyaW5nc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaChzdHJpbmdQcmVmaXhlcykpIHtcbiAgICAgICAgdmFyIGlzRm10U3RyaW5nID0gc3RyZWFtLmN1cnJlbnQoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2YnKSAhPT0gLTE7XG4gICAgICAgIGlmICghaXNGbXRTdHJpbmcpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuU3RyaW5nRmFjdG9yeShzdHJlYW0uY3VycmVudCgpLCBzdGF0ZS50b2tlbml6ZSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gZm9ybWF0U3RyaW5nRmFjdG9yeShzdHJlYW0uY3VycmVudCgpLCBzdGF0ZS50b2tlbml6ZSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlcmF0b3JzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKG9wZXJhdG9yc1tpXSkpIHJldHVybiBcIm9wZXJhdG9yXCJcblxuICAgICAgaWYgKHN0cmVhbS5tYXRjaChkZWxpbWl0ZXJzKSkgcmV0dXJuIFwicHVuY3R1YXRpb25cIjtcblxuICAgICAgaWYgKHN0YXRlLmxhc3RUb2tlbiA9PSBcIi5cIiAmJiBzdHJlYW0ubWF0Y2goaWRlbnRpZmllcnMpKVxuICAgICAgICByZXR1cm4gXCJwcm9wZXJ0eVwiO1xuXG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKGtleXdvcmRzKSB8fCBzdHJlYW0ubWF0Y2god29yZE9wZXJhdG9ycykpXG4gICAgICAgIHJldHVybiBcImtleXdvcmRcIjtcblxuICAgICAgaWYgKHN0cmVhbS5tYXRjaChidWlsdGlucykpXG4gICAgICAgIHJldHVybiBcImJ1aWx0aW5cIjtcblxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXihzZWxmfGNscylcXGIvKSlcbiAgICAgICAgcmV0dXJuIFwidmFyaWFibGUtMlwiO1xuXG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKGlkZW50aWZpZXJzKSkge1xuICAgICAgICBpZiAoc3RhdGUubGFzdFRva2VuID09IFwiZGVmXCIgfHwgc3RhdGUubGFzdFRva2VuID09IFwiY2xhc3NcIilcbiAgICAgICAgICByZXR1cm4gXCJkZWZcIjtcbiAgICAgICAgcmV0dXJuIFwidmFyaWFibGVcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIG5vbi1kZXRlY3RlZCBpdGVtc1xuICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgIHJldHVybiBFUlJPUkNMQVNTO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdFN0cmluZ0ZhY3RvcnkoZGVsaW1pdGVyLCB0b2tlbk91dGVyKSB7XG4gICAgICB3aGlsZSAoXCJydWJmXCIuaW5kZXhPZihkZWxpbWl0ZXIuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkpID49IDApXG4gICAgICAgIGRlbGltaXRlciA9IGRlbGltaXRlci5zdWJzdHIoMSk7XG5cbiAgICAgIHZhciBzaW5nbGVsaW5lID0gZGVsaW1pdGVyLmxlbmd0aCA9PSAxO1xuICAgICAgdmFyIE9VVENMQVNTID0gXCJzdHJpbmdcIjtcblxuICAgICAgZnVuY3Rpb24gdG9rZW5OZXN0ZWRFeHByKGRlcHRoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgICAgdmFyIGlubmVyID0gdG9rZW5CYXNlSW5uZXIoc3RyZWFtLCBzdGF0ZSlcbiAgICAgICAgICBpZiAoaW5uZXIgPT0gXCJwdW5jdHVhdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmN1cnJlbnQoKSA9PSBcIntcIikge1xuICAgICAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuTmVzdGVkRXhwcihkZXB0aCArIDEpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5jdXJyZW50KCkgPT0gXCJ9XCIpIHtcbiAgICAgICAgICAgICAgaWYgKGRlcHRoID4gMSkgc3RhdGUudG9rZW5pemUgPSB0b2tlbk5lc3RlZEV4cHIoZGVwdGggLSAxKVxuICAgICAgICAgICAgICBlbHNlIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGlubmVyXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdG9rZW5TdHJpbmcoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICB3aGlsZSAoIXN0cmVhbS5lb2woKSkge1xuICAgICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW14nXCJcXHtcXH1cXFxcXS8pO1xuICAgICAgICAgIGlmIChzdHJlYW0uZWF0KFwiXFxcXFwiKSkge1xuICAgICAgICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChzaW5nbGVsaW5lICYmIHN0cmVhbS5lb2woKSlcbiAgICAgICAgICAgICAgcmV0dXJuIE9VVENMQVNTO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKGRlbGltaXRlcikpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5PdXRlcjtcbiAgICAgICAgICAgIHJldHVybiBPVVRDTEFTUztcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgne3snKSkge1xuICAgICAgICAgICAgLy8gaWdub3JlIHt7IGluIGYtc3RyXG4gICAgICAgICAgICByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goJ3snLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIC8vIHN3aXRjaCB0byBuZXN0ZWQgbW9kZVxuICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbk5lc3RlZEV4cHIoMClcbiAgICAgICAgICAgIGlmIChzdHJlYW0uY3VycmVudCgpKSByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICAgICAgICBlbHNlIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKCd9fScpKSB7XG4gICAgICAgICAgICByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgLy8gc2luZ2xlIH0gaW4gZi1zdHJpbmcgaXMgYW4gZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBFUlJPUkNMQVNTO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJlYW0uZWF0KC9bJ1wiXS8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2luZ2xlbGluZSkge1xuICAgICAgICAgIGlmIChwYXJzZXJDb25mLnNpbmdsZUxpbmVTdHJpbmdFcnJvcnMpXG4gICAgICAgICAgICByZXR1cm4gRVJST1JDTEFTUztcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuT3V0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9VVENMQVNTO1xuICAgICAgfVxuICAgICAgdG9rZW5TdHJpbmcuaXNTdHJpbmcgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRva2VuU3RyaW5nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRva2VuU3RyaW5nRmFjdG9yeShkZWxpbWl0ZXIsIHRva2VuT3V0ZXIpIHtcbiAgICAgIHdoaWxlIChcInJ1YmZcIi5pbmRleE9mKGRlbGltaXRlci5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSkgPj0gMClcbiAgICAgICAgZGVsaW1pdGVyID0gZGVsaW1pdGVyLnN1YnN0cigxKTtcblxuICAgICAgdmFyIHNpbmdsZWxpbmUgPSBkZWxpbWl0ZXIubGVuZ3RoID09IDE7XG4gICAgICB2YXIgT1VUQ0xBU1MgPSBcInN0cmluZ1wiO1xuXG4gICAgICBmdW5jdGlvbiB0b2tlblN0cmluZyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXidcIlxcXFxdLyk7XG4gICAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCJcXFxcXCIpKSB7XG4gICAgICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgICAgICAgaWYgKHNpbmdsZWxpbmUgJiYgc3RyZWFtLmVvbCgpKVxuICAgICAgICAgICAgICByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goZGVsaW1pdGVyKSkge1xuICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbk91dGVyO1xuICAgICAgICAgICAgcmV0dXJuIE9VVENMQVNTO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJlYW0uZWF0KC9bJ1wiXS8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2luZ2xlbGluZSkge1xuICAgICAgICAgIGlmIChwYXJzZXJDb25mLnNpbmdsZUxpbmVTdHJpbmdFcnJvcnMpXG4gICAgICAgICAgICByZXR1cm4gRVJST1JDTEFTUztcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuT3V0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9VVENMQVNTO1xuICAgICAgfVxuICAgICAgdG9rZW5TdHJpbmcuaXNTdHJpbmcgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRva2VuU3RyaW5nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1c2hQeVNjb3BlKHN0YXRlKSB7XG4gICAgICB3aGlsZSAodG9wKHN0YXRlKS50eXBlICE9IFwicHlcIikgc3RhdGUuc2NvcGVzLnBvcCgpXG4gICAgICBzdGF0ZS5zY29wZXMucHVzaCh7b2Zmc2V0OiB0b3Aoc3RhdGUpLm9mZnNldCArIGNvbmYuaW5kZW50VW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInB5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ246IG51bGx9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1c2hCcmFja2V0U2NvcGUoc3RyZWFtLCBzdGF0ZSwgdHlwZSkge1xuICAgICAgdmFyIGFsaWduID0gc3RyZWFtLm1hdGNoKC9eKFtcXHNcXFtcXHtcXChdfCMuKikqJC8sIGZhbHNlKSA/IG51bGwgOiBzdHJlYW0uY29sdW1uKCkgKyAxXG4gICAgICBzdGF0ZS5zY29wZXMucHVzaCh7b2Zmc2V0OiBzdGF0ZS5pbmRlbnQgKyBoYW5naW5nSW5kZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ246IGFsaWdufSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWRlbnQoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIGluZGVudGVkID0gc3RyZWFtLmluZGVudGF0aW9uKCk7XG4gICAgICB3aGlsZSAoc3RhdGUuc2NvcGVzLmxlbmd0aCA+IDEgJiYgdG9wKHN0YXRlKS5vZmZzZXQgPiBpbmRlbnRlZCkge1xuICAgICAgICBpZiAodG9wKHN0YXRlKS50eXBlICE9IFwicHlcIikgcmV0dXJuIHRydWU7XG4gICAgICAgIHN0YXRlLnNjb3Blcy5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3Aoc3RhdGUpLm9mZnNldCAhPSBpbmRlbnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2tlbkxleGVyKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIGlmIChzdHJlYW0uc29sKCkpIHN0YXRlLmJlZ2lubmluZ09mTGluZSA9IHRydWU7XG5cbiAgICAgIHZhciBzdHlsZSA9IHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgdmFyIGN1cnJlbnQgPSBzdHJlYW0uY3VycmVudCgpO1xuXG4gICAgICAvLyBIYW5kbGUgZGVjb3JhdG9yc1xuICAgICAgaWYgKHN0YXRlLmJlZ2lubmluZ09mTGluZSAmJiBjdXJyZW50ID09IFwiQFwiKVxuICAgICAgICByZXR1cm4gc3RyZWFtLm1hdGNoKGlkZW50aWZpZXJzLCBmYWxzZSkgPyBcIm1ldGFcIiA6IHB5MyA/IFwib3BlcmF0b3JcIiA6IEVSUk9SQ0xBU1M7XG5cbiAgICAgIGlmICgvXFxTLy50ZXN0KGN1cnJlbnQpKSBzdGF0ZS5iZWdpbm5pbmdPZkxpbmUgPSBmYWxzZTtcblxuICAgICAgaWYgKChzdHlsZSA9PSBcInZhcmlhYmxlXCIgfHwgc3R5bGUgPT0gXCJidWlsdGluXCIpXG4gICAgICAgICAgJiYgc3RhdGUubGFzdFRva2VuID09IFwibWV0YVwiKVxuICAgICAgICBzdHlsZSA9IFwibWV0YVwiO1xuXG4gICAgICAvLyBIYW5kbGUgc2NvcGUgY2hhbmdlcy5cbiAgICAgIGlmIChjdXJyZW50ID09IFwicGFzc1wiIHx8IGN1cnJlbnQgPT0gXCJyZXR1cm5cIilcbiAgICAgICAgc3RhdGUuZGVkZW50ICs9IDE7XG5cbiAgICAgIGlmIChjdXJyZW50ID09IFwibGFtYmRhXCIpIHN0YXRlLmxhbWJkYSA9IHRydWU7XG4gICAgICBpZiAoY3VycmVudCA9PSBcIjpcIiAmJiAhc3RhdGUubGFtYmRhICYmIHRvcChzdGF0ZSkudHlwZSA9PSBcInB5XCIpXG4gICAgICAgIHB1c2hQeVNjb3BlKHN0YXRlKTtcblxuICAgICAgaWYgKGN1cnJlbnQubGVuZ3RoID09IDEgJiYgIS9zdHJpbmd8Y29tbWVudC8udGVzdChzdHlsZSkpIHtcbiAgICAgICAgdmFyIGRlbGltaXRlcl9pbmRleCA9IFwiWyh7XCIuaW5kZXhPZihjdXJyZW50KTtcbiAgICAgICAgaWYgKGRlbGltaXRlcl9pbmRleCAhPSAtMSlcbiAgICAgICAgICBwdXNoQnJhY2tldFNjb3BlKHN0cmVhbSwgc3RhdGUsIFwiXSl9XCIuc2xpY2UoZGVsaW1pdGVyX2luZGV4LCBkZWxpbWl0ZXJfaW5kZXgrMSkpO1xuXG4gICAgICAgIGRlbGltaXRlcl9pbmRleCA9IFwiXSl9XCIuaW5kZXhPZihjdXJyZW50KTtcbiAgICAgICAgaWYgKGRlbGltaXRlcl9pbmRleCAhPSAtMSkge1xuICAgICAgICAgIGlmICh0b3Aoc3RhdGUpLnR5cGUgPT0gY3VycmVudCkgc3RhdGUuaW5kZW50ID0gc3RhdGUuc2NvcGVzLnBvcCgpLm9mZnNldCAtIGhhbmdpbmdJbmRlbnRcbiAgICAgICAgICBlbHNlIHJldHVybiBFUlJPUkNMQVNTO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuZGVkZW50ID4gMCAmJiBzdHJlYW0uZW9sKCkgJiYgdG9wKHN0YXRlKS50eXBlID09IFwicHlcIikge1xuICAgICAgICBpZiAoc3RhdGUuc2NvcGVzLmxlbmd0aCA+IDEpIHN0YXRlLnNjb3Blcy5wb3AoKTtcbiAgICAgICAgc3RhdGUuZGVkZW50IC09IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICB2YXIgZXh0ZXJuYWwgPSB7XG4gICAgICBzdGFydFN0YXRlOiBmdW5jdGlvbihiYXNlY29sdW1uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW5pemU6IHRva2VuQmFzZSxcbiAgICAgICAgICBzY29wZXM6IFt7b2Zmc2V0OiBiYXNlY29sdW1uIHx8IDAsIHR5cGU6IFwicHlcIiwgYWxpZ246IG51bGx9XSxcbiAgICAgICAgICBpbmRlbnQ6IGJhc2Vjb2x1bW4gfHwgMCxcbiAgICAgICAgICBsYXN0VG9rZW46IG51bGwsXG4gICAgICAgICAgbGFtYmRhOiBmYWxzZSxcbiAgICAgICAgICBkZWRlbnQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHZhciBhZGRFcnIgPSBzdGF0ZS5lcnJvclRva2VuO1xuICAgICAgICBpZiAoYWRkRXJyKSBzdGF0ZS5lcnJvclRva2VuID0gZmFsc2U7XG4gICAgICAgIHZhciBzdHlsZSA9IHRva2VuTGV4ZXIoc3RyZWFtLCBzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0eWxlICYmIHN0eWxlICE9IFwiY29tbWVudFwiKVxuICAgICAgICAgIHN0YXRlLmxhc3RUb2tlbiA9IChzdHlsZSA9PSBcImtleXdvcmRcIiB8fCBzdHlsZSA9PSBcInB1bmN0dWF0aW9uXCIpID8gc3RyZWFtLmN1cnJlbnQoKSA6IHN0eWxlO1xuICAgICAgICBpZiAoc3R5bGUgPT0gXCJwdW5jdHVhdGlvblwiKSBzdHlsZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHN0cmVhbS5lb2woKSAmJiBzdGF0ZS5sYW1iZGEpXG4gICAgICAgICAgc3RhdGUubGFtYmRhID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBhZGRFcnIgPyBzdHlsZSArIFwiIFwiICsgRVJST1JDTEFTUyA6IHN0eWxlO1xuICAgICAgfSxcblxuICAgICAgaW5kZW50OiBmdW5jdGlvbihzdGF0ZSwgdGV4dEFmdGVyKSB7XG4gICAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSAhPSB0b2tlbkJhc2UpXG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplLmlzU3RyaW5nID8gQ29kZU1pcnJvci5QYXNzIDogMDtcblxuICAgICAgICB2YXIgc2NvcGUgPSB0b3Aoc3RhdGUpLCBjbG9zaW5nID0gc2NvcGUudHlwZSA9PSB0ZXh0QWZ0ZXIuY2hhckF0KDApXG4gICAgICAgIGlmIChzY29wZS5hbGlnbiAhPSBudWxsKVxuICAgICAgICAgIHJldHVybiBzY29wZS5hbGlnbiAtIChjbG9zaW5nID8gMSA6IDApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gc2NvcGUub2Zmc2V0IC0gKGNsb3NpbmcgPyBoYW5naW5nSW5kZW50IDogMClcbiAgICAgIH0sXG5cbiAgICAgIGVsZWN0cmljSW5wdXQ6IC9eXFxzKltcXH1cXF1cXCldJC8sXG4gICAgICBjbG9zZUJyYWNrZXRzOiB7dHJpcGxlczogXCInXFxcIlwifSxcbiAgICAgIGxpbmVDb21tZW50OiBcIiNcIixcbiAgICAgIGZvbGQ6IFwiaW5kZW50XCJcbiAgICB9O1xuICAgIHJldHVybiBleHRlcm5hbDtcbiAgfSk7XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC94LXB5dGhvblwiLCBcInB5dGhvblwiKTtcblxuICB2YXIgd29yZHMgPSBmdW5jdGlvbihzdHIpIHsgcmV0dXJuIHN0ci5zcGxpdChcIiBcIik7IH07XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC94LWN5dGhvblwiLCB7XG4gICAgbmFtZTogXCJweXRob25cIixcbiAgICBleHRyYV9rZXl3b3Jkczogd29yZHMoXCJieSBjZGVmIGNpbXBvcnQgY3BkZWYgY3R5cGVkZWYgZW51bSBleGNlcHQgXCIrXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXh0ZXJuIGdpbCBpbmNsdWRlIG5vZ2lsIHByb3BlcnR5IHB1YmxpYyBcIitcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWFkb25seSBzdHJ1Y3QgdW5pb24gREVGIElGIEVMSUYgRUxTRVwiKVxuICB9KTtcblxufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9