(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{"./node_modules/codemirror/mode/verilog/verilog.js":function(e,t,n){!function(e){"use strict";e.defineMode("verilog",(function(t,n){var i=t.indentUnit,r=n.statementIndentUnit||i,a=n.dontAlignCalls,o=n.noIndentKeywords||[],l=n.multiLineStrings,s=n.hooks||{};function c(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}var d,u,f=c("accept_on alias always always_comb always_ff always_latch and assert assign assume automatic before begin bind bins binsof bit break buf bufif0 bufif1 byte case casex casez cell chandle checker class clocking cmos config const constraint context continue cover covergroup coverpoint cross deassign default defparam design disable dist do edge else end endcase endchecker endclass endclocking endconfig endfunction endgenerate endgroup endinterface endmodule endpackage endprimitive endprogram endproperty endspecify endsequence endtable endtask enum event eventually expect export extends extern final first_match for force foreach forever fork forkjoin function generate genvar global highz0 highz1 if iff ifnone ignore_bins illegal_bins implements implies import incdir include initial inout input inside instance int integer interconnect interface intersect join join_any join_none large let liblist library local localparam logic longint macromodule matches medium modport module nand negedge nettype new nexttime nmos nor noshowcancelled not notif0 notif1 null or output package packed parameter pmos posedge primitive priority program property protected pull0 pull1 pulldown pullup pulsestyle_ondetect pulsestyle_onevent pure rand randc randcase randsequence rcmos real realtime ref reg reject_on release repeat restrict return rnmos rpmos rtran rtranif0 rtranif1 s_always s_eventually s_nexttime s_until s_until_with scalared sequence shortint shortreal showcancelled signed small soft solve specify specparam static string strong strong0 strong1 struct super supply0 supply1 sync_accept_on sync_reject_on table tagged task this throughout time timeprecision timeunit tran tranif0 tranif1 tri tri0 tri1 triand trior trireg type typedef union unique unique0 unsigned until until_with untyped use uwire var vectored virtual void wait wait_order wand weak weak0 weak1 while wildcard wire with within wor xnor xor"),m=/[\+\-\*\/!~&|^%=?:]/,p=/[\[\]{}()]/,v=/\d[0-9_]*/,g=/\d*\s*'s?d\s*\d[0-9_]*/i,h=/\d*\s*'s?b\s*[xz01][xz01_]*/i,k=/\d*\s*'s?o\s*[xz0-7][xz0-7_]*/i,y=/\d*\s*'s?h\s*[0-9a-fxz?][0-9a-fxz?_]*/i,b=/(\d[\d_]*(\.\d[\d_]*)?E-?[\d_]+)|(\d[\d_]*\.\d[\d_]*)/i,w=/^((\w+)|[)}\]])/,_=/[)}\]]/,x=c("case checker class clocking config function generate interface module package primitive program property specify sequence table task"),I={};for(var z in x)I[z]="end"+z;for(var C in I.begin="end",I.casex="endcase",I.casez="endcase",I.do="while",I.fork="join;join_any;join_none",I.covergroup="endgroup",o)z=o[C],I[z]&&(I[z]=void 0);var S=c("always always_comb always_ff always_latch assert assign assume else export for foreach forever if import initial repeat while");function j(e,t){var n,i,r=e.peek();if(s[r]&&0!=(n=s[r](e,t)))return n;if(s.tokenBase&&0!=(n=s.tokenBase(e,t)))return n;if(/[,;:\.]/.test(r))return d=e.next(),null;if(p.test(r))return d=e.next(),"bracket";if("`"==r)return e.next(),e.eatWhile(/[\w\$_]/)?"def":null;if("$"==r)return e.next(),e.eatWhile(/[\w\$_]/)?"meta":null;if("#"==r)return e.next(),e.eatWhile(/[\d_.]/),"def";if('"'==r)return e.next(),t.tokenize=(i=r,function(e,t){for(var n,r=!1,a=!1;null!=(n=e.next());){if(n==i&&!r){a=!0;break}r=!r&&"\\"==n}return(a||!r&&!l)&&(t.tokenize=j),"string"}),t.tokenize(e,t);if("/"==r){if(e.next(),e.eat("*"))return t.tokenize=E,E(e,t);if(e.eat("/"))return e.skipToEnd(),"comment";e.backUp(1)}if(e.match(b)||e.match(g)||e.match(h)||e.match(k)||e.match(y)||e.match(v)||e.match(b))return"number";if(e.eatWhile(m))return"meta";if(e.eatWhile(/[\w\$_]/)){var a=e.current();return f[a]?(I[a]&&(d="newblock"),S[a]&&(d="newstatement"),u=a,"keyword"):"variable"}return e.next(),null}function E(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=j;break}i="*"==n}return"comment"}function $(e,t,n,i,r){this.indented=e,this.column=t,this.type=n,this.align=i,this.prev=r}function A(e,t,n){var i=new $(e.indented,t,n,null,e.context);return e.context=i}function M(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function q(e,t){if(e==t)return!0;var n=t.split(";");for(var i in n)if(e==n[i])return!0;return!1}return{electricInput:function(){var e=[];for(var t in I)if(I[t]){var n=I[t].split(";");for(var i in n)e.push(n[i])}return new RegExp("[{}()\\[\\]]|("+e.join("|")+")$")}(),startState:function(e){var t={tokenize:null,context:new $((e||0)-i,0,"top",!1),indented:0,startOfLine:!0};return s.startState&&s.startState(t),t},token:function(e,t){var n,i=t.context;if(e.sol()&&(null==i.align&&(i.align=!1),t.indented=e.indentation(),t.startOfLine=!0),s.token&&void 0!==(n=s.token(e,t)))return n;if(e.eatSpace())return null;if(d=null,u=null,"comment"==(n=(t.tokenize||j)(e,t))||"meta"==n||"variable"==n)return n;if(null==i.align&&(i.align=!0),d==i.type)M(t);else if(";"==d&&"statement"==i.type||i.type&&q(u,i.type))for(i=M(t);i&&"statement"==i.type;)i=M(t);else if("{"==d)A(t,e.column(),"}");else if("["==d)A(t,e.column(),"]");else if("("==d)A(t,e.column(),")");else if(i&&"endcase"==i.type&&":"==d)A(t,e.column(),"statement");else if("newstatement"==d)A(t,e.column(),"statement");else if("newblock"==d&&("function"!=u||!i||"statement"!=i.type&&"endgroup"!=i.type))if("task"==u&&i&&"statement"==i.type);else{var r=I[u];A(t,e.column(),r)}return t.startOfLine=!1,n},indent:function(t,n){if(t.tokenize!=j&&null!=t.tokenize)return e.Pass;if(s.indent){var o=s.indent(t);if(o>=0)return o}var l=t.context,c=n&&n.charAt(0);"statement"==l.type&&"}"==c&&(l=l.prev);var d=!1,u=n.match(w);return u&&(d=q(u[0],l.type)),"statement"==l.type?l.indented+("{"==c?0:r):_.test(l.type)&&l.align&&!a?l.column+(d?0:1):")"!=l.type||d?l.indented+(d?0:i):l.indented+r},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}})),e.defineMIME("text/x-verilog",{name:"verilog"}),e.defineMIME("text/x-systemverilog",{name:"verilog"});var t={"|":"link",">":"property",$:"variable",$$:"variable","?$":"qualifier","?*":"qualifier","-":"hr","/":"property","/-":"property","@":"variable-3","@-":"variable-3","@++":"variable-3","@+=":"variable-3","@+=-":"variable-3","@--":"variable-3","@-=":"variable-3","%+":"tag","%-":"tag","%":"tag",">>":"tag","<<":"tag","<>":"tag","#":"tag","^":"attribute","^^":"attribute","^!":"attribute","*":"variable-2","**":"variable-2","\\":"keyword",'"':"comment"},n={"/":"beh-hier",">":"beh-hier","-":"phys-hier","|":"pipe","?":"when","@":"stage","\\":"keyword"},i=3,r=/^([~!@#\$%\^&\*-\+=\?\/\\\|'"<>]+)([\d\w_]*)/,a=/^[! ]  /,o=/^[! ] */,l=/^\/[\/\*]/;function s(e,t,n){var r=t/i;return"tlv-"+e.tlvIndentationStyle[r]+"-"+n}e.defineMIME("text/x-tlv",{name:"verilog",hooks:{electricInput:!1,token:function(e,c){var d=void 0;if(e.sol()&&!c.tlvInBlockComment){"\\"==e.peek()&&(d="def",e.skipToEnd(),e.string.match(/\\SV/)?c.tlvCodeActive=!1:e.string.match(/\\TLV/)&&(c.tlvCodeActive=!0)),c.tlvCodeActive&&0==e.pos&&0==c.indented&&(h=e.match(o,!1))&&(c.indented=h[0].length);var u=c.indented,f=u/i;if(f<=c.tlvIndentationStyle.length){var m=e.string.length==u,p=f*i;if(p<e.string.length){var v=e.string.slice(p),g=v[0];n[g]&&(h=v.match(r))&&t[h[1]]&&(u+=i,"\\"==g&&p>0||(c.tlvIndentationStyle[f]=n[g],f++))}if(!m)for(;c.tlvIndentationStyle.length>f;)c.tlvIndentationStyle.pop()}c.tlvNextIndent=u}if(c.tlvCodeActive){var h,k=!1;if(void 0!==d)d+=" "+s(c,0,"scope-ident");else if(e.pos/i<c.tlvIndentationStyle.length&&(h=e.match(e.sol()?a:/^   /)))d="tlv-indent-"+(e.pos%2==0?"even":"odd")+" "+s(c,e.pos-i,"indent"),"!"==h[0].charAt(0)&&(d+=" tlv-alert-line-prefix"),function(e){var t;return(t=e.match(r,!1))&&t[2].length>0}(e)&&(d+=" "+s(c,e.pos,"before-scope-ident"));else if(c.tlvInBlockComment)e.match(/^.*?\*\//)?c.tlvInBlockComment=!1:e.skipToEnd(),d="comment";else if((h=e.match(l))&&!c.tlvInBlockComment)"//"==h[0]?e.skipToEnd():c.tlvInBlockComment=!0,d="comment";else if(h=e.match(r)){var y=h[1],b=h[2];t.hasOwnProperty(y)&&(b.length>0||e.eol())?(d=t[y],e.column()==c.indented&&(d+=" "+s(c,e.column(),"scope-ident"))):(e.backUp(e.current().length-1),d="tlv-default")}else e.match(/^\t+/)?d="tlv-tab":e.match(/^[\[\]{}\(\);\:]+/)?d="meta":(h=e.match(/^[mM]4([\+_])?[\w\d_]*/))?d="+"==h[1]?"tlv-m4-plus":"tlv-m4":e.match(/^ +/)?d=e.eol()?"error":"tlv-default":e.match(/^[\w\d_]+/)?d="number":(e.next(),d="tlv-default");k&&(d+=" tlv-statement")}else e.match(/^[mM]4([\w\d_]*)/)&&(d="tlv-m4");return d},indent:function(e){return 1==e.tlvCodeActive?e.tlvNextIndent:-1},startState:function(e){e.tlvIndentationStyle=[],e.tlvCodeActive=!0,e.tlvNextIndent=-1,e.tlvInBlockComment=!1}}})}(n("./node_modules/codemirror/lib/codemirror.js"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL3Zlcmlsb2cvdmVyaWxvZy5qcyJdLCJuYW1lcyI6WyJDb2RlTWlycm9yIiwiZGVmaW5lTW9kZSIsImNvbmZpZyIsInBhcnNlckNvbmZpZyIsImluZGVudFVuaXQiLCJzdGF0ZW1lbnRJbmRlbnRVbml0IiwiZG9udEFsaWduQ2FsbHMiLCJub0luZGVudEtleXdvcmRzIiwibXVsdGlMaW5lU3RyaW5ncyIsImhvb2tzIiwid29yZHMiLCJzdHIiLCJvYmoiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJjdXJQdW5jIiwiY3VyS2V5d29yZCIsImtleXdvcmRzIiwiaXNPcGVyYXRvckNoYXIiLCJpc0JyYWNrZXRDaGFyIiwidW5zaWduZWROdW1iZXIiLCJkZWNpbWFsTGl0ZXJhbCIsImJpbmFyeUxpdGVyYWwiLCJvY3RMaXRlcmFsIiwiaGV4TGl0ZXJhbCIsInJlYWxMaXRlcmFsIiwiY2xvc2luZ0JyYWNrZXRPcldvcmQiLCJjbG9zaW5nQnJhY2tldCIsImJsb2NrS2V5d29yZHMiLCJvcGVuQ2xvc2UiLCJrZXl3b3JkIiwidW5kZWZpbmVkIiwic3RhdGVtZW50S2V5d29yZHMiLCJ0b2tlbkJhc2UiLCJzdHJlYW0iLCJzdGF0ZSIsInN0eWxlIiwicXVvdGUiLCJjaCIsInBlZWsiLCJ0ZXN0IiwibmV4dCIsImVhdFdoaWxlIiwidG9rZW5pemUiLCJlc2NhcGVkIiwiZW5kIiwiZWF0IiwidG9rZW5Db21tZW50Iiwic2tpcFRvRW5kIiwiYmFja1VwIiwibWF0Y2giLCJjdXIiLCJjdXJyZW50IiwibWF5YmVFbmQiLCJDb250ZXh0IiwiaW5kZW50ZWQiLCJjb2x1bW4iLCJ0eXBlIiwiYWxpZ24iLCJwcmV2IiwidGhpcyIsInB1c2hDb250ZXh0IiwiY29sIiwiYyIsImNvbnRleHQiLCJwb3BDb250ZXh0IiwidCIsImlzQ2xvc2luZyIsInRleHQiLCJjb250ZXh0Q2xvc2luZyIsImNsb3NpbmdLZXl3b3JkcyIsImVsZWN0cmljSW5wdXQiLCJhbGxDbG9zaW5ncyIsImNsb3NpbmdzIiwiaiIsInB1c2giLCJSZWdFeHAiLCJqb2luIiwiYnVpbGRFbGVjdHJpY0lucHV0UmVnRXgiLCJzdGFydFN0YXRlIiwiYmFzZWNvbHVtbiIsInN0YXJ0T2ZMaW5lIiwidG9rZW4iLCJjdHgiLCJzb2wiLCJpbmRlbnRhdGlvbiIsImVhdFNwYWNlIiwiY2xvc2UiLCJpbmRlbnQiLCJ0ZXh0QWZ0ZXIiLCJQYXNzIiwiZnJvbUhvb2siLCJmaXJzdENoYXIiLCJjaGFyQXQiLCJjbG9zaW5nIiwicG9zc2libGVDbG9zaW5nIiwiYmxvY2tDb21tZW50U3RhcnQiLCJibG9ja0NvbW1lbnRFbmQiLCJsaW5lQ29tbWVudCIsImRlZmluZU1JTUUiLCJuYW1lIiwidGx2SWRlbnRpZmllclN0eWxlIiwiXCIiLCJ0bHZTY29wZVByZWZpeENoYXJzIiwidGx2SW5kZW50VW5pdCIsInRsdklkZW50TWF0Y2giLCJ0bHZGaXJzdExldmVsSW5kZW50TWF0Y2giLCJ0bHZMaW5lSW5kZW50YXRpb25NYXRjaCIsInRsdkNvbW1lbnRNYXRjaCIsInRsdlNjb3BlU3R5bGUiLCJkZXB0aCIsInRsdkluZGVudGF0aW9uU3R5bGUiLCJ0bHZJbkJsb2NrQ29tbWVudCIsInN0cmluZyIsInRsdkNvZGVBY3RpdmUiLCJwb3MiLCJibGFua2xpbmUiLCJjaFBvcyIsImJvZHlTdHJpbmciLCJzbGljZSIsInBvcCIsInRsdk5leHRJbmRlbnQiLCJiZWdpblN0YXRlbWVudCIsInRsdklkZW50TmV4dCIsInByZWZpeCIsIm1uZW1vbmljIiwiaGFzT3duUHJvcGVydHkiLCJlb2wiLCJtb2QiXSwibWFwcGluZ3MiOiJnSUFVRyxTQUFTQSxHQUNaLGFBRUFBLEVBQVdDLFdBQVcsV0FBVyxTQUFTQyxFQUFRQyxHQUVoRCxJQUFJQyxFQUFhRixFQUFPRSxXQUNwQkMsRUFBc0JGLEVBQWFFLHFCQUF1QkQsRUFDMURFLEVBQWlCSCxFQUFhRyxlQUM5QkMsRUFBbUJKLEVBQWFJLGtC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QVFpRSxFQUFtQnVCLEdBQ3ZCMUYsRUFBT3NCLFVBQVlyQixFQUFNb0IsV0FFM0JuQixHQUFTLElBQU15RSxFQUFjMUUsRUFBT0QsRUFBT3NCLFNBQVUsa0JBT3ZEdEIsRUFBT2UsT0FBT2YsRUFBT2tCLFVBQVV0QyxPQUFTLEdBQ3hDc0IsRUFBUSxvQkFFREYsRUFBT2dCLE1BQU0sUUFFdEJkLEVBQVEsVUFDQ0YsRUFBT2dCLE1BQU0scUJBRXRCZCxFQUFRLFFBQ0NjLEVBQVFoQixFQUFPZ0IsTUFBTSwyQkFFOUJkLEVBQXFCLEtBQVpjLEVBQU0sR0FBYSxjQUFnQixTQUNuQ2hCLEVBQU9nQixNQUFNLE9BSXBCZCxFQUZFRixFQUFPNkYsTUFFRCxRQUdBLGNBRUQ3RixFQUFPZ0IsTUFBTSxhQUV0QmQsRUFBUSxVQUdSRixFQUFPTyxPQUNQTCxFQUFRLGVBRU5zRixJQUNGdEYsR0FBUyx1QkFHUEYsRUFBT2dCLE1BQU0sc0JBRWZkLEVBQVEsVUFHWixPQUFPQSxHQUdUb0QsT0FBUSxTQUFTckQsR0FDZixPQUErQixHQUF2QkEsRUFBTStFLGNBQXlCL0UsRUFBTXNGLGVBQWlCLEdBR2hFMUMsV0FBWSxTQUFTNUMsR0FDbkJBLEVBQU00RSxvQkFBc0IsR0FDNUI1RSxFQUFNK0UsZUFBZ0IsRUFDdEIvRSxFQUFNc0YsZUFBaUIsRUFDdkJ0RixFQUFNNkUsbUJBQW9CLE1BcnBCOUJnQixDQUFJLEVBQVEiLCJmaWxlIjoiMTExLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwidmVyaWxvZ1wiLCBmdW5jdGlvbihjb25maWcsIHBhcnNlckNvbmZpZykge1xuXG4gIHZhciBpbmRlbnRVbml0ID0gY29uZmlnLmluZGVudFVuaXQsXG4gICAgICBzdGF0ZW1lbnRJbmRlbnRVbml0ID0gcGFyc2VyQ29uZmlnLnN0YXRlbWVudEluZGVudFVuaXQgfHwgaW5kZW50VW5pdCxcbiAgICAgIGRvbnRBbGlnbkNhbGxzID0gcGFyc2VyQ29uZmlnLmRvbnRBbGlnbkNhbGxzLFxuICAgICAgbm9JbmRlbnRLZXl3b3JkcyA9IHBhcnNlckNvbmZpZy5ub0luZGVudEtleXdvcmRzIHx8IFtdLFxuICAgICAgbXVsdGlMaW5lU3RyaW5ncyA9IHBhcnNlckNvbmZpZy5tdWx0aUxpbmVTdHJpbmdzLFxuICAgICAgaG9va3MgPSBwYXJzZXJDb25maWcuaG9va3MgfHwge307XG5cbiAgZnVuY3Rpb24gd29yZHMoc3RyKSB7XG4gICAgdmFyIG9iaiA9IHt9LCB3b3JkcyA9IHN0ci5zcGxpdChcIiBcIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkgb2JqW3dvcmRzW2ldXSA9IHRydWU7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIC8qKlxuICAgKiBLZXl3b3JkcyBmcm9tIElFRUUgMTgwMC0yMDEyXG4gICAqL1xuICB2YXIga2V5d29yZHMgPSB3b3JkcyhcbiAgICBcImFjY2VwdF9vbiBhbGlhcyBhbHdheXMgYWx3YXlzX2NvbWIgYWx3YXlzX2ZmIGFsd2F5c19sYXRjaCBhbmQgYXNzZXJ0IGFzc2lnbiBhc3N1bWUgYXV0b21hdGljIGJlZm9yZSBiZWdpbiBiaW5kIFwiICtcbiAgICBcImJpbnMgYmluc29mIGJpdCBicmVhayBidWYgYnVmaWYwIGJ1ZmlmMSBieXRlIGNhc2UgY2FzZXggY2FzZXogY2VsbCBjaGFuZGxlIGNoZWNrZXIgY2xhc3MgY2xvY2tpbmcgY21vcyBjb25maWcgXCIgK1xuICAgIFwiY29uc3QgY29uc3RyYWludCBjb250ZXh0IGNvbnRpbnVlIGNvdmVyIGNvdmVyZ3JvdXAgY292ZXJwb2ludCBjcm9zcyBkZWFzc2lnbiBkZWZhdWx0IGRlZnBhcmFtIGRlc2lnbiBkaXNhYmxlIFwiICtcbiAgICBcImRpc3QgZG8gZWRnZSBlbHNlIGVuZCBlbmRjYXNlIGVuZGNoZWNrZXIgZW5kY2xhc3MgZW5kY2xvY2tpbmcgZW5kY29uZmlnIGVuZGZ1bmN0aW9uIGVuZGdlbmVyYXRlIGVuZGdyb3VwIFwiICtcbiAgICBcImVuZGludGVyZmFjZSBlbmRtb2R1bGUgZW5kcGFja2FnZSBlbmRwcmltaXRpdmUgZW5kcHJvZ3JhbSBlbmRwcm9wZXJ0eSBlbmRzcGVjaWZ5IGVuZHNlcXVlbmNlIGVuZHRhYmxlIGVuZHRhc2sgXCIgK1xuICAgIFwiZW51bSBldmVudCBldmVudHVhbGx5IGV4cGVjdCBleHBvcnQgZXh0ZW5kcyBleHRlcm4gZmluYWwgZmlyc3RfbWF0Y2ggZm9yIGZvcmNlIGZvcmVhY2ggZm9yZXZlciBmb3JrIGZvcmtqb2luIFwiICtcbiAgICBcImZ1bmN0aW9uIGdlbmVyYXRlIGdlbnZhciBnbG9iYWwgaGlnaHowIGhpZ2h6MSBpZiBpZmYgaWZub25lIGlnbm9yZV9iaW5zIGlsbGVnYWxfYmlucyBpbXBsZW1lbnRzIGltcGxpZXMgaW1wb3J0IFwiICtcbiAgICBcImluY2RpciBpbmNsdWRlIGluaXRpYWwgaW5vdXQgaW5wdXQgaW5zaWRlIGluc3RhbmNlIGludCBpbnRlZ2VyIGludGVyY29ubmVjdCBpbnRlcmZhY2UgaW50ZXJzZWN0IGpvaW4gam9pbl9hbnkgXCIgK1xuICAgIFwiam9pbl9ub25lIGxhcmdlIGxldCBsaWJsaXN0IGxpYnJhcnkgbG9jYWwgbG9jYWxwYXJhbSBsb2dpYyBsb25naW50IG1hY3JvbW9kdWxlIG1hdGNoZXMgbWVkaXVtIG1vZHBvcnQgbW9kdWxlIFwiICtcbiAgICBcIm5hbmQgbmVnZWRnZSBuZXR0eXBlIG5ldyBuZXh0dGltZSBubW9zIG5vciBub3Nob3djYW5jZWxsZWQgbm90IG5vdGlmMCBub3RpZjEgbnVsbCBvciBvdXRwdXQgcGFja2FnZSBwYWNrZWQgXCIgK1xuICAgIFwicGFyYW1ldGVyIHBtb3MgcG9zZWRnZSBwcmltaXRpdmUgcHJpb3JpdHkgcHJvZ3JhbSBwcm9wZXJ0eSBwcm90ZWN0ZWQgcHVsbDAgcHVsbDEgcHVsbGRvd24gcHVsbHVwIFwiICtcbiAgICBcInB1bHNlc3R5bGVfb25kZXRlY3QgcHVsc2VzdHlsZV9vbmV2ZW50IHB1cmUgcmFuZCByYW5kYyByYW5kY2FzZSByYW5kc2VxdWVuY2UgcmNtb3MgcmVhbCByZWFsdGltZSByZWYgcmVnIFwiICtcbiAgICBcInJlamVjdF9vbiByZWxlYXNlIHJlcGVhdCByZXN0cmljdCByZXR1cm4gcm5tb3MgcnBtb3MgcnRyYW4gcnRyYW5pZjAgcnRyYW5pZjEgc19hbHdheXMgc19ldmVudHVhbGx5IHNfbmV4dHRpbWUgXCIgK1xuICAgIFwic191bnRpbCBzX3VudGlsX3dpdGggc2NhbGFyZWQgc2VxdWVuY2Ugc2hvcnRpbnQgc2hvcnRyZWFsIHNob3djYW5jZWxsZWQgc2lnbmVkIHNtYWxsIHNvZnQgc29sdmUgc3BlY2lmeSBcIiArXG4gICAgXCJzcGVjcGFyYW0gc3RhdGljIHN0cmluZyBzdHJvbmcgc3Ryb25nMCBzdHJvbmcxIHN0cnVjdCBzdXBlciBzdXBwbHkwIHN1cHBseTEgc3luY19hY2NlcHRfb24gc3luY19yZWplY3Rfb24gXCIgK1xuICAgIFwidGFibGUgdGFnZ2VkIHRhc2sgdGhpcyB0aHJvdWdob3V0IHRpbWUgdGltZXByZWNpc2lvbiB0aW1ldW5pdCB0cmFuIHRyYW5pZjAgdHJhbmlmMSB0cmkgdHJpMCB0cmkxIHRyaWFuZCB0cmlvciBcIiArXG4gICAgXCJ0cmlyZWcgdHlwZSB0eXBlZGVmIHVuaW9uIHVuaXF1ZSB1bmlxdWUwIHVuc2lnbmVkIHVudGlsIHVudGlsX3dpdGggdW50eXBlZCB1c2UgdXdpcmUgdmFyIHZlY3RvcmVkIHZpcnR1YWwgdm9pZCBcIiArXG4gICAgXCJ3YWl0IHdhaXRfb3JkZXIgd2FuZCB3ZWFrIHdlYWswIHdlYWsxIHdoaWxlIHdpbGRjYXJkIHdpcmUgd2l0aCB3aXRoaW4gd29yIHhub3IgeG9yXCIpO1xuXG4gIC8qKiBPcGVyYXRvcnMgZnJvbSBJRUVFIDE4MDAtMjAxMlxuICAgICB1bmFyeV9vcGVyYXRvciA6Oj1cbiAgICAgICArIHwgLSB8ICEgfCB+IHwgJiB8IH4mIHwgfCB8IH58IHwgXiB8IH5eIHwgXn5cbiAgICAgYmluYXJ5X29wZXJhdG9yIDo6PVxuICAgICAgICsgfCAtIHwgKiB8IC8gfCAlIHwgPT0gfCAhPSB8ID09PSB8ICE9PSB8ID09PyB8ICE9PyB8ICYmIHwgfHwgfCAqKlxuICAgICAgIHwgPCB8IDw9IHwgPiB8ID49IHwgJiB8IHwgfCBeIHwgXn4gfCB+XiB8ID4+IHwgPDwgfCA+Pj4gfCA8PDxcbiAgICAgICB8IC0+IHwgPC0+XG4gICAgIGluY19vcl9kZWNfb3BlcmF0b3IgOjo9ICsrIHwgLS1cbiAgICAgdW5hcnlfbW9kdWxlX3BhdGhfb3BlcmF0b3IgOjo9XG4gICAgICAgISB8IH4gfCAmIHwgfiYgfCB8IHwgfnwgfCBeIHwgfl4gfCBeflxuICAgICBiaW5hcnlfbW9kdWxlX3BhdGhfb3BlcmF0b3IgOjo9XG4gICAgICAgPT0gfCAhPSB8ICYmIHwgfHwgfCAmIHwgfCB8IF4gfCBefiB8IH5eXG4gICovXG4gIHZhciBpc09wZXJhdG9yQ2hhciA9IC9bXFwrXFwtXFwqXFwvIX4mfF4lPT86XS87XG4gIHZhciBpc0JyYWNrZXRDaGFyID0gL1tcXFtcXF17fSgpXS87XG5cbiAgdmFyIHVuc2lnbmVkTnVtYmVyID0gL1xcZFswLTlfXSovO1xuICB2YXIgZGVjaW1hbExpdGVyYWwgPSAvXFxkKlxccyoncz9kXFxzKlxcZFswLTlfXSovaTtcbiAgdmFyIGJpbmFyeUxpdGVyYWwgPSAvXFxkKlxccyoncz9iXFxzKlt4ejAxXVt4ejAxX10qL2k7XG4gIHZhciBvY3RMaXRlcmFsID0gL1xcZCpcXHMqJ3M/b1xccypbeHowLTddW3h6MC03X10qL2k7XG4gIHZhciBoZXhMaXRlcmFsID0gL1xcZCpcXHMqJ3M/aFxccypbMC05YS1meHo/XVswLTlhLWZ4ej9fXSovaTtcbiAgdmFyIHJlYWxMaXRlcmFsID0gLyhcXGRbXFxkX10qKFxcLlxcZFtcXGRfXSopP0UtP1tcXGRfXSspfChcXGRbXFxkX10qXFwuXFxkW1xcZF9dKikvaTtcblxuICB2YXIgY2xvc2luZ0JyYWNrZXRPcldvcmQgPSAvXigoXFx3Kyl8Wyl9XFxdXSkvO1xuICB2YXIgY2xvc2luZ0JyYWNrZXQgPSAvWyl9XFxdXS87XG5cbiAgdmFyIGN1clB1bmM7XG4gIHZhciBjdXJLZXl3b3JkO1xuXG4gIC8vIEJsb2NrIG9wZW5pbmdzIHdoaWNoIGFyZSBjbG9zZWQgYnkgYSBtYXRjaGluZyBrZXl3b3JkIGluIHRoZSBmb3JtIG9mIChcImVuZFwiICsga2V5d29yZClcbiAgLy8gRS5nLiBcInRhc2tcIiA9PiBcImVuZHRhc2tcIlxuICB2YXIgYmxvY2tLZXl3b3JkcyA9IHdvcmRzKFxuICAgIFwiY2FzZSBjaGVja2VyIGNsYXNzIGNsb2NraW5nIGNvbmZpZyBmdW5jdGlvbiBnZW5lcmF0ZSBpbnRlcmZhY2UgbW9kdWxlIHBhY2thZ2UgXCIgK1xuICAgIFwicHJpbWl0aXZlIHByb2dyYW0gcHJvcGVydHkgc3BlY2lmeSBzZXF1ZW5jZSB0YWJsZSB0YXNrXCJcbiAgKTtcblxuICAvLyBPcGVuaW5nL2Nsb3NpbmcgcGFpcnNcbiAgdmFyIG9wZW5DbG9zZSA9IHt9O1xuICBmb3IgKHZhciBrZXl3b3JkIGluIGJsb2NrS2V5d29yZHMpIHtcbiAgICBvcGVuQ2xvc2Vba2V5d29yZF0gPSBcImVuZFwiICsga2V5d29yZDtcbiAgfVxuICBvcGVuQ2xvc2VbXCJiZWdpblwiXSA9IFwiZW5kXCI7XG4gIG9wZW5DbG9zZVtcImNhc2V4XCJdID0gXCJlbmRjYXNlXCI7XG4gIG9wZW5DbG9zZVtcImNhc2V6XCJdID0gXCJlbmRjYXNlXCI7XG4gIG9wZW5DbG9zZVtcImRvXCIgICBdID0gXCJ3aGlsZVwiO1xuICBvcGVuQ2xvc2VbXCJmb3JrXCIgXSA9IFwiam9pbjtqb2luX2FueTtqb2luX25vbmVcIjtcbiAgb3BlbkNsb3NlW1wiY292ZXJncm91cFwiXSA9IFwiZW5kZ3JvdXBcIjtcblxuICBmb3IgKHZhciBpIGluIG5vSW5kZW50S2V5d29yZHMpIHtcbiAgICB2YXIga2V5d29yZCA9IG5vSW5kZW50S2V5d29yZHNbaV07XG4gICAgaWYgKG9wZW5DbG9zZVtrZXl3b3JkXSkge1xuICAgICAgb3BlbkNsb3NlW2tleXdvcmRdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8vIEtleXdvcmRzIHdoaWNoIG9wZW4gc3RhdGVtZW50cyB0aGF0IGFyZSBlbmRlZCB3aXRoIGEgc2VtaS1jb2xvblxuICB2YXIgc3RhdGVtZW50S2V5d29yZHMgPSB3b3JkcyhcImFsd2F5cyBhbHdheXNfY29tYiBhbHdheXNfZmYgYWx3YXlzX2xhdGNoIGFzc2VydCBhc3NpZ24gYXNzdW1lIGVsc2UgZXhwb3J0IGZvciBmb3JlYWNoIGZvcmV2ZXIgaWYgaW1wb3J0IGluaXRpYWwgcmVwZWF0IHdoaWxlXCIpO1xuXG4gIGZ1bmN0aW9uIHRva2VuQmFzZShzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIGNoID0gc3RyZWFtLnBlZWsoKSwgc3R5bGU7XG4gICAgaWYgKGhvb2tzW2NoXSAmJiAoc3R5bGUgPSBob29rc1tjaF0oc3RyZWFtLCBzdGF0ZSkpICE9IGZhbHNlKSByZXR1cm4gc3R5bGU7XG4gICAgaWYgKGhvb2tzLnRva2VuQmFzZSAmJiAoc3R5bGUgPSBob29rcy50b2tlbkJhc2Uoc3RyZWFtLCBzdGF0ZSkpICE9IGZhbHNlKVxuICAgICAgcmV0dXJuIHN0eWxlO1xuXG4gICAgaWYgKC9bLDs6XFwuXS8udGVzdChjaCkpIHtcbiAgICAgIGN1clB1bmMgPSBzdHJlYW0ubmV4dCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChpc0JyYWNrZXRDaGFyLnRlc3QoY2gpKSB7XG4gICAgICBjdXJQdW5jID0gc3RyZWFtLm5leHQoKTtcbiAgICAgIHJldHVybiBcImJyYWNrZXRcIjtcbiAgICB9XG4gICAgLy8gTWFjcm9zICh0aWNrLWRlZmluZXMpXG4gICAgaWYgKGNoID09ICdgJykge1xuICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgIGlmIChzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXCRfXS8pKSB7XG4gICAgICAgIHJldHVybiBcImRlZlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFN5c3RlbSBjYWxsc1xuICAgIGlmIChjaCA9PSAnJCcpIHtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICBpZiAoc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwkX10vKSkge1xuICAgICAgICByZXR1cm4gXCJtZXRhXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVGltZSBsaXRlcmFsc1xuICAgIGlmIChjaCA9PSAnIycpIHtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXGRfLl0vKTtcbiAgICAgIHJldHVybiBcImRlZlwiO1xuICAgIH1cbiAgICAvLyBTdHJpbmdzXG4gICAgaWYgKGNoID09ICdcIicpIHtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuU3RyaW5nKGNoKTtcbiAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gICAgLy8gQ29tbWVudHNcbiAgICBpZiAoY2ggPT0gXCIvXCIpIHtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIipcIikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNvbW1lbnQ7XG4gICAgICAgIHJldHVybiB0b2tlbkNvbW1lbnQoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIi9cIikpIHtcbiAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgICB9XG4gICAgICBzdHJlYW0uYmFja1VwKDEpO1xuICAgIH1cblxuICAgIC8vIE51bWVyaWMgbGl0ZXJhbHNcbiAgICBpZiAoc3RyZWFtLm1hdGNoKHJlYWxMaXRlcmFsKSB8fFxuICAgICAgICBzdHJlYW0ubWF0Y2goZGVjaW1hbExpdGVyYWwpIHx8XG4gICAgICAgIHN0cmVhbS5tYXRjaChiaW5hcnlMaXRlcmFsKSB8fFxuICAgICAgICBzdHJlYW0ubWF0Y2gob2N0TGl0ZXJhbCkgfHxcbiAgICAgICAgc3RyZWFtLm1hdGNoKGhleExpdGVyYWwpIHx8XG4gICAgICAgIHN0cmVhbS5tYXRjaCh1bnNpZ25lZE51bWJlcikgfHxcbiAgICAgICAgc3RyZWFtLm1hdGNoKHJlYWxMaXRlcmFsKSkge1xuICAgICAgcmV0dXJuIFwibnVtYmVyXCI7XG4gICAgfVxuXG4gICAgLy8gT3BlcmF0b3JzXG4gICAgaWYgKHN0cmVhbS5lYXRXaGlsZShpc09wZXJhdG9yQ2hhcikpIHtcbiAgICAgIHJldHVybiBcIm1ldGFcIjtcbiAgICB9XG5cbiAgICAvLyBLZXl3b3JkcyAvIHBsYWluIHZhcmlhYmxlc1xuICAgIGlmIChzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXCRfXS8pKSB7XG4gICAgICB2YXIgY3VyID0gc3RyZWFtLmN1cnJlbnQoKTtcbiAgICAgIGlmIChrZXl3b3Jkc1tjdXJdKSB7XG4gICAgICAgIGlmIChvcGVuQ2xvc2VbY3VyXSkge1xuICAgICAgICAgIGN1clB1bmMgPSBcIm5ld2Jsb2NrXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlbWVudEtleXdvcmRzW2N1cl0pIHtcbiAgICAgICAgICBjdXJQdW5jID0gXCJuZXdzdGF0ZW1lbnRcIjtcbiAgICAgICAgfVxuICAgICAgICBjdXJLZXl3b3JkID0gY3VyO1xuICAgICAgICByZXR1cm4gXCJrZXl3b3JkXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJ2YXJpYWJsZVwiO1xuICAgIH1cblxuICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB0b2tlblN0cmluZyhxdW90ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICB2YXIgZXNjYXBlZCA9IGZhbHNlLCBuZXh0LCBlbmQgPSBmYWxzZTtcbiAgICAgIHdoaWxlICgobmV4dCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG5leHQgPT0gcXVvdGUgJiYgIWVzY2FwZWQpIHtlbmQgPSB0cnVlOyBicmVhazt9XG4gICAgICAgIGVzY2FwZWQgPSAhZXNjYXBlZCAmJiBuZXh0ID09IFwiXFxcXFwiO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCB8fCAhKGVzY2FwZWQgfHwgbXVsdGlMaW5lU3RyaW5ncykpXG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuQ29tbWVudChzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIG1heWJlRW5kID0gZmFsc2UsIGNoO1xuICAgIHdoaWxlIChjaCA9IHN0cmVhbS5uZXh0KCkpIHtcbiAgICAgIGlmIChjaCA9PSBcIi9cIiAmJiBtYXliZUVuZCkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBtYXliZUVuZCA9IChjaCA9PSBcIipcIik7XG4gICAgfVxuICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQoaW5kZW50ZWQsIGNvbHVtbiwgdHlwZSwgYWxpZ24sIHByZXYpIHtcbiAgICB0aGlzLmluZGVudGVkID0gaW5kZW50ZWQ7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmFsaWduID0gYWxpZ247XG4gICAgdGhpcy5wcmV2ID0gcHJldjtcbiAgfVxuICBmdW5jdGlvbiBwdXNoQ29udGV4dChzdGF0ZSwgY29sLCB0eXBlKSB7XG4gICAgdmFyIGluZGVudCA9IHN0YXRlLmluZGVudGVkO1xuICAgIHZhciBjID0gbmV3IENvbnRleHQoaW5kZW50LCBjb2wsIHR5cGUsIG51bGwsIHN0YXRlLmNvbnRleHQpO1xuICAgIHJldHVybiBzdGF0ZS5jb250ZXh0ID0gYztcbiAgfVxuICBmdW5jdGlvbiBwb3BDb250ZXh0KHN0YXRlKSB7XG4gICAgdmFyIHQgPSBzdGF0ZS5jb250ZXh0LnR5cGU7XG4gICAgaWYgKHQgPT0gXCIpXCIgfHwgdCA9PSBcIl1cIiB8fCB0ID09IFwifVwiKSB7XG4gICAgICBzdGF0ZS5pbmRlbnRlZCA9IHN0YXRlLmNvbnRleHQuaW5kZW50ZWQ7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5jb250ZXh0ID0gc3RhdGUuY29udGV4dC5wcmV2O1xuICB9XG5cbiAgZnVuY3Rpb24gaXNDbG9zaW5nKHRleHQsIGNvbnRleHRDbG9zaW5nKSB7XG4gICAgaWYgKHRleHQgPT0gY29udGV4dENsb3NpbmcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjb250ZXh0Q2xvc2luZyBtYXkgYmUgbXVsdGlwbGUga2V5d29yZHMgc2VwYXJhdGVkIGJ5IDtcbiAgICAgIHZhciBjbG9zaW5nS2V5d29yZHMgPSBjb250ZXh0Q2xvc2luZy5zcGxpdChcIjtcIik7XG4gICAgICBmb3IgKHZhciBpIGluIGNsb3NpbmdLZXl3b3Jkcykge1xuICAgICAgICBpZiAodGV4dCA9PSBjbG9zaW5nS2V5d29yZHNbaV0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkRWxlY3RyaWNJbnB1dFJlZ0V4KCkge1xuICAgIC8vIFJlaW5kZW50YXRpb24gc2hvdWxkIG9jY3VyIG9uIGFueSBicmFja2V0IGNoYXI6IHt9KClbXVxuICAgIC8vIG9yIG9uIGEgbWF0Y2ggb2YgYW55IG9mIHRoZSBibG9jayBjbG9zaW5nIGtleXdvcmRzLCBhdFxuICAgIC8vIHRoZSBlbmQgb2YgYSBsaW5lXG4gICAgdmFyIGFsbENsb3NpbmdzID0gW107XG4gICAgZm9yICh2YXIgaSBpbiBvcGVuQ2xvc2UpIHtcbiAgICAgIGlmIChvcGVuQ2xvc2VbaV0pIHtcbiAgICAgICAgdmFyIGNsb3NpbmdzID0gb3BlbkNsb3NlW2ldLnNwbGl0KFwiO1wiKTtcbiAgICAgICAgZm9yICh2YXIgaiBpbiBjbG9zaW5ncykge1xuICAgICAgICAgIGFsbENsb3NpbmdzLnB1c2goY2xvc2luZ3Nbal0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciByZSA9IG5ldyBSZWdFeHAoXCJbe30oKVxcXFxbXFxcXF1dfChcIiArIGFsbENsb3NpbmdzLmpvaW4oXCJ8XCIpICsgXCIpJFwiKTtcbiAgICByZXR1cm4gcmU7XG4gIH1cblxuICAvLyBJbnRlcmZhY2VcbiAgcmV0dXJuIHtcblxuICAgIC8vIFJlZ2V4IHRvIGZvcmNlIGN1cnJlbnQgbGluZSB0byByZWluZGVudFxuICAgIGVsZWN0cmljSW5wdXQ6IGJ1aWxkRWxlY3RyaWNJbnB1dFJlZ0V4KCksXG5cbiAgICBzdGFydFN0YXRlOiBmdW5jdGlvbihiYXNlY29sdW1uKSB7XG4gICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIHRva2VuaXplOiBudWxsLFxuICAgICAgICBjb250ZXh0OiBuZXcgQ29udGV4dCgoYmFzZWNvbHVtbiB8fCAwKSAtIGluZGVudFVuaXQsIDAsIFwidG9wXCIsIGZhbHNlKSxcbiAgICAgICAgaW5kZW50ZWQ6IDAsXG4gICAgICAgIHN0YXJ0T2ZMaW5lOiB0cnVlXG4gICAgICB9O1xuICAgICAgaWYgKGhvb2tzLnN0YXJ0U3RhdGUpIGhvb2tzLnN0YXJ0U3RhdGUoc3RhdGUpO1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG5cbiAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIGN0eCA9IHN0YXRlLmNvbnRleHQ7XG4gICAgICBpZiAoc3RyZWFtLnNvbCgpKSB7XG4gICAgICAgIGlmIChjdHguYWxpZ24gPT0gbnVsbCkgY3R4LmFsaWduID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmluZGVudGVkID0gc3RyZWFtLmluZGVudGF0aW9uKCk7XG4gICAgICAgIHN0YXRlLnN0YXJ0T2ZMaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChob29rcy50b2tlbikge1xuICAgICAgICAvLyBDYWxsIGhvb2ssIHdpdGggYW4gb3B0aW9uYWwgcmV0dXJuIHZhbHVlIG9mIGEgc3R5bGUgdG8gb3ZlcnJpZGUgdmVyaWxvZyBzdHlsaW5nLlxuICAgICAgICB2YXIgc3R5bGUgPSBob29rcy50b2tlbihzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgaWYgKHN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdHJlYW0uZWF0U3BhY2UoKSkgcmV0dXJuIG51bGw7XG4gICAgICBjdXJQdW5jID0gbnVsbDtcbiAgICAgIGN1cktleXdvcmQgPSBudWxsO1xuICAgICAgdmFyIHN0eWxlID0gKHN0YXRlLnRva2VuaXplIHx8IHRva2VuQmFzZSkoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAoc3R5bGUgPT0gXCJjb21tZW50XCIgfHwgc3R5bGUgPT0gXCJtZXRhXCIgfHwgc3R5bGUgPT0gXCJ2YXJpYWJsZVwiKSByZXR1cm4gc3R5bGU7XG4gICAgICBpZiAoY3R4LmFsaWduID09IG51bGwpIGN0eC5hbGlnbiA9IHRydWU7XG5cbiAgICAgIGlmIChjdXJQdW5jID09IGN0eC50eXBlKSB7XG4gICAgICAgIHBvcENvbnRleHQoc3RhdGUpO1xuICAgICAgfSBlbHNlIGlmICgoY3VyUHVuYyA9PSBcIjtcIiAmJiBjdHgudHlwZSA9PSBcInN0YXRlbWVudFwiKSB8fFxuICAgICAgICAgICAgICAgKGN0eC50eXBlICYmIGlzQ2xvc2luZyhjdXJLZXl3b3JkLCBjdHgudHlwZSkpKSB7XG4gICAgICAgIGN0eCA9IHBvcENvbnRleHQoc3RhdGUpO1xuICAgICAgICB3aGlsZSAoY3R4ICYmIGN0eC50eXBlID09IFwic3RhdGVtZW50XCIpIGN0eCA9IHBvcENvbnRleHQoc3RhdGUpO1xuICAgICAgfSBlbHNlIGlmIChjdXJQdW5jID09IFwie1wiKSB7XG4gICAgICAgIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0uY29sdW1uKCksIFwifVwiKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VyUHVuYyA9PSBcIltcIikge1xuICAgICAgICBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLmNvbHVtbigpLCBcIl1cIik7XG4gICAgICB9IGVsc2UgaWYgKGN1clB1bmMgPT0gXCIoXCIpIHtcbiAgICAgICAgcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbS5jb2x1bW4oKSwgXCIpXCIpO1xuICAgICAgfSBlbHNlIGlmIChjdHggJiYgY3R4LnR5cGUgPT0gXCJlbmRjYXNlXCIgJiYgY3VyUHVuYyA9PSBcIjpcIikge1xuICAgICAgICBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLmNvbHVtbigpLCBcInN0YXRlbWVudFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VyUHVuYyA9PSBcIm5ld3N0YXRlbWVudFwiKSB7XG4gICAgICAgIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0uY29sdW1uKCksIFwic3RhdGVtZW50XCIpO1xuICAgICAgfSBlbHNlIGlmIChjdXJQdW5jID09IFwibmV3YmxvY2tcIikge1xuICAgICAgICBpZiAoY3VyS2V5d29yZCA9PSBcImZ1bmN0aW9uXCIgJiYgY3R4ICYmIChjdHgudHlwZSA9PSBcInN0YXRlbWVudFwiIHx8IGN0eC50eXBlID09IFwiZW5kZ3JvdXBcIikpIHtcbiAgICAgICAgICAvLyBUaGUgJ2Z1bmN0aW9uJyBrZXl3b3JkIGNhbiBhcHBlYXIgaW4gc29tZSBvdGhlciBjb250ZXh0cyB3aGVyZSBpdCBhY3R1YWxseSBkb2VzIG5vdFxuICAgICAgICAgIC8vIGluZGljYXRlIGEgZnVuY3Rpb24gKGltcG9ydC9leHBvcnQgRFBJIGFuZCBjb3Zlcmdyb3VwIGRlZmluaXRpb25zKS5cbiAgICAgICAgICAvLyBEbyBub3RoaW5nIGluIHRoaXMgY2FzZVxuICAgICAgICB9IGVsc2UgaWYgKGN1cktleXdvcmQgPT0gXCJ0YXNrXCIgJiYgY3R4ICYmIGN0eC50eXBlID09IFwic3RhdGVtZW50XCIpIHtcbiAgICAgICAgICAvLyBTYW1lIHRoaW5nIGZvciB0YXNrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNsb3NlID0gb3BlbkNsb3NlW2N1cktleXdvcmRdO1xuICAgICAgICAgIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0uY29sdW1uKCksIGNsb3NlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdGF0ZS5zdGFydE9mTGluZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH0sXG5cbiAgICBpbmRlbnQ6IGZ1bmN0aW9uKHN0YXRlLCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSAhPSB0b2tlbkJhc2UgJiYgc3RhdGUudG9rZW5pemUgIT0gbnVsbCkgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcbiAgICAgIGlmIChob29rcy5pbmRlbnQpIHtcbiAgICAgICAgdmFyIGZyb21Ib29rID0gaG9va3MuaW5kZW50KHN0YXRlKTtcbiAgICAgICAgaWYgKGZyb21Ib29rID49IDApIHJldHVybiBmcm9tSG9vaztcbiAgICAgIH1cbiAgICAgIHZhciBjdHggPSBzdGF0ZS5jb250ZXh0LCBmaXJzdENoYXIgPSB0ZXh0QWZ0ZXIgJiYgdGV4dEFmdGVyLmNoYXJBdCgwKTtcbiAgICAgIGlmIChjdHgudHlwZSA9PSBcInN0YXRlbWVudFwiICYmIGZpcnN0Q2hhciA9PSBcIn1cIikgY3R4ID0gY3R4LnByZXY7XG4gICAgICB2YXIgY2xvc2luZyA9IGZhbHNlO1xuICAgICAgdmFyIHBvc3NpYmxlQ2xvc2luZyA9IHRleHRBZnRlci5tYXRjaChjbG9zaW5nQnJhY2tldE9yV29yZCk7XG4gICAgICBpZiAocG9zc2libGVDbG9zaW5nKVxuICAgICAgICBjbG9zaW5nID0gaXNDbG9zaW5nKHBvc3NpYmxlQ2xvc2luZ1swXSwgY3R4LnR5cGUpO1xuICAgICAgaWYgKGN0eC50eXBlID09IFwic3RhdGVtZW50XCIpIHJldHVybiBjdHguaW5kZW50ZWQgKyAoZmlyc3RDaGFyID09IFwie1wiID8gMCA6IHN0YXRlbWVudEluZGVudFVuaXQpO1xuICAgICAgZWxzZSBpZiAoY2xvc2luZ0JyYWNrZXQudGVzdChjdHgudHlwZSkgJiYgY3R4LmFsaWduICYmICFkb250QWxpZ25DYWxscykgcmV0dXJuIGN0eC5jb2x1bW4gKyAoY2xvc2luZyA/IDAgOiAxKTtcbiAgICAgIGVsc2UgaWYgKGN0eC50eXBlID09IFwiKVwiICYmICFjbG9zaW5nKSByZXR1cm4gY3R4LmluZGVudGVkICsgc3RhdGVtZW50SW5kZW50VW5pdDtcbiAgICAgIGVsc2UgcmV0dXJuIGN0eC5pbmRlbnRlZCArIChjbG9zaW5nID8gMCA6IGluZGVudFVuaXQpO1xuICAgIH0sXG5cbiAgICBibG9ja0NvbW1lbnRTdGFydDogXCIvKlwiLFxuICAgIGJsb2NrQ29tbWVudEVuZDogXCIqL1wiLFxuICAgIGxpbmVDb21tZW50OiBcIi8vXCJcbiAgfTtcbn0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC12ZXJpbG9nXCIsIHtcbiAgICBuYW1lOiBcInZlcmlsb2dcIlxuICB9KTtcblxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3gtc3lzdGVtdmVyaWxvZ1wiLCB7XG4gICAgbmFtZTogXCJ2ZXJpbG9nXCJcbiAgfSk7XG5cblxuXG4gIC8vIFRMLVZlcmlsb2cgbW9kZS5cbiAgLy8gU2VlIHRsLXgub3JnIGZvciBsYW5ndWFnZSBzcGVjLlxuICAvLyBTZWUgdGhlIG1vZGUgaW4gYWN0aW9uIGF0IG1ha2VyY2hpcC5jb20uXG4gIC8vIENvbnRhY3Q6IHN0ZXZlLmhvb3ZlckByZWR3b29kZWRhLmNvbVxuXG4gIC8vIFRMViBJZGVudGlmaWVyIHByZWZpeGVzLlxuICAvLyBOb3RlIHRoYXQgc2lnbiBpcyBub3QgdHJlYXRlZCBzZXBhcmF0ZWx5LCBzbyBcIisvLVwiIHZlcnNpb25zIG9mIG51bWVyaWMgaWRlbnRpZmllcnNcbiAgLy8gYXJlIGluY2x1ZGVkLlxuICB2YXIgdGx2SWRlbnRpZmllclN0eWxlID0ge1xuICAgIFwifFwiOiBcImxpbmtcIixcbiAgICBcIj5cIjogXCJwcm9wZXJ0eVwiLCAgLy8gU2hvdWxkIGNvbmRpdGlvbiB0aGlzIG9mZiBmb3IgPiBUTFYgMWMuXG4gICAgXCIkXCI6IFwidmFyaWFibGVcIixcbiAgICBcIiQkXCI6IFwidmFyaWFibGVcIixcbiAgICBcIj8kXCI6IFwicXVhbGlmaWVyXCIsXG4gICAgXCI/KlwiOiBcInF1YWxpZmllclwiLFxuICAgIFwiLVwiOiBcImhyXCIsXG4gICAgXCIvXCI6IFwicHJvcGVydHlcIixcbiAgICBcIi8tXCI6IFwicHJvcGVydHlcIixcbiAgICBcIkBcIjogXCJ2YXJpYWJsZS0zXCIsXG4gICAgXCJALVwiOiBcInZhcmlhYmxlLTNcIixcbiAgICBcIkArK1wiOiBcInZhcmlhYmxlLTNcIixcbiAgICBcIkArPVwiOiBcInZhcmlhYmxlLTNcIixcbiAgICBcIkArPS1cIjogXCJ2YXJpYWJsZS0zXCIsXG4gICAgXCJALS1cIjogXCJ2YXJpYWJsZS0zXCIsXG4gICAgXCJALT1cIjogXCJ2YXJpYWJsZS0zXCIsXG4gICAgXCIlK1wiOiBcInRhZ1wiLFxuICAgIFwiJS1cIjogXCJ0YWdcIixcbiAgICBcIiVcIjogXCJ0YWdcIixcbiAgICBcIj4+XCI6IFwidGFnXCIsXG4gICAgXCI8PFwiOiBcInRhZ1wiLFxuICAgIFwiPD5cIjogXCJ0YWdcIixcbiAgICBcIiNcIjogXCJ0YWdcIiwgIC8vIE5lZWQgdG8gY2hvb3NlIGEgc3R5bGUgZm9yIHRoaXMuXG4gICAgXCJeXCI6IFwiYXR0cmlidXRlXCIsXG4gICAgXCJeXlwiOiBcImF0dHJpYnV0ZVwiLFxuICAgIFwiXiFcIjogXCJhdHRyaWJ1dGVcIixcbiAgICBcIipcIjogXCJ2YXJpYWJsZS0yXCIsXG4gICAgXCIqKlwiOiBcInZhcmlhYmxlLTJcIixcbiAgICBcIlxcXFxcIjogXCJrZXl3b3JkXCIsXG4gICAgXCJcXFwiXCI6IFwiY29tbWVudFwiXG4gIH07XG5cbiAgLy8gTGluZXMgc3RhcnRpbmcgd2l0aCB0aGVzZSBjaGFyYWN0ZXJzIGRlZmluZSBzY29wZSAocmVzdWx0IGluIGluZGVudGF0aW9uKS5cbiAgdmFyIHRsdlNjb3BlUHJlZml4Q2hhcnMgPSB7XG4gICAgXCIvXCI6IFwiYmVoLWhpZXJcIixcbiAgICBcIj5cIjogXCJiZWgtaGllclwiLFxuICAgIFwiLVwiOiBcInBoeXMtaGllclwiLFxuICAgIFwifFwiOiBcInBpcGVcIixcbiAgICBcIj9cIjogXCJ3aGVuXCIsXG4gICAgXCJAXCI6IFwic3RhZ2VcIixcbiAgICBcIlxcXFxcIjogXCJrZXl3b3JkXCJcbiAgfTtcbiAgdmFyIHRsdkluZGVudFVuaXQgPSAzO1xuICB2YXIgdGx2VHJhY2tTdGF0ZW1lbnRzID0gZmFsc2U7XG4gIHZhciB0bHZJZGVudE1hdGNoID0gL14oW34hQCNcXCQlXFxeJlxcKi1cXCs9XFw/XFwvXFxcXFxcfCdcIjw+XSspKFtcXGRcXHdfXSopLzsgIC8vIE1hdGNoZXMgYW4gaWRlbnRpZmllcmUuXG4gIC8vIE5vdGUgdGhhdCAnOicgaXMgZXhjbHVkZWQsIGJlY2F1c2Ugb2YgaXQncyB1c2UgaW4gWzpdLlxuICB2YXIgdGx2Rmlyc3RMZXZlbEluZGVudE1hdGNoID0gL15bISBdICAvO1xuICB2YXIgdGx2TGluZUluZGVudGF0aW9uTWF0Y2ggPSAvXlshIF0gKi87XG4gIHZhciB0bHZDb21tZW50TWF0Y2ggPSAvXlxcL1tcXC9cXCpdLztcblxuXG4gIC8vIFJldHVybnMgYSBzdHlsZSBzcGVjaWZpYyB0byB0aGUgc2NvcGUgYXQgdGhlIGdpdmVuIGluZGVudGF0aW9uIGNvbHVtbi5cbiAgLy8gVHlwZSBpcyBvbmUgb2Y6IFwiaW5kZW50XCIsIFwic2NvcGUtaWRlbnRcIiwgXCJiZWZvcmUtc2NvcGUtaWRlbnRcIi5cbiAgZnVuY3Rpb24gdGx2U2NvcGVTdHlsZShzdGF0ZSwgaW5kZW50YXRpb24sIHR5cGUpIHtcbiAgICAvLyBCZWdpbiBzY29wZS5cbiAgICB2YXIgZGVwdGggPSBpbmRlbnRhdGlvbiAvIHRsdkluZGVudFVuaXQ7ICAvLyBUT0RPOiBQYXNzIHRoaXMgaW4gaW5zdGVhZC5cbiAgICByZXR1cm4gXCJ0bHYtXCIgKyBzdGF0ZS50bHZJbmRlbnRhdGlvblN0eWxlW2RlcHRoXSArIFwiLVwiICsgdHlwZTtcbiAgfVxuXG4gIC8vIFJldHVybiB0cnVlIGlmIHRoZSBuZXh0IHRoaW5nIGluIHRoZSBzdHJlYW0gaXMgYW4gaWRlbnRpZmllciB3aXRoIGEgbW5lbW9uaWMuXG4gIGZ1bmN0aW9uIHRsdklkZW50TmV4dChzdHJlYW0pIHtcbiAgICB2YXIgbWF0Y2g7XG4gICAgcmV0dXJuIChtYXRjaCA9IHN0cmVhbS5tYXRjaCh0bHZJZGVudE1hdGNoLCBmYWxzZSkpICYmIG1hdGNoWzJdLmxlbmd0aCA+IDA7XG4gIH1cblxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3gtdGx2XCIsIHtcbiAgICBuYW1lOiBcInZlcmlsb2dcIixcblxuICAgIGhvb2tzOiB7XG5cbiAgICAgIGVsZWN0cmljSW5wdXQ6IGZhbHNlLFxuXG5cbiAgICAgIC8vIFJldHVybiB1bmRlZmluZWQgZm9yIHZlcmlsb2cgdG9rZW5pemluZywgb3Igc3R5bGUgZm9yIFRMViB0b2tlbiAobnVsbCBub3QgdXNlZCkuXG4gICAgICAvLyBTdGFuZGFyZCBDTSBzdHlsZXMgYXJlIHVzZWQgZm9yIG1vc3QgZm9ybWF0dGluZywgYnV0IHNvbWUgVEwtVmVyaWxvZy1zcGVjaWZpYyBoaWdobGlnaHRpbmdcbiAgICAgIC8vIGNhbiBiZSBlbmFibGVkIHdpdGggdGhlIGRlZmluaXRpb24gb2YgY20tdGx2LSogc3R5bGVzLCBpbmNsdWRpbmcgaGlnaGxpZ2h0aW5nIGZvcjpcbiAgICAgIC8vICAgLSBNNCB0b2tlbnNcbiAgICAgIC8vICAgLSBUTFYgc2NvcGUgaW5kZW50YXRpb25cbiAgICAgIC8vICAgLSBTdGF0ZW1lbnQgZGVsaW1pdGF0aW9uIChlbmFibGVkIGJ5IHRsdlRyYWNrU3RhdGVtZW50cylcbiAgICAgIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG1hdGNoOyAgLy8gUmV0dXJuIHZhbHVlIG9mIHBhdHRlcm4gbWF0Y2hlcy5cblxuICAgICAgICAvLyBTZXQgaGlnaGxpZ2h0aW5nIG1vZGUgYmFzZWQgb24gY29kZSByZWdpb24gKFRMViBvciBTVikuXG4gICAgICAgIGlmIChzdHJlYW0uc29sKCkgJiYgISBzdGF0ZS50bHZJbkJsb2NrQ29tbWVudCkge1xuICAgICAgICAgIC8vIFByb2Nlc3MgcmVnaW9uLlxuICAgICAgICAgIGlmIChzdHJlYW0ucGVlaygpID09ICdcXFxcJykge1xuICAgICAgICAgICAgc3R5bGUgPSBcImRlZlwiO1xuICAgICAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgICAgICAgaWYgKHN0cmVhbS5zdHJpbmcubWF0Y2goL1xcXFxTVi8pKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnRsdkNvZGVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLnN0cmluZy5tYXRjaCgvXFxcXFRMVi8pKXtcbiAgICAgICAgICAgICAgc3RhdGUudGx2Q29kZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIENvcnJlY3QgaW5kZW50YXRpb24gaW4gdGhlIGZhY2Ugb2YgYSBsaW5lIHByZWZpeCBjaGFyLlxuICAgICAgICAgIGlmIChzdGF0ZS50bHZDb2RlQWN0aXZlICYmIHN0cmVhbS5wb3MgPT0gMCAmJlxuICAgICAgICAgICAgICAoc3RhdGUuaW5kZW50ZWQgPT0gMCkgJiYgKG1hdGNoID0gc3RyZWFtLm1hdGNoKHRsdkxpbmVJbmRlbnRhdGlvbk1hdGNoLCBmYWxzZSkpKSB7XG4gICAgICAgICAgICBzdGF0ZS5pbmRlbnRlZCA9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDb21wdXRlIGluZGVudGF0aW9uIHN0YXRlOlxuICAgICAgICAgIC8vICAgbyBBdXRvIGluZGVudGF0aW9uIG9uIG5leHQgbGluZVxuICAgICAgICAgIC8vICAgbyBJbmRlbnRhdGlvbiBzY29wZSBzdHlsZXNcbiAgICAgICAgICB2YXIgaW5kZW50ZWQgPSBzdGF0ZS5pbmRlbnRlZDtcbiAgICAgICAgICB2YXIgZGVwdGggPSBpbmRlbnRlZCAvIHRsdkluZGVudFVuaXQ7XG4gICAgICAgICAgaWYgKGRlcHRoIDw9IHN0YXRlLnRsdkluZGVudGF0aW9uU3R5bGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBub3QgZGVlcGVyIHRoYW4gY3VycmVudCBzY29wZVxuXG4gICAgICAgICAgICB2YXIgYmxhbmtsaW5lID0gc3RyZWFtLnN0cmluZy5sZW5ndGggPT0gaW5kZW50ZWQ7XG4gICAgICAgICAgICB2YXIgY2hQb3MgPSBkZXB0aCAqIHRsdkluZGVudFVuaXQ7XG4gICAgICAgICAgICBpZiAoY2hQb3MgPCBzdHJlYW0uc3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICB2YXIgYm9keVN0cmluZyA9IHN0cmVhbS5zdHJpbmcuc2xpY2UoY2hQb3MpO1xuICAgICAgICAgICAgICB2YXIgY2ggPSBib2R5U3RyaW5nWzBdO1xuICAgICAgICAgICAgICBpZiAodGx2U2NvcGVQcmVmaXhDaGFyc1tjaF0gJiYgKChtYXRjaCA9IGJvZHlTdHJpbmcubWF0Y2godGx2SWRlbnRNYXRjaCkpICYmXG4gICAgICAgICAgICAgICAgICB0bHZJZGVudGlmaWVyU3R5bGVbbWF0Y2hbMV1dKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgbGluZSBiZWdpbnMgc2NvcGUuXG4gICAgICAgICAgICAgICAgLy8gTmV4dCBsaW5lIGdldHMgaW5kZW50ZWQgb25lIGxldmVsLlxuICAgICAgICAgICAgICAgIGluZGVudGVkICs9IHRsdkluZGVudFVuaXQ7XG4gICAgICAgICAgICAgICAgLy8gU3R5bGUgdGhlIG5leHQgbGV2ZWwgb2YgaW5kZW50YXRpb24gKGV4Y2VwdCBub24tcmVnaW9uIGtleXdvcmQgaWRlbnRpZmllcnMsXG4gICAgICAgICAgICAgICAgLy8gICB3aGljaCBhcmUgc3RhdGVtZW50cyB0aGVtc2VsdmVzKVxuICAgICAgICAgICAgICAgIGlmICghKGNoID09IFwiXFxcXFwiICYmIGNoUG9zID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlLnRsdkluZGVudGF0aW9uU3R5bGVbZGVwdGhdID0gdGx2U2NvcGVQcmVmaXhDaGFyc1tjaF07XG4gICAgICAgICAgICAgICAgICBpZiAodGx2VHJhY2tTdGF0ZW1lbnRzKSB7c3RhdGUuc3RhdGVtZW50Q29tbWVudCA9IGZhbHNlO31cbiAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDbGVhciBvdXQgZGVlcGVyIGluZGVudGF0aW9uIGxldmVscyB1bmxlc3MgbGluZSBpcyBibGFuay5cbiAgICAgICAgICAgIGlmICghYmxhbmtsaW5lKSB7XG4gICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS50bHZJbmRlbnRhdGlvblN0eWxlLmxlbmd0aCA+IGRlcHRoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudGx2SW5kZW50YXRpb25TdHlsZS5wb3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBTZXQgbmV4dCBsZXZlbCBvZiBpbmRlbnRhdGlvbi5cbiAgICAgICAgICBzdGF0ZS50bHZOZXh0SW5kZW50ID0gaW5kZW50ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUudGx2Q29kZUFjdGl2ZSkge1xuICAgICAgICAgIC8vIEhpZ2hsaWdodCBhcyBUTFYuXG5cbiAgICAgICAgICB2YXIgYmVnaW5TdGF0ZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAodGx2VHJhY2tTdGF0ZW1lbnRzKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHN0YXJ0cyBhIHN0YXRlbWVudCBpZiB0aGUgcG9zaXRpb24gaXMgYXQgdGhlIHNjb3BlIGxldmVsXG4gICAgICAgICAgICAvLyBhbmQgd2UncmUgbm90IHdpdGhpbiBhIHN0YXRlbWVudCBsZWFkaW5nIGNvbW1lbnQuXG4gICAgICAgICAgICBiZWdpblN0YXRlbWVudCA9XG4gICAgICAgICAgICAgICAgICAgKHN0cmVhbS5wZWVrKCkgIT0gXCIgXCIpICYmICAgLy8gbm90IGEgc3BhY2VcbiAgICAgICAgICAgICAgICAgICAoc3R5bGUgPT09IHVuZGVmaW5lZCkgJiYgICAgLy8gbm90IGEgcmVnaW9uIGlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICAgICAhc3RhdGUudGx2SW5CbG9ja0NvbW1lbnQgJiYgLy8gbm90IGluIGJsb2NrIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAvLyFzdHJlYW0ubWF0Y2godGx2Q29tbWVudE1hdGNoLCBmYWxzZSkgJiYgLy8gbm90IGNvbW1lbnQgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAoc3RyZWFtLmNvbHVtbigpID09IHN0YXRlLnRsdkluZGVudGF0aW9uU3R5bGUubGVuZ3RoICogdGx2SW5kZW50VW5pdCk7ICAvLyBhdCBzY29wZSBsZXZlbFxuICAgICAgICAgICAgaWYgKGJlZ2luU3RhdGVtZW50KSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0ZW1lbnRDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhdGVtZW50IGFscmVhZHkgc3RhcnRlZCBieSBjb21tZW50XG4gICAgICAgICAgICAgICAgYmVnaW5TdGF0ZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdGF0ZS5zdGF0ZW1lbnRDb21tZW50ID1cbiAgICAgICAgICAgICAgICAgICBzdHJlYW0ubWF0Y2godGx2Q29tbWVudE1hdGNoLCBmYWxzZSk7IC8vIGNvbW1lbnQgc3RhcnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbWF0Y2g7XG4gICAgICAgICAgaWYgKHN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIFJlZ2lvbiBsaW5lLlxuICAgICAgICAgICAgc3R5bGUgKz0gXCIgXCIgKyB0bHZTY29wZVN0eWxlKHN0YXRlLCAwLCBcInNjb3BlLWlkZW50XCIpXG4gICAgICAgICAgfSBlbHNlIGlmICgoKHN0cmVhbS5wb3MgLyB0bHZJbmRlbnRVbml0KSA8IHN0YXRlLnRsdkluZGVudGF0aW9uU3R5bGUubGVuZ3RoKSAmJlxuICAgICAgICAgICAgICAgICAgICAgKG1hdGNoID0gc3RyZWFtLm1hdGNoKHN0cmVhbS5zb2woKSA/IHRsdkZpcnN0TGV2ZWxJbmRlbnRNYXRjaCA6IC9eICAgLykpKSB7XG4gICAgICAgICAgICAvLyBJbmRlbnRhdGlvblxuICAgICAgICAgICAgc3R5bGUgPSAvLyBtYWtlIHRoaXMgc3R5bGUgZGlzdGluY3QgZnJvbSB0aGUgcHJldmlvdXMgb25lIHRvIHByZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29kZW1pcnJvciBmcm9tIGNvbWJpbmluZyBzcGFuc1xuICAgICAgICAgICAgICAgICAgICBcInRsdi1pbmRlbnQtXCIgKyAoKChzdHJlYW0ucG9zICUgMikgPT0gMCkgPyBcImV2ZW5cIiA6IFwib2RkXCIpICtcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHN0eWxlIGl0XG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICsgdGx2U2NvcGVTdHlsZShzdGF0ZSwgc3RyZWFtLnBvcyAtIHRsdkluZGVudFVuaXQsIFwiaW5kZW50XCIpO1xuICAgICAgICAgICAgLy8gU3R5bGUgdGhlIGxpbmUgcHJlZml4IGNoYXJhY3Rlci5cbiAgICAgICAgICAgIGlmIChtYXRjaFswXS5jaGFyQXQoMCkgPT0gXCIhXCIpIHtcbiAgICAgICAgICAgICAgc3R5bGUgKz0gXCIgdGx2LWFsZXJ0LWxpbmUtcHJlZml4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQbGFjZSBhIGNsYXNzIGJlZm9yZSBhIHNjb3BlIGlkZW50aWZpZXIuXG4gICAgICAgICAgICBpZiAodGx2SWRlbnROZXh0KHN0cmVhbSkpIHtcbiAgICAgICAgICAgICAgc3R5bGUgKz0gXCIgXCIgKyB0bHZTY29wZVN0eWxlKHN0YXRlLCBzdHJlYW0ucG9zLCBcImJlZm9yZS1zY29wZS1pZGVudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnRsdkluQmxvY2tDb21tZW50KSB7XG4gICAgICAgICAgICAvLyBJbiBhIGJsb2NrIGNvbW1lbnQuXG4gICAgICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eLio/XFwqXFwvLykpIHtcbiAgICAgICAgICAgICAgLy8gRXhpdCBibG9jayBjb21tZW50LlxuICAgICAgICAgICAgICBzdGF0ZS50bHZJbkJsb2NrQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAodGx2VHJhY2tTdGF0ZW1lbnRzICYmICFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBBbnl0aGluZyBhZnRlciBjb21tZW50IGlzIGFzc3VtZWQgdG8gYmUgcmVhbCBzdGF0ZW1lbnQgY29udGVudC5cbiAgICAgICAgICAgICAgICBzdGF0ZS5zdGF0ZW1lbnRDb21tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlID0gXCJjb21tZW50XCI7XG4gICAgICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBzdHJlYW0ubWF0Y2godGx2Q29tbWVudE1hdGNoKSkgJiYgIXN0YXRlLnRsdkluQmxvY2tDb21tZW50KSB7XG4gICAgICAgICAgICAvLyBTdGFydCBjb21tZW50LlxuICAgICAgICAgICAgaWYgKG1hdGNoWzBdID09IFwiLy9cIikge1xuICAgICAgICAgICAgICAvLyBMaW5lIGNvbW1lbnQuXG4gICAgICAgICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEJsb2NrIGNvbW1lbnQuXG4gICAgICAgICAgICAgIHN0YXRlLnRsdkluQmxvY2tDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlID0gXCJjb21tZW50XCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCA9IHN0cmVhbS5tYXRjaCh0bHZJZGVudE1hdGNoKSkge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSBhbiBpZGVudGlmaWVyIChvciBpZGVudGlmaWVyIHByZWZpeClcbiAgICAgICAgICAgIHZhciBwcmVmaXggPSBtYXRjaFsxXTtcbiAgICAgICAgICAgIHZhciBtbmVtb25pYyA9IG1hdGNoWzJdO1xuICAgICAgICAgICAgaWYgKC8vIGlzIGlkZW50aWZpZXIgcHJlZml4XG4gICAgICAgICAgICAgICAgdGx2SWRlbnRpZmllclN0eWxlLmhhc093blByb3BlcnR5KHByZWZpeCkgJiZcbiAgICAgICAgICAgICAgICAvLyBoYXMgbW5lbW9uaWMgb3Igd2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSAobWF5YmUgaXQgaGFzbid0IGJlZW4gdHlwZWQgeWV0KVxuICAgICAgICAgICAgICAgIChtbmVtb25pYy5sZW5ndGggPiAwIHx8IHN0cmVhbS5lb2woKSkpIHtcbiAgICAgICAgICAgICAgc3R5bGUgPSB0bHZJZGVudGlmaWVyU3R5bGVbcHJlZml4XTtcbiAgICAgICAgICAgICAgaWYgKHN0cmVhbS5jb2x1bW4oKSA9PSBzdGF0ZS5pbmRlbnRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEJlZ2luIHNjb3BlLlxuICAgICAgICAgICAgICAgIHN0eWxlICs9IFwiIFwiICsgdGx2U2NvcGVTdHlsZShzdGF0ZSwgc3RyZWFtLmNvbHVtbigpLCBcInNjb3BlLWlkZW50XCIpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEp1c3Qgc3dhbGxvdyBvbmUgY2hhcmFjdGVyIGFuZCB0cnkgYWdhaW4uXG4gICAgICAgICAgICAgIC8vIFRoaXMgZW5hYmxlcyBzdWJzZXF1ZW50IGlkZW50aWZpZXIgbWF0Y2ggd2l0aCBwcmVjZWRpbmcgc3ltYm9sIGNoYXJhY3Rlciwgd2hpY2hcbiAgICAgICAgICAgICAgLy8gICBpcyBsZWdhbCB3aXRoaW4gYSBzdGF0ZW1lbnQuICAoRWcsICEkcmVzZXQpLiAgSXQgYWxzbyBlbmFibGVzIGRldGVjdGlvbiBvZlxuICAgICAgICAgICAgICAvLyAgIGNvbW1lbnQgc3RhcnQgd2l0aCBwcmVjZWRpbmcgc3ltYm9scy5cbiAgICAgICAgICAgICAgc3RyZWFtLmJhY2tVcChzdHJlYW0uY3VycmVudCgpLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICBzdHlsZSA9IFwidGx2LWRlZmF1bHRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgvXlxcdCsvKSkge1xuICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IHRhYnMsIHdoaWNoIGFyZSBpbGxlZ2FsLlxuICAgICAgICAgICAgc3R5bGUgPSBcInRsdi10YWJcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgvXltcXFtcXF17fVxcKFxcKTtcXDpdKy8pKSB7XG4gICAgICAgICAgICAvLyBbOl0sICgpLCB7fSwgOy5cbiAgICAgICAgICAgIHN0eWxlID0gXCJtZXRhXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCA9IHN0cmVhbS5tYXRjaCgvXlttTV00KFtcXCtfXSk/W1xcd1xcZF9dKi8pKSB7XG4gICAgICAgICAgICAvLyBtNCBwcmUgcHJvY1xuICAgICAgICAgICAgc3R5bGUgPSAobWF0Y2hbMV0gPT0gXCIrXCIpID8gXCJ0bHYtbTQtcGx1c1wiIDogXCJ0bHYtbTRcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgvXiArLykpe1xuICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHNwYWNlcy5cbiAgICAgICAgICAgIGlmIChzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgICAgICAgLy8gVHJhaWxpbmcgc3BhY2VzLlxuICAgICAgICAgICAgICBzdHlsZSA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIE5vbi10cmFpbGluZyBzcGFjZXMuXG4gICAgICAgICAgICAgIHN0eWxlID0gXCJ0bHYtZGVmYXVsdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKC9eW1xcd1xcZF9dKy8pKSB7XG4gICAgICAgICAgICAvLyBhbHBoYS1udW1lcmljIHRva2VuLlxuICAgICAgICAgICAgc3R5bGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBFYXQgdGhlIG5leHQgY2hhciB3LyBubyBmb3JtYXR0aW5nLlxuICAgICAgICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgICAgICAgIHN0eWxlID0gXCJ0bHYtZGVmYXVsdFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYmVnaW5TdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgIHN0eWxlICs9IFwiIHRsdi1zdGF0ZW1lbnRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlttTV00KFtcXHdcXGRfXSopLykpIHtcbiAgICAgICAgICAgIC8vIG00IHByZSBwcm9jXG4gICAgICAgICAgICBzdHlsZSA9IFwidGx2LW00XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgIH0sXG5cbiAgICAgIGluZGVudDogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIChzdGF0ZS50bHZDb2RlQWN0aXZlID09IHRydWUpID8gc3RhdGUudGx2TmV4dEluZGVudCA6IC0xO1xuICAgICAgfSxcblxuICAgICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgc3RhdGUudGx2SW5kZW50YXRpb25TdHlsZSA9IFtdOyAgLy8gU3R5bGVzIHRvIHVzZSBmb3IgZWFjaCBsZXZlbCBvZiBpbmRlbnRhdGlvbi5cbiAgICAgICAgc3RhdGUudGx2Q29kZUFjdGl2ZSA9IHRydWU7ICAvLyBUcnVlIHdoZW4gd2UncmUgaW4gYSBUTFYgcmVnaW9uIChhbmQgYXQgYmVnaW5uaW5nIG9mIGZpbGUpLlxuICAgICAgICBzdGF0ZS50bHZOZXh0SW5kZW50ID0gLTE7ICAgIC8vIFRoZSBudW1iZXIgb2Ygc3BhY2VzIHRvIGF1dG9pbmRlbnQgdGhlIG5leHQgbGluZSBpZiB0bHZDb2RlQWN0aXZlLlxuICAgICAgICBzdGF0ZS50bHZJbkJsb2NrQ29tbWVudCA9IGZhbHNlOyAgLy8gVHJ1ZSBpbnNpZGUgLyoqLyBjb21tZW50LlxuICAgICAgICBpZiAodGx2VHJhY2tTdGF0ZW1lbnRzKSB7XG4gICAgICAgICAgc3RhdGUuc3RhdGVtZW50Q29tbWVudCA9IGZhbHNlOyAgLy8gVHJ1ZSBpbnNpZGUgYSBzdGF0ZW1lbnQncyBoZWFkZXIgY29tbWVudC5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==