(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"./node_modules/codemirror/mode/julia/julia.js":function(e,t,n){!function(e){"use strict";e.defineMode("julia",(function(t,n){function r(e,t){return void 0===t&&(t="\\b"),new RegExp("^(("+e.join(")|(")+"))"+t)}var a=n.operators||r(["[<>]:","[<>=]=","<<=?",">>>?=?","=>","->","\\/\\/","[\\\\%*+\\-<>!=\\/^|&\\u00F7\\u22BB]=?","\\?","\\$","~",":","\\u00D7","\\u2208","\\u2209","\\u220B","\\u220C","\\u2218","\\u221A","\\u221B","\\u2229","\\u222A","\\u2260","\\u2264","\\u2265","\\u2286","\\u2288","\\u228A","\\u22C5","\\b(in|isa)\\b(?!.?\\()"],""),i=n.delimiters||/^[;,()[\]{}]/,s=n.identifiers||/^[_A-Za-z\u00A1-\u2217\u2219-\uFFFF][\w\u00A1-\u2217\u2219-\uFFFF]*!*/,o=r(["\\\\[0-7]{1,3}","\\\\x[A-Fa-f0-9]{1,2}","\\\\[abefnrtv0%?'\"\\\\]","([^\\u0027\\u005C\\uD800-\\uDFFF]|[\\uD800-\\uDFFF][\\uDC00-\\uDFFF])"],"'"),c=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","where","macro","module","baremodule","struct","type","mutable","immutable","quote","typealias","abstract","primitive","bitstype"],u=["true","false","nothing","NaN","Inf"];e.registerHelper("hintWords","julia",c.concat(u));var l=r(["begin","function","type","struct","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"]),m=r(["end","else","elseif","catch","finally"]),f=r(c),d=r(u),p=/^@[_A-Za-z][\w]*/,h=/^:[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,k=/^(`|([_A-Za-z\u00A1-\uFFFF]*"("")?))/;function inArray(e){return e.nestedArrays>0}function b(e,t){return void 0===t&&(t=0),e.scopes.length<=t?null:e.scopes[e.scopes.length-(t+1)]}function v(e,t){if(e.match(/^#=/,!1))return t.tokenize=A,t.tokenize(e,t);var n=t.leavingExpr;if(e.sol()&&(n=!1),t.leavingExpr=!1,n&&e.match(/^'+/))return"operator";if(e.match(/\.{4,}/))return"error";if(e.match(/\.{1,3}/))return"operator";if(e.eatSpace())return null;var r,o,c=e.peek();if("#"===c)return e.skipToEnd(),"comment";if("["===c&&(t.scopes.push("["),t.nestedArrays++),"("===c&&(t.scopes.push("("),t.nestedGenerators++),inArray(t)&&"]"===c){for("if"===b(t)&&t.scopes.pop();"for"===b(t);)t.scopes.pop();t.scopes.pop(),t.nestedArrays--,t.leavingExpr=!0}if(function(e){return e.nestedGenerators>0}(t)&&")"===c){for("if"===b(t)&&t.scopes.pop();"for"===b(t);)t.scopes.pop();t.scopes.pop(),t.nestedGenerators--,t.leavingExpr=!0}if(inArray(t)){if("end"==t.lastToken&&e.match(/^:/))return"operator";if(e.match(/^end/))return"number"}if((r=e.match(l,!1))&&t.scopes.push(r[0]),e.match(m,!1)&&t.scopes.pop(),e.match(/^::(?![:\$])/))return t.tokenize=g,t.tokenize(e,t);if(!n&&e.match(h)||e.match(/:([<>]:|<<=?|>>>?=?|->|\/\/|\.{2,3}|[\.\\%*+\-<>!\/^|&]=?|[~\?\$])/))return"builtin";if(e.match(a))return"operator";if(e.match(/^\.?\d/,!1)){var u=RegExp(/^im\b/),x=!1;if(e.match(/^(?:(?:\d[_\d]*)?\.(?!\.)(?:\d[_\d]*)?|\d[_\d]*\.(?!\.)(?:\d[_\d]*))?([Eef][\+\-]?[_\d]+)?/i)&&(x=!0),e.match(/^0x\.[0-9a-f_]+p[\+\-]?[_\d]+/i)&&(x=!0),e.match(/^0x[0-9a-f_]+/i)&&(x=!0),e.match(/^0b[01_]+/i)&&(x=!0),e.match(/^0o[0-7_]+/i)&&(x=!0),e.match(/^[1-9][_\d]*(e[\+\-]?\d+)?/)&&(x=!0),e.match(/^0(?![\dx])/i)&&(x=!0),x)return e.match(u),t.leavingExpr=!0,"number"}if(e.match(/^'/))return t.tokenize=z,t.tokenize(e,t);if(e.match(k))return t.tokenize=('"""'===(o=e.current()).substr(-3)?o='"""':'"'===o.substr(-1)&&(o='"'),function(e,t){if(e.eat("\\"))e.next();else{if(e.match(o))return t.tokenize=v,t.leavingExpr=!0,"string";e.eat(/[`"]/)}return e.eatWhile(/[^\\`"]/),"string"}),t.tokenize(e,t);if(e.match(p))return"meta";if(e.match(i))return null;if(e.match(f))return"keyword";if(e.match(d))return"builtin";var y=t.isDefinition||"function"==t.lastToken||"macro"==t.lastToken||"type"==t.lastToken||"struct"==t.lastToken||"immutable"==t.lastToken;return e.match(s)?y?"."===e.peek()?(t.isDefinition=!0,"variable"):(t.isDefinition=!1,"def"):e.match(/^({[^}]*})*\(/,!1)?(t.tokenize=F,t.tokenize(e,t)):(t.leavingExpr=!0,"variable"):(e.next(),"error")}function F(e,t){var n=e.match(/^(\(\s*)/);if(n&&(t.firstParenPos<0&&(t.firstParenPos=t.scopes.length),t.scopes.push("("),t.charsAdvanced+=n[1].length),"("==b(t)&&e.match(/^\)/)&&(t.scopes.pop(),t.charsAdvanced+=1,t.scopes.length<=t.firstParenPos)){var r=e.match(/^(\s*where\s+[^\s=]+)*\s*?=(?!=)/,!1);return e.backUp(t.charsAdvanced),t.firstParenPos=-1,t.charsAdvanced=0,t.tokenize=v,r?"def":"builtin"}if(e.match(/^$/g,!1)){for(e.backUp(t.charsAdvanced);t.scopes.length>t.firstParenPos;)t.scopes.pop();return t.firstParenPos=-1,t.charsAdvanced=0,t.tokenize=v,"builtin"}return t.charsAdvanced+=e.match(/^([^()]*)/)[1].length,t.tokenize(e,t)}function g(e,t){return e.match(/.*?(?=,|;|{|}|\(|\)|=|$|\s)/),e.match(/^{/)?t.nestedParameters++:e.match(/^}/)&&t.nestedParameters>0&&t.nestedParameters--,t.nestedParameters>0?e.match(/.*?(?={|})/)||e.next():0==t.nestedParameters&&(t.tokenize=v),"builtin"}function A(e,t){return e.match(/^#=/)&&t.nestedComments++,e.match(/.*?(?=(#=|=#))/)||e.skipToEnd(),e.match(/^=#/)&&(t.nestedComments--,0==t.nestedComments&&(t.tokenize=v)),"comment"}function z(e,t){var n,r=!1;if(e.match(o))r=!0;else if(n=e.match(/\\u([a-f0-9]{1,4})(?=')/i))((a=parseInt(n[1],16))<=55295||a>=57344)&&(r=!0,e.next());else if(n=e.match(/\\U([A-Fa-f0-9]{5,8})(?=')/)){var a;(a=parseInt(n[1],16))<=1114111&&(r=!0,e.next())}return r?(t.leavingExpr=!0,t.tokenize=v,"string"):(e.match(/^[^']+(?=')/)||e.skipToEnd(),e.match(/^'/)&&(t.tokenize=v),"error")}return{startState:function(){return{tokenize:v,scopes:[],lastToken:null,leavingExpr:!1,isDefinition:!1,nestedArrays:0,nestedComments:0,nestedGenerators:0,nestedParameters:0,charsAdvanced:0,firstParenPos:-1}},token:function(e,t){var n=t.tokenize(e,t),r=e.current();return r&&n&&(t.lastToken=r),n},indent:function(e,n){var r=0;return"]"!==n&&")"!==n&&"end"!==n&&"else"!==n&&"catch"!==n&&"elseif"!==n&&"finally"!==n||(r=-1),(e.scopes.length+r)*t.indentUnit},electricInput:/\b(end|else|catch|finally)\b/,blockCommentStart:"#=",blockCommentEnd:"=#",lineComment:"#",closeBrackets:'()[]{}""',fold:"indent"}})),e.defineMIME("text/x-julia","julia")}(n("./node_modules/codemirror/lib/codemirror.js"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL2p1bGlhL2p1bGlhLmpzIl0sIm5hbWVzIjpbIkNvZGVNaXJyb3IiLCJkZWZpbmVNb2RlIiwiY29uZmlnIiwicGFyc2VyQ29uZiIsIndvcmRSZWdleHAiLCJ3b3JkcyIsImVuZCIsIlJlZ0V4cCIsImpvaW4iLCJvcGVyYXRvcnMiLCJkZWxpbWl0ZXJzIiwiaWRlbnRpZmllcnMiLCJjaGFycyIsImtleXdvcmRzTGlzdCIsImJ1aWx0aW5zTGlzdCIsInJlZ2lzdGVySGVscGVyIiwiY29uY2F0Iiwib3BlbmVycyIsImNsb3NlcnMiLCJrZXl3b3JkcyIsImJ1aWx0aW5zIiwibWFjcm8iLCJzeW1ib2wiLCJzdHJpbmdQcmVmaXhlcyIsImluQXJyYXkiLCJzdGF0ZSIsIm5lc3RlZEFycmF5cyIsImN1cnJlbnRTY29wZSIsIm4iLCJzY29wZXMiLCJsZW5ndGgiLCJ0b2tlbkJhc2UiLCJzdHJlYW0iLCJtYXRjaCIsInRva2VuaXplIiwidG9rZW5Db21tZW50IiwibGVhdmluZ0V4cHIiLCJzb2wiLCJlYXRTcGFjZSIsImRlbGltaXRlciIsImNoIiwicGVlayIsInNraXBUb0VuZCIsInB1c2giLCJuZXN0ZWRHZW5lcmF0b3JzIiwicG9wIiwiaW5HZW5lcmF0b3IiLCJsYXN0VG9rZW4iLCJ0b2tlbkFubm90YXRpb24iLCJpbU1hdGNoZXIiLCJudW1iZXJMaXRlcmFsIiwidG9rZW5DaGFyIiwiY3VycmVudCIsInN1YnN0ciIsImVhdCIsIm5leHQiLCJlYXRXaGlsZSIsImlzRGVmaW5pdGlvbiIsInRva2VuQ2FsbE9yRGVmIiwiZmlyc3RQYXJlblBvcyIsImNoYXJzQWR2YW5jZWQiLCJiYWNrVXAiLCJuZXN0ZWRQYXJhbWV0ZXJzIiwibmVzdGVkQ29tbWVudHMiLCJpc0NoYXIiLCJ2YWx1ZSIsInBhcnNlSW50Iiwic3RhcnRTdGF0ZSIsInRva2VuIiwic3R5bGUiLCJpbmRlbnQiLCJ0ZXh0QWZ0ZXIiLCJkZWx0YSIsImluZGVudFVuaXQiLCJlbGVjdHJpY0lucHV0IiwiYmxvY2tDb21tZW50U3RhcnQiLCJibG9ja0NvbW1lbnRFbmQiLCJsaW5lQ29tbWVudCIsImNsb3NlQnJhY2tldHMiLCJmb2xkIiwiZGVmaW5lTUlNRSIsIm1vZCJdLCJtYXBwaW5ncyI6IjJIQVVHLFNBQVNBLEdBQ1osYUFFQUEsRUFBV0MsV0FBVyxTQUFTLFNBQVNDLEVBQVFDLEdBQzlDLFNBQVNDLEVBQVdDLEVBQU9DLEdBRXpCLFlBRG1CLElBQVJBLElBQXVCQSxFQUFNLE9BQ2pDLElBQUlDLE9BQU8sTUFBUUYsRUFBTUcsS0FBSyxPQUFTLEtBQU9GLEdBR3ZELElBS0lHLEVBQVlOLEVBQVdNLFdBQWFMLEVBQVcsQ0FDN0MsUUFBUyxTQUFVLE9BQVEsU0FBVSxLQUFNLEtBQU0sU0FDakQseUNBQTBDLE1BQU8sTUFBTyxJQUFLLElBQzdELFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUN2RCxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFDdkQsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUM1QywyQkFBNkIsSUFDL0JNLEVBQWFQLEVBQVdPLFlBQWMsZUFDdENDLEVBQWNSLEVBQVdRLGFBQ3ZCLHdFQUVGQyxFQUFRUixFQUFXLENBaEJULGlCQUNBLHdCQUNGLDJCQUNBLHlFQWE2QyxLQVFyRFMsRUFBZSxDQUFDLEtBQU0sT0FBUSxTQUFVLFFBQVMsTUFBTyxRQUFTLE1BQy9ELE1BQU8sS0FBTSxNQUFPLFFBQVMsVUFBVyxTQUFVLFFBQVMsV0FDM0QsU0FBVSxRQUFTLFFBQVMsU0FBVSxTQUFVLFlBQWEsUUFDN0QsV0FBWSxRQUFTLFFBQVMsU0FBVSxhQUFjLFNBQVUsT0FDaEUsVUFBVyxZQUFhLFFBQVMsWUFBYSxXQUFZLFlBQzFELFlBRUZDLEVBQWUsQ0FBQyxPQUFRLFFBQVMsVUFBVyxNQUFPLE9BRXZEZCxFQUFXZSxlQUFlLFlBQWEsUUFBU0YsRUFBYUcsT0FBT0YsSUFFcEUsSUFBSUcsRUFBVWIsRUFqQkksQ0FBQyxRQUFT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Q2hCbkIsaUJBQWtCLEVBQ2xCa0IsaUJBQWtCLEVBQ2xCRixjQUFlLEVBQ2ZELGVBQWdCLElBSXBCUyxNQUFPLFNBQVNwQyxFQUFRUCxHQUN0QixJQUFJNEMsRUFBUTVDLEVBQU1TLFNBQVNGLEVBQVFQLEdBQy9CMkIsRUFBVXBCLEVBQU9vQixVQU1yQixPQUpJQSxHQUFXaUIsSUFDYjVDLEVBQU1zQixVQUFZSyxHQUdiaUIsR0FHVEMsT0FBUSxTQUFTN0MsRUFBTzhDLEdBQ3RCLElBQUlDLEVBQVEsRUFNWixNQUxtQixNQUFkRCxHQUFtQyxNQUFkQSxHQUFtQyxRQUFkQSxHQUM1QixTQUFkQSxHQUFzQyxVQUFkQSxHQUF1QyxXQUFkQSxHQUNuQyxZQUFkQSxJQUNIQyxHQUFTLElBRUgvQyxFQUFNSSxPQUFPQyxPQUFTMEMsR0FBU3RFLEVBQU91RSxZQUdoREMsY0FBZSwrQkFDZkMsa0JBQW1CLEtBQ25CQyxnQkFBaUIsS0FDakJDLFlBQWEsSUFDYkMsY0FBZSxXQUNmQyxLQUFNLGFBTVYvRSxFQUFXZ0YsV0FBVyxlQUFnQixTQXJhbENDLENBQUksRUFBUSIsImZpbGUiOiI1OS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHBzOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbkNvZGVNaXJyb3IuZGVmaW5lTW9kZShcImp1bGlhXCIsIGZ1bmN0aW9uKGNvbmZpZywgcGFyc2VyQ29uZikge1xuICBmdW5jdGlvbiB3b3JkUmVnZXhwKHdvcmRzLCBlbmQpIHtcbiAgICBpZiAodHlwZW9mIGVuZCA9PT0gXCJ1bmRlZmluZWRcIikgeyBlbmQgPSBcIlxcXFxiXCI7IH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIl4oKFwiICsgd29yZHMuam9pbihcIil8KFwiKSArIFwiKSlcIiArIGVuZCk7XG4gIH1cblxuICB2YXIgb2N0Q2hhciA9IFwiXFxcXFxcXFxbMC03XXsxLDN9XCI7XG4gIHZhciBoZXhDaGFyID0gXCJcXFxcXFxcXHhbQS1GYS1mMC05XXsxLDJ9XCI7XG4gIHZhciBzQ2hhciA9IFwiXFxcXFxcXFxbYWJlZm5ydHYwJT8nXFxcIlxcXFxcXFxcXVwiO1xuICB2YXIgdUNoYXIgPSBcIihbXlxcXFx1MDAyN1xcXFx1MDA1Q1xcXFx1RDgwMC1cXFxcdURGRkZdfFtcXFxcdUQ4MDAtXFxcXHVERkZGXVtcXFxcdURDMDAtXFxcXHVERkZGXSlcIjtcblxuICB2YXIgb3BlcmF0b3JzID0gcGFyc2VyQ29uZi5vcGVyYXRvcnMgfHwgd29yZFJlZ2V4cChbXG4gICAgICAgIFwiWzw+XTpcIiwgXCJbPD49XT1cIiwgXCI8PD0/XCIsIFwiPj4+Pz0/XCIsIFwiPT5cIiwgXCItPlwiLCBcIlxcXFwvXFxcXC9cIixcbiAgICAgICAgXCJbXFxcXFxcXFwlKitcXFxcLTw+IT1cXFxcL158JlxcXFx1MDBGN1xcXFx1MjJCQl09P1wiLCBcIlxcXFw/XCIsIFwiXFxcXCRcIiwgXCJ+XCIsIFwiOlwiLFxuICAgICAgICBcIlxcXFx1MDBEN1wiLCBcIlxcXFx1MjIwOFwiLCBcIlxcXFx1MjIwOVwiLCBcIlxcXFx1MjIwQlwiLCBcIlxcXFx1MjIwQ1wiLCBcIlxcXFx1MjIxOFwiLFxuICAgICAgICBcIlxcXFx1MjIxQVwiLCBcIlxcXFx1MjIxQlwiLCBcIlxcXFx1MjIyOVwiLCBcIlxcXFx1MjIyQVwiLCBcIlxcXFx1MjI2MFwiLCBcIlxcXFx1MjI2NFwiLFxuICAgICAgICBcIlxcXFx1MjI2NVwiLCBcIlxcXFx1MjI4NlwiLCBcIlxcXFx1MjI4OFwiLCBcIlxcXFx1MjI4QVwiLCBcIlxcXFx1MjJDNVwiLFxuICAgICAgICBcIlxcXFxiKGlufGlzYSlcXFxcYig/IVxcLj9cXFxcKClcIl0sIFwiXCIpO1xuICB2YXIgZGVsaW1pdGVycyA9IHBhcnNlckNvbmYuZGVsaW1pdGVycyB8fCAvXls7LCgpW1xcXXt9XS87XG4gIHZhciBpZGVudGlmaWVycyA9IHBhcnNlckNvbmYuaWRlbnRpZmllcnMgfHxcbiAgICAgICAgL15bX0EtWmEtelxcdTAwQTEtXFx1MjIxN1xcdTIyMTktXFx1RkZGRl1bXFx3XFx1MDBBMS1cXHUyMjE3XFx1MjIxOS1cXHVGRkZGXSohKi87XG5cbiAgdmFyIGNoYXJzID0gd29yZFJlZ2V4cChbb2N0Q2hhciwgaGV4Q2hhciwgc0NoYXIsIHVDaGFyXSwgXCInXCIpO1xuXG4gIHZhciBvcGVuZXJzTGlzdCA9IFtcImJlZ2luXCIsIFwiZnVuY3Rpb25cIiwgXCJ0eXBlXCIsIFwic3RydWN0XCIsIFwiaW1tdXRhYmxlXCIsIFwibGV0XCIsXG4gICAgICAgIFwibWFjcm9cIiwgXCJmb3JcIiwgXCJ3aGlsZVwiLCBcInF1b3RlXCIsIFwiaWZcIiwgXCJlbHNlXCIsIFwiZWxzZWlmXCIsIFwidHJ5XCIsXG4gICAgICAgIFwiZmluYWxseVwiLCBcImNhdGNoXCIsIFwiZG9cIl07XG5cbiAgdmFyIGNsb3NlcnNMaXN0ID0gW1wiZW5kXCIsIFwiZWxzZVwiLCBcImVsc2VpZlwiLCBcImNhdGNoXCIsIFwiZmluYWxseVwiXTtcblxuICB2YXIga2V5d29yZHNMaXN0ID0gW1wiaWZcIiwgXCJlbHNlXCIsIFwiZWxzZWlmXCIsIFwid2hpbGVcIiwgXCJmb3JcIiwgXCJiZWdpblwiLCBcImxldFwiLFxuICAgICAgICBcImVuZFwiLCBcImRvXCIsIFwidHJ5XCIsIFwiY2F0Y2hcIiwgXCJmaW5hbGx5XCIsIFwicmV0dXJuXCIsIFwiYnJlYWtcIiwgXCJjb250aW51ZVwiLFxuICAgICAgICBcImdsb2JhbFwiLCBcImxvY2FsXCIsIFwiY29uc3RcIiwgXCJleHBvcnRcIiwgXCJpbXBvcnRcIiwgXCJpbXBvcnRhbGxcIiwgXCJ1c2luZ1wiLFxuICAgICAgICBcImZ1bmN0aW9uXCIsIFwid2hlcmVcIiwgXCJtYWNyb1wiLCBcIm1vZHVsZVwiLCBcImJhcmVtb2R1bGVcIiwgXCJzdHJ1Y3RcIiwgXCJ0eXBlXCIsXG4gICAgICAgIFwibXV0YWJsZVwiLCBcImltbXV0YWJsZVwiLCBcInF1b3RlXCIsIFwidHlwZWFsaWFzXCIsIFwiYWJzdHJhY3RcIiwgXCJwcmltaXRpdmVcIixcbiAgICAgICAgXCJiaXRzdHlwZVwiXTtcblxuICB2YXIgYnVpbHRpbnNMaXN0ID0gW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibm90aGluZ1wiLCBcIk5hTlwiLCBcIkluZlwiXTtcblxuICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsIFwianVsaWFcIiwga2V5d29yZHNMaXN0LmNvbmNhdChidWlsdGluc0xpc3QpKTtcblxuICB2YXIgb3BlbmVycyA9IHdvcmRSZWdleHAob3BlbmVyc0xpc3QpO1xuICB2YXIgY2xvc2VycyA9IHdvcmRSZWdleHAoY2xvc2Vyc0xpc3QpO1xuICB2YXIga2V5d29yZHMgPSB3b3JkUmVnZXhwKGtleXdvcmRzTGlzdCk7XG4gIHZhciBidWlsdGlucyA9IHdvcmRSZWdleHAoYnVpbHRpbnNMaXN0KTtcblxuICB2YXIgbWFjcm8gPSAvXkBbX0EtWmEtel1bXFx3XSovO1xuICB2YXIgc3ltYm9sID0gL146W19BLVphLXpcXHUwMEExLVxcdUZGRkZdW1xcd1xcdTAwQTEtXFx1RkZGRl0qISovO1xuICB2YXIgc3RyaW5nUHJlZml4ZXMgPSAvXihgfChbX0EtWmEtelxcdTAwQTEtXFx1RkZGRl0qXCIoXCJcIik/KSkvO1xuXG4gIGZ1bmN0aW9uIGluQXJyYXkoc3RhdGUpIHtcbiAgICByZXR1cm4gKHN0YXRlLm5lc3RlZEFycmF5cyA+IDApO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5HZW5lcmF0b3Ioc3RhdGUpIHtcbiAgICByZXR1cm4gKHN0YXRlLm5lc3RlZEdlbmVyYXRvcnMgPiAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGN1cnJlbnRTY29wZShzdGF0ZSwgbikge1xuICAgIGlmICh0eXBlb2YobikgPT09IFwidW5kZWZpbmVkXCIpIHsgbiA9IDA7IH1cbiAgICBpZiAoc3RhdGUuc2NvcGVzLmxlbmd0aCA8PSBuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLnNjb3Blc1tzdGF0ZS5zY29wZXMubGVuZ3RoIC0gKG4gKyAxKV07XG4gIH1cblxuICAvLyB0b2tlbml6ZXJzXG4gIGZ1bmN0aW9uIHRva2VuQmFzZShzdHJlYW0sIHN0YXRlKSB7XG4gICAgLy8gSGFuZGxlIG11bHRpbGluZSBjb21tZW50c1xuICAgIGlmIChzdHJlYW0ubWF0Y2goL14jPS8sIGZhbHNlKSkge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNvbW1lbnQ7XG4gICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHNjb3BlIGNoYW5nZXNcbiAgICB2YXIgbGVhdmluZ0V4cHIgPSBzdGF0ZS5sZWF2aW5nRXhwcjtcbiAgICBpZiAoc3RyZWFtLnNvbCgpKSB7XG4gICAgICBsZWF2aW5nRXhwciA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGF0ZS5sZWF2aW5nRXhwciA9IGZhbHNlO1xuXG4gICAgaWYgKGxlYXZpbmdFeHByKSB7XG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eJysvKSkge1xuICAgICAgICByZXR1cm4gXCJvcGVyYXRvclwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJlYW0ubWF0Y2goL1xcLns0LH0vKSkge1xuICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgvXFwuezEsM30vKSkge1xuICAgICAgcmV0dXJuIFwib3BlcmF0b3JcIjtcbiAgICB9XG5cbiAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBjaCA9IHN0cmVhbS5wZWVrKCk7XG5cbiAgICAvLyBIYW5kbGUgc2luZ2xlIGxpbmUgY29tbWVudHNcbiAgICBpZiAoY2ggPT09ICcjJykge1xuICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgcmV0dXJuIFwiY29tbWVudFwiO1xuICAgIH1cblxuICAgIGlmIChjaCA9PT0gJ1snKSB7XG4gICAgICBzdGF0ZS5zY29wZXMucHVzaCgnWycpO1xuICAgICAgc3RhdGUubmVzdGVkQXJyYXlzKys7XG4gICAgfVxuXG4gICAgaWYgKGNoID09PSAnKCcpIHtcbiAgICAgIHN0YXRlLnNjb3Blcy5wdXNoKCcoJyk7XG4gICAgICBzdGF0ZS5uZXN0ZWRHZW5lcmF0b3JzKys7XG4gICAgfVxuXG4gICAgaWYgKGluQXJyYXkoc3RhdGUpICYmIGNoID09PSAnXScpIHtcbiAgICAgIGlmIChjdXJyZW50U2NvcGUoc3RhdGUpID09PSBcImlmXCIpIHsgc3RhdGUuc2NvcGVzLnBvcCgpOyB9XG4gICAgICB3aGlsZSAoY3VycmVudFNjb3BlKHN0YXRlKSA9PT0gXCJmb3JcIikgeyBzdGF0ZS5zY29wZXMucG9wKCk7IH1cbiAgICAgIHN0YXRlLnNjb3Blcy5wb3AoKTtcbiAgICAgIHN0YXRlLm5lc3RlZEFycmF5cy0tO1xuICAgICAgc3RhdGUubGVhdmluZ0V4cHIgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpbkdlbmVyYXRvcihzdGF0ZSkgJiYgY2ggPT09ICcpJykge1xuICAgICAgaWYgKGN1cnJlbnRTY29wZShzdGF0ZSkgPT09IFwiaWZcIikgeyBzdGF0ZS5zY29wZXMucG9wKCk7IH1cbiAgICAgIHdoaWxlIChjdXJyZW50U2NvcGUoc3RhdGUpID09PSBcImZvclwiKSB7IHN0YXRlLnNjb3Blcy5wb3AoKTsgfVxuICAgICAgc3RhdGUuc2NvcGVzLnBvcCgpO1xuICAgICAgc3RhdGUubmVzdGVkR2VuZXJhdG9ycy0tO1xuICAgICAgc3RhdGUubGVhdmluZ0V4cHIgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpbkFycmF5KHN0YXRlKSkge1xuICAgICAgaWYgKHN0YXRlLmxhc3RUb2tlbiA9PSBcImVuZFwiICYmIHN0cmVhbS5tYXRjaCgvXjovKSkge1xuICAgICAgICByZXR1cm4gXCJvcGVyYXRvclwiO1xuICAgICAgfVxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXmVuZC8pKSB7XG4gICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtYXRjaDtcbiAgICBpZiAobWF0Y2ggPSBzdHJlYW0ubWF0Y2gob3BlbmVycywgZmFsc2UpKSB7XG4gICAgICBzdGF0ZS5zY29wZXMucHVzaChtYXRjaFswXSk7XG4gICAgfVxuXG4gICAgaWYgKHN0cmVhbS5tYXRjaChjbG9zZXJzLCBmYWxzZSkpIHtcbiAgICAgIHN0YXRlLnNjb3Blcy5wb3AoKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdHlwZSBhbm5vdGF0aW9uc1xuICAgIGlmIChzdHJlYW0ubWF0Y2goL146Oig/IVs6XFwkXSkvKSkge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkFubm90YXRpb247XG4gICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHN5bWJvbHNcbiAgICBpZiAoIWxlYXZpbmdFeHByICYmIHN0cmVhbS5tYXRjaChzeW1ib2wpIHx8XG4gICAgICAgIHN0cmVhbS5tYXRjaCgvOihbPD5dOnw8PD0/fD4+Pj89P3wtPnxcXC9cXC98XFwuezIsM318W1xcLlxcXFwlKitcXC08PiFcXC9efCZdPT98W35cXD9cXCRdKS8pKSB7XG4gICAgICByZXR1cm4gXCJidWlsdGluXCI7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHBhcmFtZXRyaWMgdHlwZXNcbiAgICAvL2lmIChzdHJlYW0ubWF0Y2goL157W159XSp9KD89XFwoKS8pKSB7XG4gICAgLy8gIHJldHVybiBcImJ1aWx0aW5cIjtcbiAgICAvL31cblxuICAgIC8vIEhhbmRsZSBvcGVyYXRvcnMgYW5kIERlbGltaXRlcnNcbiAgICBpZiAoc3RyZWFtLm1hdGNoKG9wZXJhdG9ycykpIHtcbiAgICAgIHJldHVybiBcIm9wZXJhdG9yXCI7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIE51bWJlciBMaXRlcmFsc1xuICAgIGlmIChzdHJlYW0ubWF0Y2goL15cXC4/XFxkLywgZmFsc2UpKSB7XG4gICAgICB2YXIgaW1NYXRjaGVyID0gUmVnRXhwKC9eaW1cXGIvKTtcbiAgICAgIHZhciBudW1iZXJMaXRlcmFsID0gZmFsc2U7XG4gICAgICAvLyBGbG9hdHNcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14oPzooPzpcXGRbX1xcZF0qKT9cXC4oPyFcXC4pKD86XFxkW19cXGRdKik/fFxcZFtfXFxkXSpcXC4oPyFcXC4pKD86XFxkW19cXGRdKikpPyhbRWVmXVtcXCtcXC1dP1tfXFxkXSspPy9pKSkgeyBudW1iZXJMaXRlcmFsID0gdHJ1ZTsgfVxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXjB4XFwuWzAtOWEtZl9dK3BbXFwrXFwtXT9bX1xcZF0rL2kpKSB7IG51bWJlckxpdGVyYWwgPSB0cnVlOyB9XG4gICAgICAvLyBJbnRlZ2Vyc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXjB4WzAtOWEtZl9dKy9pKSkgeyBudW1iZXJMaXRlcmFsID0gdHJ1ZTsgfSAvLyBIZXhcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14wYlswMV9dKy9pKSkgeyBudW1iZXJMaXRlcmFsID0gdHJ1ZTsgfSAvLyBCaW5hcnlcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14wb1swLTdfXSsvaSkpIHsgbnVtYmVyTGl0ZXJhbCA9IHRydWU7IH0gLy8gT2N0YWxcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL15bMS05XVtfXFxkXSooZVtcXCtcXC1dP1xcZCspPy8pKSB7IG51bWJlckxpdGVyYWwgPSB0cnVlOyB9IC8vIERlY2ltYWxcbiAgICAgIC8vIFplcm8gYnkgaXRzZWxmIHdpdGggbm8gb3RoZXIgcGllY2Ugb2YgbnVtYmVyLlxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXjAoPyFbXFxkeF0pL2kpKSB7IG51bWJlckxpdGVyYWwgPSB0cnVlOyB9XG4gICAgICBpZiAobnVtYmVyTGl0ZXJhbCkge1xuICAgICAgICAgIC8vIEludGVnZXIgbGl0ZXJhbHMgbWF5IGJlIFwibG9uZ1wiXG4gICAgICAgICAgc3RyZWFtLm1hdGNoKGltTWF0Y2hlcik7XG4gICAgICAgICAgc3RhdGUubGVhdmluZ0V4cHIgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBDaGFyc1xuICAgIGlmIChzdHJlYW0ubWF0Y2goL14nLykpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5DaGFyO1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBTdHJpbmdzXG4gICAgaWYgKHN0cmVhbS5tYXRjaChzdHJpbmdQcmVmaXhlcykpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmdGYWN0b3J5KHN0cmVhbS5jdXJyZW50KCkpO1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChzdHJlYW0ubWF0Y2gobWFjcm8pKSB7XG4gICAgICByZXR1cm4gXCJtZXRhXCI7XG4gICAgfVxuXG4gICAgaWYgKHN0cmVhbS5tYXRjaChkZWxpbWl0ZXJzKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHN0cmVhbS5tYXRjaChrZXl3b3JkcykpIHtcbiAgICAgIHJldHVybiBcImtleXdvcmRcIjtcbiAgICB9XG5cbiAgICBpZiAoc3RyZWFtLm1hdGNoKGJ1aWx0aW5zKSkge1xuICAgICAgcmV0dXJuIFwiYnVpbHRpblwiO1xuICAgIH1cblxuICAgIHZhciBpc0RlZmluaXRpb24gPSBzdGF0ZS5pc0RlZmluaXRpb24gfHwgc3RhdGUubGFzdFRva2VuID09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5sYXN0VG9rZW4gPT0gXCJtYWNyb1wiIHx8IHN0YXRlLmxhc3RUb2tlbiA9PSBcInR5cGVcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5sYXN0VG9rZW4gPT0gXCJzdHJ1Y3RcIiB8fCBzdGF0ZS5sYXN0VG9rZW4gPT0gXCJpbW11dGFibGVcIjtcblxuICAgIGlmIChzdHJlYW0ubWF0Y2goaWRlbnRpZmllcnMpKSB7XG4gICAgICBpZiAoaXNEZWZpbml0aW9uKSB7XG4gICAgICAgIGlmIChzdHJlYW0ucGVlaygpID09PSAnLicpIHtcbiAgICAgICAgICBzdGF0ZS5pc0RlZmluaXRpb24gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBcInZhcmlhYmxlXCI7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuaXNEZWZpbml0aW9uID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBcImRlZlwiO1xuICAgICAgfVxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXih7W159XSp9KSpcXCgvLCBmYWxzZSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNhbGxPckRlZjtcbiAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgfVxuICAgICAgc3RhdGUubGVhdmluZ0V4cHIgPSB0cnVlO1xuICAgICAgcmV0dXJuIFwidmFyaWFibGVcIjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgbm9uLWRldGVjdGVkIGl0ZW1zXG4gICAgc3RyZWFtLm5leHQoKTtcbiAgICByZXR1cm4gXCJlcnJvclwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5DYWxsT3JEZWYoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBtYXRjaCA9IHN0cmVhbS5tYXRjaCgvXihcXChcXHMqKS8pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgaWYgKHN0YXRlLmZpcnN0UGFyZW5Qb3MgPCAwKVxuICAgICAgICBzdGF0ZS5maXJzdFBhcmVuUG9zID0gc3RhdGUuc2NvcGVzLmxlbmd0aDtcbiAgICAgIHN0YXRlLnNjb3Blcy5wdXNoKCcoJyk7XG4gICAgICBzdGF0ZS5jaGFyc0FkdmFuY2VkICs9IG1hdGNoWzFdLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTY29wZShzdGF0ZSkgPT0gJygnICYmIHN0cmVhbS5tYXRjaCgvXlxcKS8pKSB7XG4gICAgICBzdGF0ZS5zY29wZXMucG9wKCk7XG4gICAgICBzdGF0ZS5jaGFyc0FkdmFuY2VkICs9IDE7XG4gICAgICBpZiAoc3RhdGUuc2NvcGVzLmxlbmd0aCA8PSBzdGF0ZS5maXJzdFBhcmVuUG9zKSB7XG4gICAgICAgIHZhciBpc0RlZmluaXRpb24gPSBzdHJlYW0ubWF0Y2goL14oXFxzKndoZXJlXFxzK1teXFxzPV0rKSpcXHMqPz0oPyE9KS8sIGZhbHNlKTtcbiAgICAgICAgc3RyZWFtLmJhY2tVcChzdGF0ZS5jaGFyc0FkdmFuY2VkKTtcbiAgICAgICAgc3RhdGUuZmlyc3RQYXJlblBvcyA9IC0xO1xuICAgICAgICBzdGF0ZS5jaGFyc0FkdmFuY2VkID0gMDtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICAgIGlmIChpc0RlZmluaXRpb24pXG4gICAgICAgICAgcmV0dXJuIFwiZGVmXCI7XG4gICAgICAgIHJldHVybiBcImJ1aWx0aW5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVW5mb3J0dW5hdGVseSBqYXZhc2NyaXB0IGRvZXMgbm90IHN1cHBvcnQgbXVsdGlsaW5lIHN0cmluZ3MsIHNvIHdlIGhhdmVcbiAgICAvLyB0byB1bmRvIGFueXRoaW5nIGRvbmUgdXB0byBoZXJlIGlmIGEgZnVuY3Rpb24gY2FsbCBvciBkZWZpbml0aW9uIHNwbGl0c1xuICAgIC8vIG92ZXIgdHdvIG9yIG1vcmUgbGluZXMuXG4gICAgaWYgKHN0cmVhbS5tYXRjaCgvXiQvZywgZmFsc2UpKSB7XG4gICAgICBzdHJlYW0uYmFja1VwKHN0YXRlLmNoYXJzQWR2YW5jZWQpO1xuICAgICAgd2hpbGUgKHN0YXRlLnNjb3Blcy5sZW5ndGggPiBzdGF0ZS5maXJzdFBhcmVuUG9zKVxuICAgICAgICBzdGF0ZS5zY29wZXMucG9wKCk7XG4gICAgICBzdGF0ZS5maXJzdFBhcmVuUG9zID0gLTE7XG4gICAgICBzdGF0ZS5jaGFyc0FkdmFuY2VkID0gMDtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgcmV0dXJuIFwiYnVpbHRpblwiO1xuICAgIH1cbiAgICBzdGF0ZS5jaGFyc0FkdmFuY2VkICs9IHN0cmVhbS5tYXRjaCgvXihbXigpXSopLylbMV0ubGVuZ3RoO1xuICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuQW5ub3RhdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgc3RyZWFtLm1hdGNoKC8uKj8oPz0sfDt8e3x9fFxcKHxcXCl8PXwkfFxccykvKTtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKC9eey8pKSB7XG4gICAgICBzdGF0ZS5uZXN0ZWRQYXJhbWV0ZXJzKys7XG4gICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goL159LykgJiYgc3RhdGUubmVzdGVkUGFyYW1ldGVycyA+IDApIHtcbiAgICAgIHN0YXRlLm5lc3RlZFBhcmFtZXRlcnMtLTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLm5lc3RlZFBhcmFtZXRlcnMgPiAwKSB7XG4gICAgICBzdHJlYW0ubWF0Y2goLy4qPyg/PXt8fSkvKSB8fCBzdHJlYW0ubmV4dCgpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUubmVzdGVkUGFyYW1ldGVycyA9PSAwKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICB9XG4gICAgcmV0dXJuIFwiYnVpbHRpblwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5Db21tZW50KHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKC9eIz0vKSkge1xuICAgICAgc3RhdGUubmVzdGVkQ29tbWVudHMrKztcbiAgICB9XG4gICAgaWYgKCFzdHJlYW0ubWF0Y2goLy4qPyg/PSgjPXw9IykpLykpIHtcbiAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICB9XG4gICAgaWYgKHN0cmVhbS5tYXRjaCgvXj0jLykpIHtcbiAgICAgIHN0YXRlLm5lc3RlZENvbW1lbnRzLS07XG4gICAgICBpZiAoc3RhdGUubmVzdGVkQ29tbWVudHMgPT0gMClcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgfVxuICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuQ2hhcihzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIGlzQ2hhciA9IGZhbHNlLCBtYXRjaDtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKGNoYXJzKSkge1xuICAgICAgaXNDaGFyID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKG1hdGNoID0gc3RyZWFtLm1hdGNoKC9cXFxcdShbYS1mMC05XXsxLDR9KSg/PScpL2kpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJzZUludChtYXRjaFsxXSwgMTYpO1xuICAgICAgaWYgKHZhbHVlIDw9IDU1Mjk1IHx8IHZhbHVlID49IDU3MzQ0KSB7IC8vIChVKzAsVStEN0ZGKSwgKFUrRTAwMCxVK0ZGRkYpXG4gICAgICAgIGlzQ2hhciA9IHRydWU7XG4gICAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtYXRjaCA9IHN0cmVhbS5tYXRjaCgvXFxcXFUoW0EtRmEtZjAtOV17NSw4fSkoPz0nKS8pKSB7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJzZUludChtYXRjaFsxXSwgMTYpO1xuICAgICAgaWYgKHZhbHVlIDw9IDExMTQxMTEpIHsgLy8gVSsxMEZGRkZcbiAgICAgICAgaXNDaGFyID0gdHJ1ZTtcbiAgICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQ2hhcikge1xuICAgICAgc3RhdGUubGVhdmluZ0V4cHIgPSB0cnVlO1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9XG4gICAgaWYgKCFzdHJlYW0ubWF0Y2goL15bXiddKyg/PScpLykpIHsgc3RyZWFtLnNraXBUb0VuZCgpOyB9XG4gICAgaWYgKHN0cmVhbS5tYXRjaCgvXicvKSkgeyBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTsgfVxuICAgIHJldHVybiBcImVycm9yXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0b2tlblN0cmluZ0ZhY3RvcnkoZGVsaW1pdGVyKSB7XG4gICAgaWYgKGRlbGltaXRlci5zdWJzdHIoLTMpID09PSAnXCJcIlwiJykge1xuICAgICAgZGVsaW1pdGVyID0gJ1wiXCJcIic7XG4gICAgfSBlbHNlIGlmIChkZWxpbWl0ZXIuc3Vic3RyKC0xKSA9PT0gJ1wiJykge1xuICAgICAgZGVsaW1pdGVyID0gJ1wiJztcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9rZW5TdHJpbmcoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0cmVhbS5lYXQoJ1xcXFwnKSkge1xuICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goZGVsaW1pdGVyKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICAgICAgc3RhdGUubGVhdmluZ0V4cHIgPSB0cnVlO1xuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cmVhbS5lYXQoL1tgXCJdLyk7XG4gICAgICB9XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1teXFxcXGBcIl0vKTtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5TdHJpbmc7XG4gIH1cblxuICB2YXIgZXh0ZXJuYWwgPSB7XG4gICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbml6ZTogdG9rZW5CYXNlLFxuICAgICAgICBzY29wZXM6IFtdLFxuICAgICAgICBsYXN0VG9rZW46IG51bGwsXG4gICAgICAgIGxlYXZpbmdFeHByOiBmYWxzZSxcbiAgICAgICAgaXNEZWZpbml0aW9uOiBmYWxzZSxcbiAgICAgICAgbmVzdGVkQXJyYXlzOiAwLFxuICAgICAgICBuZXN0ZWRDb21tZW50czogMCxcbiAgICAgICAgbmVzdGVkR2VuZXJhdG9yczogMCxcbiAgICAgICAgbmVzdGVkUGFyYW1ldGVyczogMCxcbiAgICAgICAgY2hhcnNBZHZhbmNlZDogMCxcbiAgICAgICAgZmlyc3RQYXJlblBvczogLTFcbiAgICAgIH07XG4gICAgfSxcblxuICAgIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICB2YXIgc3R5bGUgPSBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHZhciBjdXJyZW50ID0gc3RyZWFtLmN1cnJlbnQoKTtcblxuICAgICAgaWYgKGN1cnJlbnQgJiYgc3R5bGUpIHtcbiAgICAgICAgc3RhdGUubGFzdFRva2VuID0gY3VycmVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH0sXG5cbiAgICBpbmRlbnQ6IGZ1bmN0aW9uKHN0YXRlLCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIHZhciBkZWx0YSA9IDA7XG4gICAgICBpZiAoIHRleHRBZnRlciA9PT0gJ10nIHx8IHRleHRBZnRlciA9PT0gJyknIHx8IHRleHRBZnRlciA9PT0gXCJlbmRcIiB8fFxuICAgICAgICAgICB0ZXh0QWZ0ZXIgPT09IFwiZWxzZVwiIHx8IHRleHRBZnRlciA9PT0gXCJjYXRjaFwiIHx8IHRleHRBZnRlciA9PT0gXCJlbHNlaWZcIiB8fFxuICAgICAgICAgICB0ZXh0QWZ0ZXIgPT09IFwiZmluYWxseVwiICkge1xuICAgICAgICBkZWx0YSA9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzdGF0ZS5zY29wZXMubGVuZ3RoICsgZGVsdGEpICogY29uZmlnLmluZGVudFVuaXQ7XG4gICAgfSxcblxuICAgIGVsZWN0cmljSW5wdXQ6IC9cXGIoZW5kfGVsc2V8Y2F0Y2h8ZmluYWxseSlcXGIvLFxuICAgIGJsb2NrQ29tbWVudFN0YXJ0OiBcIiM9XCIsXG4gICAgYmxvY2tDb21tZW50RW5kOiBcIj0jXCIsXG4gICAgbGluZUNvbW1lbnQ6IFwiI1wiLFxuICAgIGNsb3NlQnJhY2tldHM6IFwiKClbXXt9XFxcIlxcXCJcIixcbiAgICBmb2xkOiBcImluZGVudFwiXG4gIH07XG4gIHJldHVybiBleHRlcm5hbDtcbn0pO1xuXG5cbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1qdWxpYVwiLCBcImp1bGlhXCIpO1xuXG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=