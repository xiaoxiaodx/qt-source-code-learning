(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{"./node_modules/codemirror/mode/scheme/scheme.js":function(e,t,n){!function(e){"use strict";e.defineMode("scheme",(function(){function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var t=e("Î» case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"),n=e("define let letrec let* lambda");function r(e,t,n){this.indent=e,this.type=t,this.prev=n}function i(e,t,n){e.indentStack=new r(t,n,e.indentStack)}var a=new RegExp(/^(?:[-+]i|[-+][01]+#*(?:\/[01]+#*)?i|[-+]?[01]+#*(?:\/[01]+#*)?@[-+]?[01]+#*(?:\/[01]+#*)?|[-+]?[01]+#*(?:\/[01]+#*)?[-+](?:[01]+#*(?:\/[01]+#*)?)?i|[-+]?[01]+#*(?:\/[01]+#*)?)(?=[()\s;"]|$)/i),c=new RegExp(/^(?:[-+]i|[-+][0-7]+#*(?:\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?)(?=[()\s;"]|$)/i),o=new RegExp(/^(?:[-+]i|[-+][\da-f]+#*(?:\/[\da-f]+#*)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?@[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?[-+](?:[\da-f]+#*(?:\/[\da-f]+#*)?)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?)(?=[()\s;"]|$)/i),s=new RegExp(/^(?:[-+]i|[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)i|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)@[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)?i|(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*))(?=[()\s;"]|$)/i);function l(e){return e.match(a)}function d(e){return e.match(c)}function m(e,t){return!0===t&&e.backUp(1),e.match(s)}function u(e){return e.match(o)}return{startState:function(){return{indentStack:null,indentation:0,mode:!1,sExprComment:!1,sExprQuote:!1}},token:function(e,r){if(null==r.indentStack&&e.sol()&&(r.indentation=e.indentation()),e.eatSpace())return null;var a=null;switch(r.mode){case"string":for(var c=!1;null!=(o=e.next());){if('"'==o&&!c){r.mode=!1;break}c=!c&&"\\"==o}a="string";break;case"comment":for(var o,s=!1;null!=(o=e.next());){if("#"==o&&s){r.mode=!1;break}s="|"==o}a="comment";break;case"s-expr-comment":if(r.mode=!1,"("!=e.peek()&&"["!=e.peek()){e.eatWhile(/[^\s\(\)\[\]]/),a="comment";break}r.sExprComment=0;default:var p=e.next();if('"'==p)r.mode="string",a="string";else if("'"==p)"("==e.peek()||"["==e.peek()?("number"!=typeof r.sExprQuote&&(r.sExprQuote=0),a="atom"):(e.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/),a="atom");else if("#"==p)if(e.eat("|"))r.mode="comment",a="comment";else if(e.eat(/[tf]/i))a="atom";else if(e.eat(";"))r.mode="s-expr-comment",a="comment";else{var f=null,h=!1,g=!0;e.eat(/[ei]/i)?h=!0:e.backUp(1),e.match(/^#b/i)?f=l:e.match(/^#o/i)?f=d:e.match(/^#x/i)?f=u:e.match(/^#d/i)?f=m:e.match(/^[-+0-9.]/,!1)?(g=!1,f=m):h||e.eat("#"),null!=f&&(g&&!h&&e.match(/^#[ei]/i),f(e)&&(a="number"))}else if(/^[-+0-9.]/.test(p)&&m(e,!0))a="number";else if(";"==p)e.skipToEnd(),a="comment";else if("("==p||"["==p){for(var x,b="",v=e.column();null!=(x=e.eat(/[^\s\(\[\;\)\]]/));)b+=x;b.length>0&&n.propertyIsEnumerable(b)?i(r,v+2,p):(e.eatSpace(),e.eol()||";"==e.peek()?i(r,v+1,p):i(r,v+e.current().length,p)),e.backUp(e.current().length-1),"number"==typeof r.sExprComment&&r.sExprComment++,"number"==typeof r.sExprQuote&&r.sExprQuote++,a="bracket"}else")"==p||"]"==p?(a="bracket",null!=r.indentStack&&r.indentStack.type==(")"==p?"(":"[")&&(function(e){e.indentStack=e.indentStack.prev}(r),"number"==typeof r.sExprComment&&0==--r.sExprComment&&(a="comment",r.sExprComment=!1),"number"==typeof r.sExprQuote&&0==--r.sExprQuote&&(a="atom",r.sExprQuote=!1))):(e.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/),a=t&&t.propertyIsEnumerable(e.current())?"builtin":"variable")}return"number"==typeof r.sExprComment?"comment":"number"==typeof r.sExprQuote?"atom":a},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}})),e.defineMIME("text/x-scheme","scheme")}(n("./node_modules/codemirror/lib/codemirror.js"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL3NjaGVtZS9zY2hlbWUuanMiXSwibmFtZXMiOlsiQ29kZU1pcnJvciIsImRlZmluZU1vZGUiLCJtYWtlS2V5d29yZHMiLCJzdHIiLCJvYmoiLCJ3b3JkcyIsInNwbGl0IiwiaSIsImxlbmd0aCIsImtleXdvcmRzIiwiaW5kZW50S2V5cyIsInN0YXRlU3RhY2siLCJpbmRlbnQiLCJ0eXBlIiwicHJldiIsInRoaXMiLCJwdXNoU3RhY2siLCJzdGF0ZSIsImluZGVudFN0YWNrIiwiYmluYXJ5TWF0Y2hlciIsIlJlZ0V4cCIsIm9jdGFsTWF0Y2hlciIsImhleE1hdGNoZXIiLCJkZWNpbWFsTWF0Y2hlciIsImlzQmluYXJ5TnVtYmVyIiwic3RyZWFtIiwibWF0Y2giLCJpc09jdGFsTnVtYmVyIiwiaXNEZWNpbWFsTnVtYmVyIiwiYmFja3VwIiwiYmFja1VwIiwiaXNIZXhOdW1iZXIiLCJzdGFydFN0YXRlIiwiaW5kZW50YXRpb24iLCJtb2RlIiwic0V4cHJDb21tZW50Iiwic0V4cHJRdW90ZSIsInRva2VuIiwic29sIiwiZWF0U3BhY2UiLCJyZXR1cm5UeXBlIiwiZXNjYXBlZCIsIm5leHQiLCJtYXliZUVuZCIsInBlZWsiLCJlYXRXaGlsZSIsImNoIiwiZWF0IiwibnVtVGVzdCIsImhhc0V4YWN0bmVzcyIsImhhc1JhZGl4IiwidGVzdCIsInNraXBUb0VuZCIsImxldHRlciIsImtleVdvcmQiLCJpbmRlbnRUZW1wIiwiY29sdW1uIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJlb2wiLCJjdXJyZW50IiwicG9wU3RhY2siLCJjbG9zZUJyYWNrZXRzIiwicGFpcnMiLCJsaW5lQ29tbWVudCIsImRlZmluZU1JTUUiLCJtb2QiXSwibWFwcGluZ3MiOiI2SEFjRyxTQUFTQSxHQUNaLGFBRUFBLEVBQVdDLFdBQVcsVUFBVSxXQUs1QixTQUFTQyxFQUFhQyxHQUVsQixJQURBLElBQUlDLEVBQU0s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TmlDLEVBQVksSUFBTSxPQXhMbEcsU0FBa0I3QixHQUNkQSxFQUFNQyxZQUFjRCxFQUFNQyxZQUFZSixLQXdMbEI4QyxDQUFTM0MsR0FFdUIsaUJBQXRCQSxFQUFNa0IsY0FDZSxLQUF0QmxCLEVBQU1rQixlQUNQSyxFQXBORyxVQXFOSHZCLEVBQU1rQixjQUFlLEdBR0MsaUJBQXBCbEIsRUFBTW1CLFlBQ2EsS0FBcEJuQixFQUFNbUIsYUFDUEksRUF6TnJCLE9BME5xQnZCLEVBQU1tQixZQUFhLE1BSy9CWCxFQUFPb0IsU0FBUyw4QkFHWkwsRUFEQS9CLEdBQVlBLEVBQVNnRCxxQkFBcUJoQyxFQUFPa0MsV0FsTzNELFVBb08wQixZQUdoQyxNQUFxQyxpQkFBdEIxQyxFQUFNa0IsYUF2T00sVUF1TzZELGlCQUFwQmxCLEVBQU1tQixXQXRPdkUsT0FzT3dHSSxHQUcvRzVCLE9BQVEsU0FBVUssR0FDZCxPQUF5QixNQUFyQkEsRUFBTUMsWUFBNEJELEVBQU1nQixZQUNyQ2hCLEVBQU1DLFlBQVlOLFFBRzdCaUQsY0FBZSxDQUFDQyxNQUFPLFlBQ3ZCQyxZQUFhLFNBSXJCL0QsRUFBV2dFLFdBQVcsZ0JBQWlCLFVBN1BuQ0MsQ0FBSSxFQUFRIiwiZmlsZSI6Ijg4LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbi8qKlxuICogQXV0aG9yOiBLb2ggWmkgSGFuLCBiYXNlZCBvbiBpbXBsZW1lbnRhdGlvbiBieSBLb2ggWmkgQ2h1blxuICovXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwic2NoZW1lXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgQlVJTFRJTiA9IFwiYnVpbHRpblwiLCBDT01NRU5UID0gXCJjb21tZW50XCIsIFNUUklORyA9IFwic3RyaW5nXCIsXG4gICAgICAgIEFUT00gPSBcImF0b21cIiwgTlVNQkVSID0gXCJudW1iZXJcIiwgQlJBQ0tFVCA9IFwiYnJhY2tldFwiO1xuICAgIHZhciBJTkRFTlRfV09SRF9TS0lQID0gMjtcblxuICAgIGZ1bmN0aW9uIG1ha2VLZXl3b3JkcyhzdHIpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9LCB3b3JkcyA9IHN0ci5zcGxpdChcIiBcIik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyArK2kpIG9ialt3b3Jkc1tpXV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHZhciBrZXl3b3JkcyA9IG1ha2VLZXl3b3JkcyhcIs67IGNhc2UtbGFtYmRhIGNhbGwvY2MgY2xhc3MgZGVmaW5lLWNsYXNzIGV4aXQtaGFuZGxlciBmaWVsZCBpbXBvcnQgaW5oZXJpdCBpbml0LWZpZWxkIGludGVyZmFjZSBsZXQqLXZhbHVlcyBsZXQtdmFsdWVzIGxldC9lYyBtaXhpbiBvcHQtbGFtYmRhIG92ZXJyaWRlIHByb3RlY3QgcHJvdmlkZSBwdWJsaWMgcmVuYW1lIHJlcXVpcmUgcmVxdWlyZS1mb3Itc3ludGF4IHN5bnRheCBzeW50YXgtY2FzZSBzeW50YXgtZXJyb3IgdW5pdC9zaWcgdW5sZXNzIHdoZW4gd2l0aC1zeW50YXggYW5kIGJlZ2luIGNhbGwtd2l0aC1jdXJyZW50LWNvbnRpbnVhdGlvbiBjYWxsLXdpdGgtaW5wdXQtZmlsZSBjYWxsLXdpdGgtb3V0cHV0LWZpbGUgY2FzZSBjb25kIGRlZmluZSBkZWZpbmUtc3ludGF4IGRlbGF5IGRvIGR5bmFtaWMtd2luZCBlbHNlIGZvci1lYWNoIGlmIGxhbWJkYSBsZXQgbGV0KiBsZXQtc3ludGF4IGxldHJlYyBsZXRyZWMtc3ludGF4IG1hcCBvciBzeW50YXgtcnVsZXMgYWJzIGFjb3MgYW5nbGUgYXBwZW5kIGFwcGx5IGFzaW4gYXNzb2MgYXNzcSBhc3N2IGF0YW4gYm9vbGVhbj8gY2FhciBjYWRyIGNhbGwtd2l0aC1pbnB1dC1maWxlIGNhbGwtd2l0aC1vdXRwdXQtZmlsZSBjYWxsLXdpdGgtdmFsdWVzIGNhciBjZGRkYXIgY2RkZGRyIGNkciBjZWlsaW5nIGNoYXItPmludGVnZXIgY2hhci1hbHBoYWJldGljPyBjaGFyLWNpPD0/IGNoYXItY2k8PyBjaGFyLWNpPT8gY2hhci1jaT49PyBjaGFyLWNpPj8gY2hhci1kb3duY2FzZSBjaGFyLWxvd2VyLWNhc2U/IGNoYXItbnVtZXJpYz8gY2hhci1yZWFkeT8gY2hhci11cGNhc2UgY2hhci11cHBlci1jYXNlPyBjaGFyLXdoaXRlc3BhY2U/IGNoYXI8PT8gY2hhcjw/IGNoYXI9PyBjaGFyPj0/IGNoYXI+PyBjaGFyPyBjbG9zZS1pbnB1dC1wb3J0IGNsb3NlLW91dHB1dC1wb3J0IGNvbXBsZXg/IGNvbnMgY29zIGN1cnJlbnQtaW5wdXQtcG9ydCBjdXJyZW50LW91dHB1dC1wb3J0IGRlbm9taW5hdG9yIGRpc3BsYXkgZW9mLW9iamVjdD8gZXE/IGVxdWFsPyBlcXY/IGV2YWwgZXZlbj8gZXhhY3QtPmluZXhhY3QgZXhhY3Q/IGV4cCBleHB0ICNmIGZsb29yIGZvcmNlIGdjZCBpbWFnLXBhcnQgaW5leGFjdC0+ZXhhY3QgaW5leGFjdD8gaW5wdXQtcG9ydD8gaW50ZWdlci0+Y2hhciBpbnRlZ2VyPyBpbnRlcmFjdGlvbi1lbnZpcm9ubWVudCBsY20gbGVuZ3RoIGxpc3QgbGlzdC0+c3RyaW5nIGxpc3QtPnZlY3RvciBsaXN0LXJlZiBsaXN0LXRhaWwgbGlzdD8gbG9hZCBsb2cgbWFnbml0dWRlIG1ha2UtcG9sYXIgbWFrZS1yZWN0YW5ndWxhciBtYWtlLXN0cmluZyBtYWtlLXZlY3RvciBtYXggbWVtYmVyIG1lbXEgbWVtdiBtaW4gbW9kdWxvIG5lZ2F0aXZlPyBuZXdsaW5lIG5vdCBudWxsLWVudmlyb25tZW50IG51bGw/IG51bWJlci0+c3RyaW5nIG51bWJlcj8gbnVtZXJhdG9yIG9kZD8gb3Blbi1pbnB1dC1maWxlIG9wZW4tb3V0cHV0LWZpbGUgb3V0cHV0LXBvcnQ/IHBhaXI/IHBlZWstY2hhciBwb3J0PyBwb3NpdGl2ZT8gcHJvY2VkdXJlPyBxdWFzaXF1b3RlIHF1b3RlIHF1b3RpZW50IHJhdGlvbmFsPyByYXRpb25hbGl6ZSByZWFkIHJlYWQtY2hhciByZWFsLXBhcnQgcmVhbD8gcmVtYWluZGVyIHJldmVyc2Ugcm91bmQgc2NoZW1lLXJlcG9ydC1lbnZpcm9ubWVudCBzZXQhIHNldC1jYXIhIHNldC1jZHIhIHNpbiBzcXJ0IHN0cmluZyBzdHJpbmctPmxpc3Qgc3RyaW5nLT5udW1iZXIgc3RyaW5nLT5zeW1ib2wgc3RyaW5nLWFwcGVuZCBzdHJpbmctY2k8PT8gc3RyaW5nLWNpPD8gc3RyaW5nLWNpPT8gc3RyaW5nLWNpPj0/IHN0cmluZy1jaT4/IHN0cmluZy1jb3B5IHN0cmluZy1maWxsISBzdHJpbmctbGVuZ3RoIHN0cmluZy1yZWYgc3RyaW5nLXNldCEgc3RyaW5nPD0/IHN0cmluZzw/IHN0cmluZz0/IHN0cmluZz49PyBzdHJpbmc+PyBzdHJpbmc/IHN1YnN0cmluZyBzeW1ib2wtPnN0cmluZyBzeW1ib2w/ICN0IHRhbiB0cmFuc2NyaXB0LW9mZiB0cmFuc2NyaXB0LW9uIHRydW5jYXRlIHZhbHVlcyB2ZWN0b3IgdmVjdG9yLT5saXN0IHZlY3Rvci1maWxsISB2ZWN0b3ItbGVuZ3RoIHZlY3Rvci1yZWYgdmVjdG9yLXNldCEgd2l0aC1pbnB1dC1mcm9tLWZpbGUgd2l0aC1vdXRwdXQtdG8tZmlsZSB3cml0ZSB3cml0ZS1jaGFyIHplcm8/XCIpO1xuICAgIHZhciBpbmRlbnRLZXlzID0gbWFrZUtleXdvcmRzKFwiZGVmaW5lIGxldCBsZXRyZWMgbGV0KiBsYW1iZGFcIik7XG5cbiAgICBmdW5jdGlvbiBzdGF0ZVN0YWNrKGluZGVudCwgdHlwZSwgcHJldikgeyAvLyByZXByZXNlbnRzIGEgc3RhdGUgc3RhY2sgb2JqZWN0XG4gICAgICAgIHRoaXMuaW5kZW50ID0gaW5kZW50O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByZXYgPSBwcmV2O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1c2hTdGFjayhzdGF0ZSwgaW5kZW50LCB0eXBlKSB7XG4gICAgICAgIHN0YXRlLmluZGVudFN0YWNrID0gbmV3IHN0YXRlU3RhY2soaW5kZW50LCB0eXBlLCBzdGF0ZS5pbmRlbnRTdGFjayk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9wU3RhY2soc3RhdGUpIHtcbiAgICAgICAgc3RhdGUuaW5kZW50U3RhY2sgPSBzdGF0ZS5pbmRlbnRTdGFjay5wcmV2O1xuICAgIH1cblxuICAgIHZhciBiaW5hcnlNYXRjaGVyID0gbmV3IFJlZ0V4cCgvXig/OlstK11pfFstK11bMDFdKyMqKD86XFwvWzAxXSsjKik/aXxbLStdP1swMV0rIyooPzpcXC9bMDFdKyMqKT9AWy0rXT9bMDFdKyMqKD86XFwvWzAxXSsjKik/fFstK10/WzAxXSsjKig/OlxcL1swMV0rIyopP1stK10oPzpbMDFdKyMqKD86XFwvWzAxXSsjKik/KT9pfFstK10/WzAxXSsjKig/OlxcL1swMV0rIyopPykoPz1bKClcXHM7XCJdfCQpL2kpO1xuICAgIHZhciBvY3RhbE1hdGNoZXIgPSBuZXcgUmVnRXhwKC9eKD86Wy0rXWl8Wy0rXVswLTddKyMqKD86XFwvWzAtN10rIyopP2l8Wy0rXT9bMC03XSsjKig/OlxcL1swLTddKyMqKT9AWy0rXT9bMC03XSsjKig/OlxcL1swLTddKyMqKT98Wy0rXT9bMC03XSsjKig/OlxcL1swLTddKyMqKT9bLStdKD86WzAtN10rIyooPzpcXC9bMC03XSsjKik/KT9pfFstK10/WzAtN10rIyooPzpcXC9bMC03XSsjKik/KSg/PVsoKVxccztcIl18JCkvaSk7XG4gICAgdmFyIGhleE1hdGNoZXIgPSBuZXcgUmVnRXhwKC9eKD86Wy0rXWl8Wy0rXVtcXGRhLWZdKyMqKD86XFwvW1xcZGEtZl0rIyopP2l8Wy0rXT9bXFxkYS1mXSsjKig/OlxcL1tcXGRhLWZdKyMqKT9AWy0rXT9bXFxkYS1mXSsjKig/OlxcL1tcXGRhLWZdKyMqKT98Wy0rXT9bXFxkYS1mXSsjKig/OlxcL1tcXGRhLWZdKyMqKT9bLStdKD86W1xcZGEtZl0rIyooPzpcXC9bXFxkYS1mXSsjKik/KT9pfFstK10/W1xcZGEtZl0rIyooPzpcXC9bXFxkYS1mXSsjKik/KSg/PVsoKVxccztcIl18JCkvaSk7XG4gICAgdmFyIGRlY2ltYWxNYXRjaGVyID0gbmV3IFJlZ0V4cCgvXig/OlstK11pfFstK10oPzooPzooPzpcXGQrIytcXC4/Iyp8XFxkK1xcLlxcZCojKnxcXC5cXGQrIyp8XFxkKykoPzpbZXNmZGxdWy0rXT9cXGQrKT8pfFxcZCsjKlxcL1xcZCsjKilpfFstK10/KD86KD86KD86XFxkKyMrXFwuPyMqfFxcZCtcXC5cXGQqIyp8XFwuXFxkKyMqfFxcZCspKD86W2VzZmRsXVstK10/XFxkKyk/KXxcXGQrIypcXC9cXGQrIyopQFstK10/KD86KD86KD86XFxkKyMrXFwuPyMqfFxcZCtcXC5cXGQqIyp8XFwuXFxkKyMqfFxcZCspKD86W2VzZmRsXVstK10/XFxkKyk/KXxcXGQrIypcXC9cXGQrIyopfFstK10/KD86KD86KD86XFxkKyMrXFwuPyMqfFxcZCtcXC5cXGQqIyp8XFwuXFxkKyMqfFxcZCspKD86W2VzZmRsXVstK10/XFxkKyk/KXxcXGQrIypcXC9cXGQrIyopWy0rXSg/Oig/Oig/OlxcZCsjK1xcLj8jKnxcXGQrXFwuXFxkKiMqfFxcLlxcZCsjKnxcXGQrKSg/Oltlc2ZkbF1bLStdP1xcZCspPyl8XFxkKyMqXFwvXFxkKyMqKT9pfCg/Oig/Oig/OlxcZCsjK1xcLj8jKnxcXGQrXFwuXFxkKiMqfFxcLlxcZCsjKnxcXGQrKSg/Oltlc2ZkbF1bLStdP1xcZCspPyl8XFxkKyMqXFwvXFxkKyMqKSkoPz1bKClcXHM7XCJdfCQpL2kpO1xuXG4gICAgZnVuY3Rpb24gaXNCaW5hcnlOdW1iZXIgKHN0cmVhbSkge1xuICAgICAgICByZXR1cm4gc3RyZWFtLm1hdGNoKGJpbmFyeU1hdGNoZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2N0YWxOdW1iZXIgKHN0cmVhbSkge1xuICAgICAgICByZXR1cm4gc3RyZWFtLm1hdGNoKG9jdGFsTWF0Y2hlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEZWNpbWFsTnVtYmVyIChzdHJlYW0sIGJhY2t1cCkge1xuICAgICAgICBpZiAoYmFja3VwID09PSB0cnVlKSB7XG4gICAgICAgICAgICBzdHJlYW0uYmFja1VwKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJlYW0ubWF0Y2goZGVjaW1hbE1hdGNoZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSGV4TnVtYmVyIChzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIHN0cmVhbS5tYXRjaChoZXhNYXRjaGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydFN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGluZGVudFN0YWNrOiBudWxsLFxuICAgICAgICAgICAgICAgIGluZGVudGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgIG1vZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNFeHByQ29tbWVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc0V4cHJRdW90ZTogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9rZW46IGZ1bmN0aW9uIChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuaW5kZW50U3RhY2sgPT0gbnVsbCAmJiBzdHJlYW0uc29sKCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgaW5kZW50YXRpb24sIGJ1dCBvbmx5IGlmIGluZGVudFN0YWNrIGlzIGVtcHR5XG4gICAgICAgICAgICAgICAgc3RhdGUuaW5kZW50YXRpb24gPSBzdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2tpcCBzcGFjZXNcbiAgICAgICAgICAgIGlmIChzdHJlYW0uZWF0U3BhY2UoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJldHVyblR5cGUgPSBudWxsO1xuXG4gICAgICAgICAgICBzd2l0Y2goc3RhdGUubW9kZSl7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiAvLyBtdWx0aS1saW5lIHN0cmluZyBwYXJzaW5nIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQsIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChuZXh0ID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPT0gXCJcXFwiXCIgJiYgIWVzY2FwZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAhZXNjYXBlZCAmJiBuZXh0ID09IFwiXFxcXFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBTVFJJTkc7IC8vIGNvbnRpbnVlIG9uIGluIHNjaGVtZS1zdHJpbmcgbW9kZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tbWVudFwiOiAvLyBjb21tZW50IHBhcnNpbmcgbW9kZVxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCwgbWF5YmVFbmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChuZXh0ID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPT0gXCIjXCIgJiYgbWF5YmVFbmQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlRW5kID0gKG5leHQgPT0gXCJ8XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBDT01NRU5UO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicy1leHByLWNvbW1lbnRcIjogLy8gcy1leHByIGNvbW1lbnRpbmcgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmKHN0cmVhbS5wZWVrKCkgPT0gXCIoXCIgfHwgc3RyZWFtLnBlZWsoKSA9PSBcIltcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhY3R1YWxseSBzdGFydCBzY2hlbWUgcy1leHByIGNvbW1lbnRpbmcgbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuc0V4cHJDb21tZW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBub3Qgd2UganVzdCBjb21tZW50IHRoZSBlbnRpcmUgb2YgdGhlIG5leHQgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW15cXHNcXChcXClcXFtcXF1dLyk7IC8vIGVhdCBzeW1ib2wgYXRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZSA9IENPTU1FTlQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IC8vIGRlZmF1bHQgcGFyc2luZyBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09IFwiXFxcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBTVFJJTkc7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSBcIidcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5wZWVrKCkgPT0gXCIoXCIgfHwgc3RyZWFtLnBlZWsoKSA9PSBcIltcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZS5zRXhwclF1b3RlICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuc0V4cHJRdW90ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBlbHNlIGFscmVhZHkgaW4gYSBxdW90ZWQgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBBVE9NO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdfXFwtISQlJiorXFwuXFwvOjw9Pj9AXFxefl0vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gQVRPTTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJlYW0uZWF0KFwifFwiKSkgeyAgICAgICAgICAgICAgICAgICAgLy8gTXVsdGktbGluZSBjb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IFwiY29tbWVudFwiOyAvLyB0b2dnbGUgdG8gY29tbWVudCBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZSA9IENPTU1FTlQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoL1t0Zl0vaSkpIHsgICAgICAgICAgICAvLyAjdC8jZiAoYXRvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gQVRPTTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLmVhdCgnOycpKSB7ICAgICAgICAgICAgICAgIC8vIFMtRXhwciBjb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IFwicy1leHByLWNvbW1lbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gQ09NTUVOVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bVRlc3QgPSBudWxsLCBoYXNFeGFjdG5lc3MgPSBmYWxzZSwgaGFzUmFkaXggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJlYW0uZWF0KC9bZWldL2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V4YWN0bmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmJhY2tVcCgxKTsgICAgICAgLy8gbXVzdCBiZSByYWRpeCBzcGVjaWZpZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXiNiL2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bVRlc3QgPSBpc0JpbmFyeU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgvXiNvL2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bVRlc3QgPSBpc09jdGFsTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKC9eI3gvaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtVGVzdCA9IGlzSGV4TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKC9eI2QvaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtVGVzdCA9IGlzRGVjaW1hbE51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgvXlstKzAtOS5dLywgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JhZGl4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bVRlc3QgPSBpc0RlY2ltYWxOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmUtY29uc3VtZSB0aGUgaW50aWFsICMgaWYgYWxsIG1hdGNoZXMgZmFpbGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaGFzRXhhY3RuZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbS5lYXQoJyMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bVRlc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUmFkaXggJiYgIWhhc0V4YWN0bmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3VtZSBvcHRpb25hbCBleGFjdG5lc3MgYWZ0ZXIgcmFkaXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbS5tYXRjaCgvXiNbZWldL2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW1UZXN0KHN0cmVhbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gTlVNQkVSO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXlstKzAtOS5dLy50ZXN0KGNoKSAmJiBpc0RlY2ltYWxOdW1iZXIoc3RyZWFtLCB0cnVlKSkgeyAvLyBtYXRjaCBub24tcHJlZml4ZWQgbnVtYmVyLCBtdXN0IGJlIGRlY2ltYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBOVU1CRVI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCI7XCIpIHsgLy8gY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpOyAvLyByZXN0IG9mIHRoZSBsaW5lIGlzIGEgY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZSA9IENPTU1FTlQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIoXCIgfHwgY2ggPT0gXCJbXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5V29yZCA9ICcnOyB2YXIgaW5kZW50VGVtcCA9IHN0cmVhbS5jb2x1bW4oKSwgbGV0dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICBFaXRoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIChpbmRlbnQtd29yZCAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgKG5vbi1pbmRlbnQtd29yZCAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgKDtzb21ldGhpbmcgZWxzZSwgYnJhY2tldCwgZXRjLlxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChsZXR0ZXIgPSBzdHJlYW0uZWF0KC9bXlxcc1xcKFxcW1xcO1xcKVxcXV0vKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVdvcmQgKz0gbGV0dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5V29yZC5sZW5ndGggPiAwICYmIGluZGVudEtleXMucHJvcGVydHlJc0VudW1lcmFibGUoa2V5V29yZCkpIHsgLy8gaW5kZW50LXdvcmRcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hTdGFjayhzdGF0ZSwgaW5kZW50VGVtcCArIElOREVOVF9XT1JEX1NLSVAsIGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIG5vbi1pbmRlbnQgd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGNvbnRpbnVlIGVhdGluZyB0aGUgc3BhY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmVhdFNwYWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5lb2woKSB8fCBzdHJlYW0ucGVlaygpID09IFwiO1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgc2lnbmlmaWNhbnQgYWZ0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgcmVzdGFydCBpbmRlbnRhdGlvbiAxIHNwYWNlIGFmdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hTdGFjayhzdGF0ZSwgaW5kZW50VGVtcCArIDEsIGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoU3RhY2soc3RhdGUsIGluZGVudFRlbXAgKyBzdHJlYW0uY3VycmVudCgpLmxlbmd0aCwgY2gpOyAvLyBlbHNlIHdlIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmJhY2tVcChzdHJlYW0uY3VycmVudCgpLmxlbmd0aCAtIDEpOyAvLyB1bmRvIGFsbCB0aGUgZWF0aW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBzdGF0ZS5zRXhwckNvbW1lbnQgPT0gXCJudW1iZXJcIikgc3RhdGUuc0V4cHJDb21tZW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Ygc3RhdGUuc0V4cHJRdW90ZSA9PSBcIm51bWJlclwiKSBzdGF0ZS5zRXhwclF1b3RlKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBCUkFDS0VUO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiKVwiIHx8IGNoID09IFwiXVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gQlJBQ0tFVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pbmRlbnRTdGFjayAhPSBudWxsICYmIHN0YXRlLmluZGVudFN0YWNrLnR5cGUgPT0gKGNoID09IFwiKVwiID8gXCIoXCIgOiBcIltcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3BTdGFjayhzdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Ygc3RhdGUuc0V4cHJDb21tZW50ID09IFwibnVtYmVyXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigtLXN0YXRlLnNFeHByQ29tbWVudCA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBDT01NRU5UOyAvLyBmaW5hbCBjbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnNFeHByQ29tbWVudCA9IGZhbHNlOyAvLyB0dXJuIG9mZiBzLWV4cHIgY29tbWVudGluZyBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHN0YXRlLnNFeHByUXVvdGUgPT0gXCJudW1iZXJcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKC0tc3RhdGUuc0V4cHJRdW90ZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBBVE9NOyAvLyBmaW5hbCBjbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnNFeHByUXVvdGUgPSBmYWxzZTsgLy8gdHVybiBvZmYgcy1leHByIHF1b3RlIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd19cXC0hJCUmKitcXC5cXC86PD0+P0BcXF5+XS8pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5d29yZHMgJiYga2V5d29yZHMucHJvcGVydHlJc0VudW1lcmFibGUoc3RyZWFtLmN1cnJlbnQoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gQlVJTFRJTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm5UeXBlID0gXCJ2YXJpYWJsZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBzdGF0ZS5zRXhwckNvbW1lbnQgPT0gXCJudW1iZXJcIikgPyBDT01NRU5UIDogKCh0eXBlb2Ygc3RhdGUuc0V4cHJRdW90ZSA9PSBcIm51bWJlclwiKSA/IEFUT00gOiByZXR1cm5UeXBlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbmRlbnQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmluZGVudFN0YWNrID09IG51bGwpIHJldHVybiBzdGF0ZS5pbmRlbnRhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5pbmRlbnRTdGFjay5pbmRlbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2VCcmFja2V0czoge3BhaXJzOiBcIigpW117fVxcXCJcXFwiXCJ9LFxuICAgICAgICBsaW5lQ29tbWVudDogXCI7O1wiXG4gICAgfTtcbn0pO1xuXG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3gtc2NoZW1lXCIsIFwic2NoZW1lXCIpO1xuXG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=