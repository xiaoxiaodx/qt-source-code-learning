(window.webpackJsonp=window.webpackJsonp||[]).push([[15,54],{"./node_modules/codemirror/mode/django/django.js":function(e,t,n){!function(e){"use strict";e.defineMode("django:inner",(function(){var e=["block","endblock","for","endfor","true","false","filter","endfilter","loop","none","self","super","if","elif","endif","as","else","import","with","endwith","without","context","ifequal","endifequal","ifnotequal","endifnotequal","extends","include","load","comment","endcomment","empty","url","static","trans","blocktrans","endblocktrans","now","regroup","lorem","ifchanged","endifchanged","firstof","debug","cycle","csrf_token","autoescape","endautoescape","spaceless","endspaceless","ssi","templatetag","verbatim","endverbatim","widthratio"],t=["add","addslashes","capfirst","center","cut","date","default","default_if_none","dictsort","dictsortreversed","divisibleby","escape","escapejs","filesizeformat","first","floatformat","force_escape","get_digit","iriencode","join","last","length","length_is","linebreaks","linebreaksbr","linenumbers","ljust","lower","make_list","phone2numeric","pluralize","pprint","random","removetags","rjust","safe","safeseq","slice","slugify","stringformat","striptags","time","timesince","timeuntil","title","truncatechars","truncatechars_html","truncatewords","truncatewords_html","unordered_list","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap","yesno"],n=["==","!=","<",">","<=",">="],r=["in","not","or","and"];function a(e,t){if(e.match("{{"))return t.tokenize=o,"tag";if(e.match("{%"))return t.tokenize=l,"tag";if(e.match("{#"))return t.tokenize=c,"comment";for(;null!=e.next()&&!e.match(/\{[{%#]/,!1););return null}function i(e,t){return function(n,r){return!r.escapeNext&&n.eat(e)?r.tokenize=t:(r.escapeNext&&(r.escapeNext=!1),"\\"==n.next()&&(r.escapeNext=!0)),"string"}}function o(e,n){if(n.waitDot){if(n.waitDot=!1,"."!=e.peek())return"null";if(e.match(/\.\W+/))return"error";if(e.eat("."))return n.waitProperty=!0,"null";throw Error("Unexpected error while waiting for property.")}if(n.waitPipe){if(n.waitPipe=!1,"|"!=e.peek())return"null";if(e.match(/\.\W+/))return"error";if(e.eat("|"))return n.waitFilter=!0,"null";throw Error("Unexpected error while waiting for filter.")}return n.waitProperty&&(n.waitProperty=!1,e.match(/\b(\w+)\b/))?(n.waitDot=!0,n.waitPipe=!0,"property"):n.waitFilter&&(n.waitFilter=!1,e.match(t))?"variable-2":e.eatSpace()?(n.waitProperty=!1,"null"):e.match(/\b\d+(\.\d+)?\b/)?"number":e.match("'")?(n.tokenize=i("'",n.tokenize),"string"):e.match('"')?(n.tokenize=i('"',n.tokenize),"string"):e.match(/\b(\w+)\b/)&&!n.foundVariable?(n.waitDot=!0,n.waitPipe=!0,"variable"):e.match("}}")?(n.waitProperty=null,n.waitFilter=null,n.waitDot=null,n.waitPipe=null,n.tokenize=a,"tag"):(e.next(),"null")}function l(o,l){if(l.waitDot){if(l.waitDot=!1,"."!=o.peek())return"null";if(o.match(/\.\W+/))return"error";if(o.eat("."))return l.waitProperty=!0,"null";throw Error("Unexpected error while waiting for property.")}if(l.waitPipe){if(l.waitPipe=!1,"|"!=o.peek())return"null";if(o.match(/\.\W+/))return"error";if(o.eat("|"))return l.waitFilter=!0,"null";throw Error("Unexpected error while waiting for filter.")}if(l.waitProperty&&(l.waitProperty=!1,o.match(/\b(\w+)\b/)))return l.waitDot=!0,l.waitPipe=!0,"property";if(l.waitFilter&&(l.waitFilter=!1,o.match(t)))return"variable-2";if(o.eatSpace())return l.waitProperty=!1,"null";if(o.match(/\b\d+(\.\d+)?\b/))return"number";if(o.match("'"))return l.tokenize=i("'",l.tokenize),"string";if(o.match('"'))return l.tokenize=i('"',l.tokenize),"string";if(o.match(n))return"operator";if(o.match(r))return"keyword";var c=o.match(e);return c?("comment"==c[0]&&(l.blockCommentTag=!0),"keyword"):o.match(/\b(\w+)\b/)?(l.waitDot=!0,l.waitPipe=!0,"variable"):o.match("%}")?(l.waitProperty=null,l.waitFilter=null,l.waitDot=null,l.waitPipe=null,l.blockCommentTag?(l.blockCommentTag=!1,l.tokenize=inBlockComment):l.tokenize=a,"tag"):(o.next(),"null")}function c(e,t){return e.match(/^.*?#\}/)?t.tokenize=a:e.skipToEnd(),"comment"}function inBlockComment(e,t){return e.match(/\{%\s*endcomment\s*%\}/,!1)?(t.tokenize=l,e.match("{%"),"tag"):(e.next(),"comment")}return e=new RegExp("^\\b("+e.join("|")+")\\b"),t=new RegExp("^\\b("+t.join("|")+")\\b"),n=new RegExp("^\\b("+n.join("|")+")\\b"),r=new RegExp("^\\b("+r.join("|")+")\\b"),{startState:function(){return{tokenize:a}},token:function(e,t){return t.tokenize(e,t)},blockCommentStart:"{% comment %}",blockCommentEnd:"{% endcomment %}"}})),e.defineMode("django",(function(t){var n=e.getMode(t,"text/html"),r=e.getMode(t,"django:inner");return e.overlayMode(n,r)})),e.defineMIME("text/x-django","django")}(n("./node_modules/codemirror/lib/codemirror.js"),n("./node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),n("./node_modules/codemirror/addon/mode/overlay.js"))},"./node_modules/codemirror/mode/htmlmixed/htmlmixed.js":function(e,t,n){!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};function getAttrValue(e,t){var r=e.match(function(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function r(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function a(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),a=e[n],i=a.length-1;i>=0;i--)r.unshift(a[i])}e.defineMode("htmlmixed",(function(n,i){var o=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:i.multilineTagIndentFactor,multilineTagIndentPastTag:i.multilineTagIndentPastTag}),l={},c=i&&i.tags,u=i&&i.scriptTypes;if(a(t,l),c&&a(c,l),u)for(var s=u.length-1;s>=0;s--)l.script.unshift(["type",u[s].matches,u[s].mode]);function m(t,a){var i,c=o.token(t,a.htmlState),u=/\btag\b/.test(c);if(u&&!/[<>\s\/]/.test(t.current())&&(i=a.htmlState.tagName&&a.htmlState.tagName.toLowerCase())&&l.hasOwnProperty(i))a.inTag=i+" ";else if(a.inTag&&u&&/>$/.test(t.current())){var s=/^([\S]+) (.*)/.exec(a.inTag);a.inTag=null;var d=">"==t.current()&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(getAttrValue(t,r[0])))return r[2]}}(l[s[1]],s[2]),f=e.getMode(n,d),p=r(s[1],!0),h=r(s[1],!1);a.token=function(e,t){return e.match(p,!1)?(t.token=m,t.localState=t.localMode=null,null):function(e,t,n){var r=e.current(),a=r.search(t);return a>-1?e.backUp(r.length-a):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}(e,h,t.localMode.token(e,t.localState))},a.localMode=f,a.localState=e.startState(f,o.indent(a.htmlState,"",""))}else a.inTag&&(a.inTag+=t.current(),t.eol()&&(a.inTag+=" "));return c}return{startState:function(){return{token:m,inTag:null,localMode:null,localState:null,htmlState:e.startState(o)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(o,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?o.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||o}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(n("./node_modules/codemirror/lib/codemirror.js"),n("./node_modules/codemirror/mode/xml/xml.js"),n("./node_modules/codemirror/mode/javascript/javascript.js"),n("./node_modules/codemirror/mode/css/css.js"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL2RqYW5nby9kamFuZ28uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvbW9kZS9odG1sbWl4ZWQvaHRtbG1peGVkLmpzIl0sIm5hbWVzIjpbIkNvZGVNaXJyb3IiLCJkZWZpbmVNb2RlIiwia2V5d29yZHMiLCJmaWx0ZXJzIiwib3BlcmF0b3JzIiwid29yZE9wZXJhdG9ycyIsInRva2VuQmFzZSIsInN0cmVhbSIsInN0YXRlIiwibWF0Y2giLCJ0b2tlbml6ZSIsImluVmFyaWFibGUiLCJpblRhZyIsImluQ29tbWVudCIsIm5leHQiLCJpblN0cmluZyIsImRlbGltaXRlciIsInByZXZpb3VzVG9rZW5pemVyIiwiZXNjYXBlTmV4dCIsImVhdCIsIndhaXREb3QiLCJwZWVrIiwid2FpdFByb3BlcnR5IiwiRXJyb3IiLCJ3YWl0UGlwZSIsIndhaXRGaWx0ZXIiLCJlYXRTcGFjZSIsImZvdW5kVmFyaWFibGUiLCJrZXl3b3JkTWF0Y2giLCJibG9ja0NvbW1lbnRUYWciLCJpbkJsb2NrQ29tbWVudCIsInNraXBUb0VuZCIsIlJlZ0V4cCIsImpvaW4iLCJzdGFydFN0YXRlIiwidG9rZW4iLCJibG9ja0NvbW1lbnRTdGFydCIsImJsb2NrQ29tbWVudEVuZCIsImNvbmZpZyIsImh0bWxCYXNlIiwiZ2V0TW9kZSIsImRqYW5nb0lubmVyIiwib3ZlcmxheU1vZGUiLCJkZWZpbmVNSU1FIiwibW9kIiwiZGVmYXVsdFRhZ3MiLCJzY3JpcHQiLCJzdHlsZSIsImF0dHJSZWdleHBDYWNoZSIsImdldEF0dHJWYWx1ZSIsInRleHQiLCJhdHRyIiwicmVnZXhwIiwiZ2V0QXR0clJlZ2V4cCIsImV4ZWMiLCJnZXRUYWdSZWdleHAiLCJ0YWdOYW1lIiwiYW5jaG9yZWQiLCJhZGRUYWdzIiwiZnJvbSIsInRvIiwidGFnIiwiZGVzdCIsInNvdXJjZSIsImkiLCJsZW5ndGgiLCJ1bnNoaWZ0IiwicGFyc2VyQ29uZmlnIiwiaHRtbE1vZGUiLCJuYW1lIiwibXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yIiwibXVsdGlsaW5lVGFnSW5kZW50UGFzdFRhZyIsInRhZ3MiLCJjb25maWdUYWdzIiwiY29uZmlnU2NyaXB0Iiwic2NyaXB0VHlwZXMiLCJtYXRjaGVzIiwibW9kZSIsImh0bWwiLCJodG1sU3RhdGUiLCJ0ZXN0IiwiY3VycmVudCIsInRvTG93ZXJDYXNlIiwiaGFzT3duUHJvcGVydHkiLCJtb2RlU3BlYyIsInRhZ0luZm8iLCJ0YWdUZXh0Iiwic3BlYyIsImZpbmRNYXRjaGluZ01vZGUiLCJlbmRUYWdBIiwiZW5kVGFnIiwibG9jYWxTdGF0ZSIsImxvY2FsTW9kZSIsInBhdCIsImN1ciIsImNsb3NlIiwic2VhcmNoIiwiYmFja1VwIiwibWF5YmVCYWNrdXAiLCJpbmRlbnQiLCJlb2wiLCJjb3B5U3RhdGUiLCJsb2NhbCIsInRleHRBZnRlciIsImxpbmUiLCJQYXNzIiwiaW5uZXJNb2RlIl0sIm1hcHBpbmdzIjoiZ0lBWUcsU0FBU0EsR0FDVixhQUVBQSxFQUFXQyxXQUFXLGdCQUFnQixXQUNwQyxJQUFJQyxFQUFXLENBQUMsUUFBUyxXQUFZLE1BQU8sU0FBVSxPQUFRLFFBQVMsU0FBVSxZQUNqRSxPQUFRLE9BQVEsT0FBUSxRQUFTLEtBQU0sT0FBUSxRQUFTLEtBQU0sT0FBUSxTQUN0RSxPQUFRLFVBQVcsVUFBVyxVQUFXLFVBQVcsYUFBYyxhQUNsRSxnQkFBaUIsVUFBVyxVQUFXLE9BQVEsVUFBVyxhQUMxRCxRQUFTLE1BQU8sU0FBVSxRQUFTLGFBQWMsZ0JBQWlCLE1BQ2xFLFVBQVcsUUFBUyxZQUFhLGVBQWdCLFVBQVcsUUFBUyxRQUNyRSxhQUFjLGFBQWMsZ0JBQWlCLFlBQWEsZUFDMUQsTUFBTyxjQUFlLFdBQVksY0FBZSxjQUM3REMsRUFBVSxDQUFDLE1BQU8sYUFBYyxXQUFZLFNBQVUsTUFBTyxPQUNsRCxVQUFXLGtCQUFtQixXQUM5QixtQkFBb0IsY0FBZSxTQUFVLFdBQzdD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QUc3QjJGLE9BQVEsU0FBVTNGLEVBQU8rRixFQUFXQyxHQUNsQyxPQUFLaEcsRUFBTW9GLFdBQWEsVUFBVVosS0FBS3VCLEdBQzlCbkMsRUFBUytCLE9BQU8zRixFQUFNdUUsVUFBV3dCLEVBQVdDLEdBQzVDaEcsRUFBTW9GLFVBQVVPLE9BQ2hCM0YsRUFBTW9GLFVBQVVPLE9BQU8zRixFQUFNbUYsV0FBWVksRUFBV0MsR0FFcER4RyxFQUFXeUcsTUFHdEJDLFVBQVcsU0FBVWxHLEdBQ25CLE1BQU8sQ0FBQ0EsTUFBT0EsRUFBTW1GLFlBQWNuRixFQUFNdUUsVUFBV0YsS0FBTXJFLEVBQU1vRixXQUFheEIsT0FHaEYsTUFBTyxhQUFjLE9BRXhCcEUsRUFBVzJDLFdBQVcsWUFBYSxhQWpKakNDLENBQUksRUFBUSwrQ0FBeUIsRUFBUSw2Q0FBZSxFQUFRLDJEQUE2QixFQUFRIiwiZmlsZSI6IjE1LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIiksIHJlcXVpcmUoXCIuLi9odG1sbWl4ZWQvaHRtbG1peGVkXCIpLFxuICAgICAgICByZXF1aXJlKFwiLi4vLi4vYWRkb24vbW9kZS9vdmVybGF5XCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIsIFwiLi4vaHRtbG1peGVkL2h0bWxtaXhlZFwiLFxuICAgICAgICAgICAgXCIuLi8uLi9hZGRvbi9tb2RlL292ZXJsYXlcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTW9kZShcImRqYW5nbzppbm5lclwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5d29yZHMgPSBbXCJibG9ja1wiLCBcImVuZGJsb2NrXCIsIFwiZm9yXCIsIFwiZW5kZm9yXCIsIFwidHJ1ZVwiLCBcImZhbHNlXCIsIFwiZmlsdGVyXCIsIFwiZW5kZmlsdGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9vcFwiLCBcIm5vbmVcIiwgXCJzZWxmXCIsIFwic3VwZXJcIiwgXCJpZlwiLCBcImVsaWZcIiwgXCJlbmRpZlwiLCBcImFzXCIsIFwiZWxzZVwiLCBcImltcG9ydFwiLFxuICAgICAgICAgICAgICAgICAgICBcIndpdGhcIiwgXCJlbmR3aXRoXCIsIFwid2l0aG91dFwiLCBcImNvbnRleHRcIiwgXCJpZmVxdWFsXCIsIFwiZW5kaWZlcXVhbFwiLCBcImlmbm90ZXF1YWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlbmRpZm5vdGVxdWFsXCIsIFwiZXh0ZW5kc1wiLCBcImluY2x1ZGVcIiwgXCJsb2FkXCIsIFwiY29tbWVudFwiLCBcImVuZGNvbW1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlbXB0eVwiLCBcInVybFwiLCBcInN0YXRpY1wiLCBcInRyYW5zXCIsIFwiYmxvY2t0cmFuc1wiLCBcImVuZGJsb2NrdHJhbnNcIiwgXCJub3dcIixcbiAgICAgICAgICAgICAgICAgICAgXCJyZWdyb3VwXCIsIFwibG9yZW1cIiwgXCJpZmNoYW5nZWRcIiwgXCJlbmRpZmNoYW5nZWRcIiwgXCJmaXJzdG9mXCIsIFwiZGVidWdcIiwgXCJjeWNsZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImNzcmZfdG9rZW5cIiwgXCJhdXRvZXNjYXBlXCIsIFwiZW5kYXV0b2VzY2FwZVwiLCBcInNwYWNlbGVzc1wiLCBcImVuZHNwYWNlbGVzc1wiLFxuICAgICAgICAgICAgICAgICAgICBcInNzaVwiLCBcInRlbXBsYXRldGFnXCIsIFwidmVyYmF0aW1cIiwgXCJlbmR2ZXJiYXRpbVwiLCBcIndpZHRocmF0aW9cIl0sXG4gICAgICAgIGZpbHRlcnMgPSBbXCJhZGRcIiwgXCJhZGRzbGFzaGVzXCIsIFwiY2FwZmlyc3RcIiwgXCJjZW50ZXJcIiwgXCJjdXRcIiwgXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0XCIsIFwiZGVmYXVsdF9pZl9ub25lXCIsIFwiZGljdHNvcnRcIixcbiAgICAgICAgICAgICAgICAgICBcImRpY3Rzb3J0cmV2ZXJzZWRcIiwgXCJkaXZpc2libGVieVwiLCBcImVzY2FwZVwiLCBcImVzY2FwZWpzXCIsXG4gICAgICAgICAgICAgICAgICAgXCJmaWxlc2l6ZWZvcm1hdFwiLCBcImZpcnN0XCIsIFwiZmxvYXRmb3JtYXRcIiwgXCJmb3JjZV9lc2NhcGVcIixcbiAgICAgICAgICAgICAgICAgICBcImdldF9kaWdpdFwiLCBcImlyaWVuY29kZVwiLCBcImpvaW5cIiwgXCJsYXN0XCIsIFwibGVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgICAgXCJsZW5ndGhfaXNcIiwgXCJsaW5lYnJlYWtzXCIsIFwibGluZWJyZWFrc2JyXCIsIFwibGluZW51bWJlcnNcIixcbiAgICAgICAgICAgICAgICAgICBcImxqdXN0XCIsIFwibG93ZXJcIiwgXCJtYWtlX2xpc3RcIiwgXCJwaG9uZTJudW1lcmljXCIsIFwicGx1cmFsaXplXCIsXG4gICAgICAgICAgICAgICAgICAgXCJwcHJpbnRcIiwgXCJyYW5kb21cIiwgXCJyZW1vdmV0YWdzXCIsIFwicmp1c3RcIiwgXCJzYWZlXCIsXG4gICAgICAgICAgICAgICAgICAgXCJzYWZlc2VxXCIsIFwic2xpY2VcIiwgXCJzbHVnaWZ5XCIsIFwic3RyaW5nZm9ybWF0XCIsIFwic3RyaXB0YWdzXCIsXG4gICAgICAgICAgICAgICAgICAgXCJ0aW1lXCIsIFwidGltZXNpbmNlXCIsIFwidGltZXVudGlsXCIsIFwidGl0bGVcIiwgXCJ0cnVuY2F0ZWNoYXJzXCIsXG4gICAgICAgICAgICAgICAgICAgXCJ0cnVuY2F0ZWNoYXJzX2h0bWxcIiwgXCJ0cnVuY2F0ZXdvcmRzXCIsIFwidHJ1bmNhdGV3b3Jkc19odG1sXCIsXG4gICAgICAgICAgICAgICAgICAgXCJ1bm9yZGVyZWRfbGlzdFwiLCBcInVwcGVyXCIsIFwidXJsZW5jb2RlXCIsIFwidXJsaXplXCIsXG4gICAgICAgICAgICAgICAgICAgXCJ1cmxpemV0cnVuY1wiLCBcIndvcmRjb3VudFwiLCBcIndvcmR3cmFwXCIsIFwieWVzbm9cIl0sXG4gICAgICAgIG9wZXJhdG9ycyA9IFtcIj09XCIsIFwiIT1cIiwgXCI8XCIsIFwiPlwiLCBcIjw9XCIsIFwiPj1cIl0sXG4gICAgICAgIHdvcmRPcGVyYXRvcnMgPSBbXCJpblwiLCBcIm5vdFwiLCBcIm9yXCIsIFwiYW5kXCJdO1xuXG4gICAga2V5d29yZHMgPSBuZXcgUmVnRXhwKFwiXlxcXFxiKFwiICsga2V5d29yZHMuam9pbihcInxcIikgKyBcIilcXFxcYlwiKTtcbiAgICBmaWx0ZXJzID0gbmV3IFJlZ0V4cChcIl5cXFxcYihcIiArIGZpbHRlcnMuam9pbihcInxcIikgKyBcIilcXFxcYlwiKTtcbiAgICBvcGVyYXRvcnMgPSBuZXcgUmVnRXhwKFwiXlxcXFxiKFwiICsgb3BlcmF0b3JzLmpvaW4oXCJ8XCIpICsgXCIpXFxcXGJcIik7XG4gICAgd29yZE9wZXJhdG9ycyA9IG5ldyBSZWdFeHAoXCJeXFxcXGIoXCIgKyB3b3JkT3BlcmF0b3JzLmpvaW4oXCJ8XCIpICsgXCIpXFxcXGJcIik7XG5cbiAgICAvLyBXZSBoYXZlIHRvIHJldHVybiBcIm51bGxcIiBpbnN0ZWFkIG9mIG51bGwsIGluIG9yZGVyIHRvIGF2b2lkIHN0cmluZ1xuICAgIC8vIHN0eWxpbmcgYXMgdGhlIGRlZmF1bHQsIHdoZW4gdXNpbmcgRGphbmdvIHRlbXBsYXRlcyBpbnNpZGUgSFRNTFxuICAgIC8vIGVsZW1lbnQgYXR0cmlidXRlc1xuICAgIGZ1bmN0aW9uIHRva2VuQmFzZSAoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgLy8gQXR0ZW1wdCB0byBpZGVudGlmeSBhIHZhcmlhYmxlLCB0ZW1wbGF0ZSBvciBjb21tZW50IHRhZyByZXNwZWN0aXZlbHlcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goXCJ7e1wiKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVmFyaWFibGU7XG4gICAgICAgIHJldHVybiBcInRhZ1wiO1xuICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goXCJ7JVwiKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVGFnO1xuICAgICAgICByZXR1cm4gXCJ0YWdcIjtcbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKFwieyNcIikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpbkNvbW1lbnQ7XG4gICAgICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSWdub3JlIGNvbXBsZXRlbHkgYW55IHN0cmVhbSBzZXJpZXMgdGhhdCBkbyBub3QgbWF0Y2ggdGhlXG4gICAgICAvLyBEamFuZ28gdGVtcGxhdGUgb3BlbmluZyB0YWdzLlxuICAgICAgd2hpbGUgKHN0cmVhbS5uZXh0KCkgIT0gbnVsbCAmJiAhc3RyZWFtLm1hdGNoKC9cXHtbeyUjXS8sIGZhbHNlKSkge31cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEEgc3RyaW5nIGNhbiBiZSBpbmNsdWRlZCBpbiBlaXRoZXIgc2luZ2xlIG9yIGRvdWJsZSBxdW90ZXMgKHRoaXMgaXNcbiAgICAvLyB0aGUgZGVsaW1pdGVyKS4gTWFyayBldmVyeXRoaW5nIGFzIGEgc3RyaW5nIHVudGlsIHRoZSBzdGFydCBkZWxpbWl0ZXJcbiAgICAvLyBvY2N1cnMgYWdhaW4uXG4gICAgZnVuY3Rpb24gaW5TdHJpbmcgKGRlbGltaXRlciwgcHJldmlvdXNUb2tlbml6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICBpZiAoIXN0YXRlLmVzY2FwZU5leHQgJiYgc3RyZWFtLmVhdChkZWxpbWl0ZXIpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBwcmV2aW91c1Rva2VuaXplcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc3RhdGUuZXNjYXBlTmV4dCkge1xuICAgICAgICAgICAgc3RhdGUuZXNjYXBlTmV4dCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG5cbiAgICAgICAgICAvLyBUYWtlIGludG8gYWNjb3VudCB0aGUgYmFja3NsYXNoIGZvciBlc2NhcGluZyBjaGFyYWN0ZXJzLCBzdWNoIGFzXG4gICAgICAgICAgLy8gdGhlIHN0cmluZyBkZWxpbWl0ZXIuXG4gICAgICAgICAgaWYgKGNoID09IFwiXFxcXFwiKSB7XG4gICAgICAgICAgICBzdGF0ZS5lc2NhcGVOZXh0ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgRGphbmdvIHRlbXBsYXRlIHZhcmlhYmxlIHN5bnRheCBoaWdobGlnaHRpbmdcbiAgICBmdW5jdGlvbiBpblZhcmlhYmxlIChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAvLyBBdHRlbXB0IHRvIG1hdGNoIGEgZG90IHRoYXQgcHJlY2VkZXMgYSBwcm9wZXJ0eVxuICAgICAgaWYgKHN0YXRlLndhaXREb3QpIHtcbiAgICAgICAgc3RhdGUud2FpdERvdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzdHJlYW0ucGVlaygpICE9IFwiLlwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG90IGZvbGxvd2VkIGJ5IGEgbm9uLXdvcmQgY2hhcmFjdGVyIHNob3VsZCBiZSBjb25zaWRlcmVkIGFuIGVycm9yLlxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9cXC5cXFcrLykpIHtcbiAgICAgICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoXCIuXCIpKSB7XG4gICAgICAgICAgc3RhdGUud2FpdFByb3BlcnR5ID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IgKFwiVW5leHBlY3RlZCBlcnJvciB3aGlsZSB3YWl0aW5nIGZvciBwcm9wZXJ0eS5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQXR0ZW1wdCB0byBtYXRjaCBhIHBpcGUgdGhhdCBwcmVjZWRlcyBhIGZpbHRlclxuICAgICAgaWYgKHN0YXRlLndhaXRQaXBlKSB7XG4gICAgICAgIHN0YXRlLndhaXRQaXBlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0cmVhbS5wZWVrKCkgIT0gXCJ8XCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQaXBlIGZvbGxvd2VkIGJ5IGEgbm9uLXdvcmQgY2hhcmFjdGVyIHNob3VsZCBiZSBjb25zaWRlcmVkIGFuIGVycm9yLlxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9cXC5cXFcrLykpIHtcbiAgICAgICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoXCJ8XCIpKSB7XG4gICAgICAgICAgc3RhdGUud2FpdEZpbHRlciA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yIChcIlVuZXhwZWN0ZWQgZXJyb3Igd2hpbGUgd2FpdGluZyBmb3IgZmlsdGVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIaWdobGlnaHQgcHJvcGVydGllc1xuICAgICAgaWYgKHN0YXRlLndhaXRQcm9wZXJ0eSkge1xuICAgICAgICBzdGF0ZS53YWl0UHJvcGVydHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxiKFxcdyspXFxiLykpIHtcbiAgICAgICAgICBzdGF0ZS53YWl0RG90ID0gdHJ1ZTsgIC8vIEEgcHJvcGVydHkgY2FuIGJlIGZvbGxvd2VkIGJ5IGFub3RoZXIgcHJvcGVydHlcbiAgICAgICAgICBzdGF0ZS53YWl0UGlwZSA9IHRydWU7ICAvLyBBIHByb3BlcnR5IGNhbiBiZSBmb2xsb3dlZCBieSBhIGZpbHRlclxuICAgICAgICAgIHJldHVybiBcInByb3BlcnR5XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSGlnaGxpZ2h0IGZpbHRlcnNcbiAgICAgIGlmIChzdGF0ZS53YWl0RmlsdGVyKSB7XG4gICAgICAgICAgc3RhdGUud2FpdEZpbHRlciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKGZpbHRlcnMpKSB7XG4gICAgICAgICAgcmV0dXJuIFwidmFyaWFibGUtMlwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSBhbGwgd2hpdGUgc3BhY2VzXG4gICAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICAgICAgc3RhdGUud2FpdFByb3BlcnR5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSWRlbnRpZnkgbnVtYmVyc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxiXFxkKyhcXC5cXGQrKT9cXGIvKSkge1xuICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSWRlbnRpZnkgc3RyaW5nc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaChcIidcIikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblN0cmluZyhcIidcIiwgc3RhdGUudG9rZW5pemUpO1xuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKCdcIicpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gaW5TdHJpbmcoJ1wiJywgc3RhdGUudG9rZW5pemUpO1xuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgIH1cblxuICAgICAgLy8gQXR0ZW1wdCB0byBmaW5kIHRoZSB2YXJpYWJsZVxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxiKFxcdyspXFxiLykgJiYgIXN0YXRlLmZvdW5kVmFyaWFibGUpIHtcbiAgICAgICAgc3RhdGUud2FpdERvdCA9IHRydWU7XG4gICAgICAgIHN0YXRlLndhaXRQaXBlID0gdHJ1ZTsgIC8vIEEgcHJvcGVydHkgY2FuIGJlIGZvbGxvd2VkIGJ5IGEgZmlsdGVyXG4gICAgICAgIHJldHVybiBcInZhcmlhYmxlXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGZvdW5kIGNsb3NpbmcgdGFnIHJlc2V0XG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKFwifX1cIikpIHtcbiAgICAgICAgc3RhdGUud2FpdFByb3BlcnR5ID0gbnVsbDtcbiAgICAgICAgc3RhdGUud2FpdEZpbHRlciA9IG51bGw7XG4gICAgICAgIHN0YXRlLndhaXREb3QgPSBudWxsO1xuICAgICAgICBzdGF0ZS53YWl0UGlwZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgICByZXR1cm4gXCJ0YWdcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm90aGluZyB3YXMgZm91bmQsIGFkdmFuY2UgdG8gdGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluVGFnIChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAvLyBBdHRlbXB0IHRvIG1hdGNoIGEgZG90IHRoYXQgcHJlY2VkZXMgYSBwcm9wZXJ0eVxuICAgICAgaWYgKHN0YXRlLndhaXREb3QpIHtcbiAgICAgICAgc3RhdGUud2FpdERvdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzdHJlYW0ucGVlaygpICE9IFwiLlwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG90IGZvbGxvd2VkIGJ5IGEgbm9uLXdvcmQgY2hhcmFjdGVyIHNob3VsZCBiZSBjb25zaWRlcmVkIGFuIGVycm9yLlxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9cXC5cXFcrLykpIHtcbiAgICAgICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoXCIuXCIpKSB7XG4gICAgICAgICAgc3RhdGUud2FpdFByb3BlcnR5ID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IgKFwiVW5leHBlY3RlZCBlcnJvciB3aGlsZSB3YWl0aW5nIGZvciBwcm9wZXJ0eS5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQXR0ZW1wdCB0byBtYXRjaCBhIHBpcGUgdGhhdCBwcmVjZWRlcyBhIGZpbHRlclxuICAgICAgaWYgKHN0YXRlLndhaXRQaXBlKSB7XG4gICAgICAgIHN0YXRlLndhaXRQaXBlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0cmVhbS5wZWVrKCkgIT0gXCJ8XCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQaXBlIGZvbGxvd2VkIGJ5IGEgbm9uLXdvcmQgY2hhcmFjdGVyIHNob3VsZCBiZSBjb25zaWRlcmVkIGFuIGVycm9yLlxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9cXC5cXFcrLykpIHtcbiAgICAgICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoXCJ8XCIpKSB7XG4gICAgICAgICAgc3RhdGUud2FpdEZpbHRlciA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yIChcIlVuZXhwZWN0ZWQgZXJyb3Igd2hpbGUgd2FpdGluZyBmb3IgZmlsdGVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIaWdobGlnaHQgcHJvcGVydGllc1xuICAgICAgaWYgKHN0YXRlLndhaXRQcm9wZXJ0eSkge1xuICAgICAgICBzdGF0ZS53YWl0UHJvcGVydHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxiKFxcdyspXFxiLykpIHtcbiAgICAgICAgICBzdGF0ZS53YWl0RG90ID0gdHJ1ZTsgIC8vIEEgcHJvcGVydHkgY2FuIGJlIGZvbGxvd2VkIGJ5IGFub3RoZXIgcHJvcGVydHlcbiAgICAgICAgICBzdGF0ZS53YWl0UGlwZSA9IHRydWU7ICAvLyBBIHByb3BlcnR5IGNhbiBiZSBmb2xsb3dlZCBieSBhIGZpbHRlclxuICAgICAgICAgIHJldHVybiBcInByb3BlcnR5XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSGlnaGxpZ2h0IGZpbHRlcnNcbiAgICAgIGlmIChzdGF0ZS53YWl0RmlsdGVyKSB7XG4gICAgICAgICAgc3RhdGUud2FpdEZpbHRlciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKGZpbHRlcnMpKSB7XG4gICAgICAgICAgcmV0dXJuIFwidmFyaWFibGUtMlwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSBhbGwgd2hpdGUgc3BhY2VzXG4gICAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICAgICAgc3RhdGUud2FpdFByb3BlcnR5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSWRlbnRpZnkgbnVtYmVyc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxiXFxkKyhcXC5cXGQrKT9cXGIvKSkge1xuICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSWRlbnRpZnkgc3RyaW5nc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaChcIidcIikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblN0cmluZyhcIidcIiwgc3RhdGUudG9rZW5pemUpO1xuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKCdcIicpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gaW5TdHJpbmcoJ1wiJywgc3RhdGUudG9rZW5pemUpO1xuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgIH1cblxuICAgICAgLy8gQXR0ZW1wdCB0byBtYXRjaCBhbiBvcGVyYXRvclxuICAgICAgaWYgKHN0cmVhbS5tYXRjaChvcGVyYXRvcnMpKSB7XG4gICAgICAgIHJldHVybiBcIm9wZXJhdG9yXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEF0dGVtcHQgdG8gbWF0Y2ggYSB3b3JkIG9wZXJhdG9yXG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKHdvcmRPcGVyYXRvcnMpKSB7XG4gICAgICAgIHJldHVybiBcImtleXdvcmRcIjtcbiAgICAgIH1cblxuICAgICAgLy8gQXR0ZW1wdCB0byBtYXRjaCBhIGtleXdvcmRcbiAgICAgIHZhciBrZXl3b3JkTWF0Y2ggPSBzdHJlYW0ubWF0Y2goa2V5d29yZHMpO1xuICAgICAgaWYgKGtleXdvcmRNYXRjaCkge1xuICAgICAgICBpZiAoa2V5d29yZE1hdGNoWzBdID09IFwiY29tbWVudFwiKSB7XG4gICAgICAgICAgc3RhdGUuYmxvY2tDb21tZW50VGFnID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJrZXl3b3JkXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEF0dGVtcHQgdG8gbWF0Y2ggYSB2YXJpYWJsZVxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxiKFxcdyspXFxiLykpIHtcbiAgICAgICAgc3RhdGUud2FpdERvdCA9IHRydWU7XG4gICAgICAgIHN0YXRlLndhaXRQaXBlID0gdHJ1ZTsgIC8vIEEgcHJvcGVydHkgY2FuIGJlIGZvbGxvd2VkIGJ5IGEgZmlsdGVyXG4gICAgICAgIHJldHVybiBcInZhcmlhYmxlXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGZvdW5kIGNsb3NpbmcgdGFnIHJlc2V0XG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKFwiJX1cIikpIHtcbiAgICAgICAgc3RhdGUud2FpdFByb3BlcnR5ID0gbnVsbDtcbiAgICAgICAgc3RhdGUud2FpdEZpbHRlciA9IG51bGw7XG4gICAgICAgIHN0YXRlLndhaXREb3QgPSBudWxsO1xuICAgICAgICBzdGF0ZS53YWl0UGlwZSA9IG51bGw7XG4gICAgICAgIC8vIElmIHRoZSB0YWcgdGhhdCBjbG9zZXMgaXMgYSBibG9jayBjb21tZW50IHRhZywgd2Ugd2FudCB0byBtYXJrIHRoZVxuICAgICAgICAvLyBmb2xsb3dpbmcgY29kZSBhcyBjb21tZW50LCB1bnRpbCB0aGUgdGFnIGNsb3Nlcy5cbiAgICAgICAgaWYgKHN0YXRlLmJsb2NrQ29tbWVudFRhZykge1xuICAgICAgICAgIHN0YXRlLmJsb2NrQ29tbWVudFRhZyA9IGZhbHNlOyAgLy8gUmVsZWFzZSB0aGUgXCJsb2NrXCJcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluQmxvY2tDb21tZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInRhZ1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCwgYWR2YW5jZSB0byB0aGUgbmV4dCBjaGFyYWN0ZXJcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgfVxuXG4gICAgLy8gTWFyayBldmVyeXRoaW5nIGFzIGNvbW1lbnQgaW5zaWRlIHRoZSB0YWcgYW5kIHRoZSB0YWcgaXRzZWxmLlxuICAgIGZ1bmN0aW9uIGluQ29tbWVudCAoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXi4qPyNcXH0vKSkgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2VcbiAgICAgIGVsc2Ugc3RyZWFtLnNraXBUb0VuZCgpXG4gICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgfVxuXG4gICAgLy8gTWFyayBldmVyeXRoaW5nIGFzIGEgY29tbWVudCB1bnRpbCB0aGUgYGJsb2NrY29tbWVudGAgdGFnIGNsb3Nlcy5cbiAgICBmdW5jdGlvbiBpbkJsb2NrQ29tbWVudCAoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFx7JVxccyplbmRjb21tZW50XFxzKiVcXH0vLCBmYWxzZSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRhZztcbiAgICAgICAgc3RyZWFtLm1hdGNoKFwieyVcIik7XG4gICAgICAgIHJldHVybiBcInRhZ1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIFwiY29tbWVudFwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydFN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7dG9rZW5pemU6IHRva2VuQmFzZX07XG4gICAgICB9LFxuICAgICAgdG9rZW46IGZ1bmN0aW9uIChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH0sXG4gICAgICBibG9ja0NvbW1lbnRTdGFydDogXCJ7JSBjb21tZW50ICV9XCIsXG4gICAgICBibG9ja0NvbW1lbnRFbmQ6IFwieyUgZW5kY29tbWVudCAlfVwiXG4gICAgfTtcbiAgfSk7XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwiZGphbmdvXCIsIGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIHZhciBodG1sQmFzZSA9IENvZGVNaXJyb3IuZ2V0TW9kZShjb25maWcsIFwidGV4dC9odG1sXCIpO1xuICAgIHZhciBkamFuZ29Jbm5lciA9IENvZGVNaXJyb3IuZ2V0TW9kZShjb25maWcsIFwiZGphbmdvOmlubmVyXCIpO1xuICAgIHJldHVybiBDb2RlTWlycm9yLm92ZXJsYXlNb2RlKGh0bWxCYXNlLCBkamFuZ29Jbm5lcik7XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1kamFuZ29cIiwgXCJkamFuZ29cIik7XG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIiksIHJlcXVpcmUoXCIuLi94bWwveG1sXCIpLCByZXF1aXJlKFwiLi4vamF2YXNjcmlwdC9qYXZhc2NyaXB0XCIpLCByZXF1aXJlKFwiLi4vY3NzL2Nzc1wiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiLCBcIi4uL3htbC94bWxcIiwgXCIuLi9qYXZhc2NyaXB0L2phdmFzY3JpcHRcIiwgXCIuLi9jc3MvY3NzXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgZGVmYXVsdFRhZ3MgPSB7XG4gICAgc2NyaXB0OiBbXG4gICAgICBbXCJsYW5nXCIsIC8oamF2YXNjcmlwdHxiYWJlbCkvaSwgXCJqYXZhc2NyaXB0XCJdLFxuICAgICAgW1widHlwZVwiLCAvXig/OnRleHR8YXBwbGljYXRpb24pXFwvKD86eC0pPyg/OmphdmF8ZWNtYSlzY3JpcHQkfF5tb2R1bGUkfF4kL2ksIFwiamF2YXNjcmlwdFwiXSxcbiAgICAgIFtcInR5cGVcIiwgLy4vLCBcInRleHQvcGxhaW5cIl0sXG4gICAgICBbbnVsbCwgbnVsbCwgXCJqYXZhc2NyaXB0XCJdXG4gICAgXSxcbiAgICBzdHlsZTogIFtcbiAgICAgIFtcImxhbmdcIiwgL15jc3MkL2ksIFwiY3NzXCJdLFxuICAgICAgW1widHlwZVwiLCAvXih0ZXh0XFwvKT8oeC0pPyhzdHlsZXNoZWV0fGNzcykkL2ksIFwiY3NzXCJdLFxuICAgICAgW1widHlwZVwiLCAvLi8sIFwidGV4dC9wbGFpblwiXSxcbiAgICAgIFtudWxsLCBudWxsLCBcImNzc1wiXVxuICAgIF1cbiAgfTtcblxuICBmdW5jdGlvbiBtYXliZUJhY2t1cChzdHJlYW0sIHBhdCwgc3R5bGUpIHtcbiAgICB2YXIgY3VyID0gc3RyZWFtLmN1cnJlbnQoKSwgY2xvc2UgPSBjdXIuc2VhcmNoKHBhdCk7XG4gICAgaWYgKGNsb3NlID4gLTEpIHtcbiAgICAgIHN0cmVhbS5iYWNrVXAoY3VyLmxlbmd0aCAtIGNsb3NlKTtcbiAgICB9IGVsc2UgaWYgKGN1ci5tYXRjaCgvPFxcLz8kLykpIHtcbiAgICAgIHN0cmVhbS5iYWNrVXAoY3VyLmxlbmd0aCk7XG4gICAgICBpZiAoIXN0cmVhbS5tYXRjaChwYXQsIGZhbHNlKSkgc3RyZWFtLm1hdGNoKGN1cik7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIHZhciBhdHRyUmVnZXhwQ2FjaGUgPSB7fTtcbiAgZnVuY3Rpb24gZ2V0QXR0clJlZ2V4cChhdHRyKSB7XG4gICAgdmFyIHJlZ2V4cCA9IGF0dHJSZWdleHBDYWNoZVthdHRyXTtcbiAgICBpZiAocmVnZXhwKSByZXR1cm4gcmVnZXhwO1xuICAgIHJldHVybiBhdHRyUmVnZXhwQ2FjaGVbYXR0cl0gPSBuZXcgUmVnRXhwKFwiXFxcXHMrXCIgKyBhdHRyICsgXCJcXFxccyo9XFxcXHMqKCd8XFxcIik/KFteJ1xcXCJdKykoJ3xcXFwiKT9cXFxccypcIik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBdHRyVmFsdWUodGV4dCwgYXR0cikge1xuICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goZ2V0QXR0clJlZ2V4cChhdHRyKSlcbiAgICByZXR1cm4gbWF0Y2ggPyAvXlxccyooLio/KVxccyokLy5leGVjKG1hdGNoWzJdKVsxXSA6IFwiXCJcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhZ1JlZ2V4cCh0YWdOYW1lLCBhbmNob3JlZCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKChhbmNob3JlZCA/IFwiXlwiIDogXCJcIikgKyBcIjxcXC9cXHMqXCIgKyB0YWdOYW1lICsgXCJcXHMqPlwiLCBcImlcIik7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUYWdzKGZyb20sIHRvKSB7XG4gICAgZm9yICh2YXIgdGFnIGluIGZyb20pIHtcbiAgICAgIHZhciBkZXN0ID0gdG9bdGFnXSB8fCAodG9bdGFnXSA9IFtdKTtcbiAgICAgIHZhciBzb3VyY2UgPSBmcm9tW3RhZ107XG4gICAgICBmb3IgKHZhciBpID0gc291cmNlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICBkZXN0LnVuc2hpZnQoc291cmNlW2ldKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRNYXRjaGluZ01vZGUodGFnSW5mbywgdGFnVGV4dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFnSW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNwZWMgPSB0YWdJbmZvW2ldO1xuICAgICAgaWYgKCFzcGVjWzBdIHx8IHNwZWNbMV0udGVzdChnZXRBdHRyVmFsdWUodGFnVGV4dCwgc3BlY1swXSkpKSByZXR1cm4gc3BlY1syXTtcbiAgICB9XG4gIH1cblxuICBDb2RlTWlycm9yLmRlZmluZU1vZGUoXCJodG1sbWl4ZWRcIiwgZnVuY3Rpb24gKGNvbmZpZywgcGFyc2VyQ29uZmlnKSB7XG4gICAgdmFyIGh0bWxNb2RlID0gQ29kZU1pcnJvci5nZXRNb2RlKGNvbmZpZywge1xuICAgICAgbmFtZTogXCJ4bWxcIixcbiAgICAgIGh0bWxNb2RlOiB0cnVlLFxuICAgICAgbXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yOiBwYXJzZXJDb25maWcubXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yLFxuICAgICAgbXVsdGlsaW5lVGFnSW5kZW50UGFzdFRhZzogcGFyc2VyQ29uZmlnLm11bHRpbGluZVRhZ0luZGVudFBhc3RUYWdcbiAgICB9KTtcblxuICAgIHZhciB0YWdzID0ge307XG4gICAgdmFyIGNvbmZpZ1RhZ3MgPSBwYXJzZXJDb25maWcgJiYgcGFyc2VyQ29uZmlnLnRhZ3MsIGNvbmZpZ1NjcmlwdCA9IHBhcnNlckNvbmZpZyAmJiBwYXJzZXJDb25maWcuc2NyaXB0VHlwZXM7XG4gICAgYWRkVGFncyhkZWZhdWx0VGFncywgdGFncyk7XG4gICAgaWYgKGNvbmZpZ1RhZ3MpIGFkZFRhZ3MoY29uZmlnVGFncywgdGFncyk7XG4gICAgaWYgKGNvbmZpZ1NjcmlwdCkgZm9yICh2YXIgaSA9IGNvbmZpZ1NjcmlwdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIHRhZ3Muc2NyaXB0LnVuc2hpZnQoW1widHlwZVwiLCBjb25maWdTY3JpcHRbaV0ubWF0Y2hlcywgY29uZmlnU2NyaXB0W2ldLm1vZGVdKVxuXG4gICAgZnVuY3Rpb24gaHRtbChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICB2YXIgc3R5bGUgPSBodG1sTW9kZS50b2tlbihzdHJlYW0sIHN0YXRlLmh0bWxTdGF0ZSksIHRhZyA9IC9cXGJ0YWdcXGIvLnRlc3Qoc3R5bGUpLCB0YWdOYW1lXG4gICAgICBpZiAodGFnICYmICEvWzw+XFxzXFwvXS8udGVzdChzdHJlYW0uY3VycmVudCgpKSAmJlxuICAgICAgICAgICh0YWdOYW1lID0gc3RhdGUuaHRtbFN0YXRlLnRhZ05hbWUgJiYgc3RhdGUuaHRtbFN0YXRlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgJiZcbiAgICAgICAgICB0YWdzLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgIHN0YXRlLmluVGFnID0gdGFnTmFtZSArIFwiIFwiXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmluVGFnICYmIHRhZyAmJiAvPiQvLnRlc3Qoc3RyZWFtLmN1cnJlbnQoKSkpIHtcbiAgICAgICAgdmFyIGluVGFnID0gL14oW1xcU10rKSAoLiopLy5leGVjKHN0YXRlLmluVGFnKVxuICAgICAgICBzdGF0ZS5pblRhZyA9IG51bGxcbiAgICAgICAgdmFyIG1vZGVTcGVjID0gc3RyZWFtLmN1cnJlbnQoKSA9PSBcIj5cIiAmJiBmaW5kTWF0Y2hpbmdNb2RlKHRhZ3NbaW5UYWdbMV1dLCBpblRhZ1syXSlcbiAgICAgICAgdmFyIG1vZGUgPSBDb2RlTWlycm9yLmdldE1vZGUoY29uZmlnLCBtb2RlU3BlYylcbiAgICAgICAgdmFyIGVuZFRhZ0EgPSBnZXRUYWdSZWdleHAoaW5UYWdbMV0sIHRydWUpLCBlbmRUYWcgPSBnZXRUYWdSZWdleHAoaW5UYWdbMV0sIGZhbHNlKTtcbiAgICAgICAgc3RhdGUudG9rZW4gPSBmdW5jdGlvbiAoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICAgIGlmIChzdHJlYW0ubWF0Y2goZW5kVGFnQSwgZmFsc2UpKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbiA9IGh0bWw7XG4gICAgICAgICAgICBzdGF0ZS5sb2NhbFN0YXRlID0gc3RhdGUubG9jYWxNb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWF5YmVCYWNrdXAoc3RyZWFtLCBlbmRUYWcsIHN0YXRlLmxvY2FsTW9kZS50b2tlbihzdHJlYW0sIHN0YXRlLmxvY2FsU3RhdGUpKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3RhdGUubG9jYWxNb2RlID0gbW9kZTtcbiAgICAgICAgc3RhdGUubG9jYWxTdGF0ZSA9IENvZGVNaXJyb3Iuc3RhcnRTdGF0ZShtb2RlLCBodG1sTW9kZS5pbmRlbnQoc3RhdGUuaHRtbFN0YXRlLCBcIlwiLCBcIlwiKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmluVGFnKSB7XG4gICAgICAgIHN0YXRlLmluVGFnICs9IHN0cmVhbS5jdXJyZW50KClcbiAgICAgICAgaWYgKHN0cmVhbS5lb2woKSkgc3RhdGUuaW5UYWcgKz0gXCIgXCJcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gQ29kZU1pcnJvci5zdGFydFN0YXRlKGh0bWxNb2RlKTtcbiAgICAgICAgcmV0dXJuIHt0b2tlbjogaHRtbCwgaW5UYWc6IG51bGwsIGxvY2FsTW9kZTogbnVsbCwgbG9jYWxTdGF0ZTogbnVsbCwgaHRtbFN0YXRlOiBzdGF0ZX07XG4gICAgICB9LFxuXG4gICAgICBjb3B5U3RhdGU6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgbG9jYWw7XG4gICAgICAgIGlmIChzdGF0ZS5sb2NhbFN0YXRlKSB7XG4gICAgICAgICAgbG9jYWwgPSBDb2RlTWlycm9yLmNvcHlTdGF0ZShzdGF0ZS5sb2NhbE1vZGUsIHN0YXRlLmxvY2FsU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7dG9rZW46IHN0YXRlLnRva2VuLCBpblRhZzogc3RhdGUuaW5UYWcsXG4gICAgICAgICAgICAgICAgbG9jYWxNb2RlOiBzdGF0ZS5sb2NhbE1vZGUsIGxvY2FsU3RhdGU6IGxvY2FsLFxuICAgICAgICAgICAgICAgIGh0bWxTdGF0ZTogQ29kZU1pcnJvci5jb3B5U3RhdGUoaHRtbE1vZGUsIHN0YXRlLmh0bWxTdGF0ZSl9O1xuICAgICAgfSxcblxuICAgICAgdG9rZW46IGZ1bmN0aW9uIChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS50b2tlbihzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH0sXG5cbiAgICAgIGluZGVudDogZnVuY3Rpb24gKHN0YXRlLCB0ZXh0QWZ0ZXIsIGxpbmUpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5sb2NhbE1vZGUgfHwgL15cXHMqPFxcLy8udGVzdCh0ZXh0QWZ0ZXIpKVxuICAgICAgICAgIHJldHVybiBodG1sTW9kZS5pbmRlbnQoc3RhdGUuaHRtbFN0YXRlLCB0ZXh0QWZ0ZXIsIGxpbmUpO1xuICAgICAgICBlbHNlIGlmIChzdGF0ZS5sb2NhbE1vZGUuaW5kZW50KVxuICAgICAgICAgIHJldHVybiBzdGF0ZS5sb2NhbE1vZGUuaW5kZW50KHN0YXRlLmxvY2FsU3RhdGUsIHRleHRBZnRlciwgbGluZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuICAgICAgfSxcblxuICAgICAgaW5uZXJNb2RlOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtzdGF0ZTogc3RhdGUubG9jYWxTdGF0ZSB8fCBzdGF0ZS5odG1sU3RhdGUsIG1vZGU6IHN0YXRlLmxvY2FsTW9kZSB8fCBodG1sTW9kZX07XG4gICAgICB9XG4gICAgfTtcbiAgfSwgXCJ4bWxcIiwgXCJqYXZhc2NyaXB0XCIsIFwiY3NzXCIpO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvaHRtbFwiLCBcImh0bWxtaXhlZFwiKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==