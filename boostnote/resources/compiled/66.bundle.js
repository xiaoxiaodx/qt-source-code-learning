(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"./node_modules/codemirror/mode/modelica/modelica.js":function(e,t,n){!function(e){"use strict";function t(e){for(var t={},n=e.split(" "),o=0;o<n.length;++o)t[n[o]]=!0;return t}e.defineMode("modelica",(function(t,n){var o=t.indentUnit,r=n.keywords||{},i=n.builtin||{},l=n.atoms||{},a=/[;=\(:\),{}.*<>+\-\/^\[\]]/,s=/(:=|<=|>=|==|<>|\.\+|\.\-|\.\*|\.\/|\.\^)/,u=/[0-9]/,c=/[_a-zA-Z]/;function m(e,t){return e.skipToEnd(),t.tokenize=null,"comment"}function tokenBlockComment(e,t){for(var n,o=!1;n=e.next();){if(o&&"/"==n){t.tokenize=null;break}o="*"==n}return"comment"}function d(e,t){for(var n,o=!1;null!=(n=e.next());){if('"'==n&&!o){t.tokenize=null,t.sol=!1;break}o=!o&&"\\"==n}return"string"}function f(e,t){for(e.eatWhile(u);e.eat(u)||e.eat(c););var n=e.current();return!t.sol||"package"!=n&&"model"!=n&&"when"!=n&&"connector"!=n?t.sol&&"end"==n&&t.level>0&&t.level--:t.level++,t.tokenize=null,t.sol=!1,r.propertyIsEnumerable(n)?"keyword":i.propertyIsEnumerable(n)?"builtin":l.propertyIsEnumerable(n)?"atom":"variable"}function p(e,t){for(;e.eat(/[^']/););return t.tokenize=null,t.sol=!1,e.eat("'")?"variable":"error"}function k(e,t){return e.eatWhile(u),e.eat(".")&&e.eatWhile(u),(e.eat("e")||e.eat("E"))&&(e.eat("-")||e.eat("+"),e.eatWhile(u)),t.tokenize=null,t.sol=!1,"number"}return{startState:function(){return{tokenize:null,level:0,sol:!0}},token:function(e,t){if(null!=t.tokenize)return t.tokenize(e,t);if(e.sol()&&(t.sol=!0),e.eatSpace())return t.tokenize=null,null;var n=e.next();if("/"==n&&e.eat("/"))t.tokenize=m;else if("/"==n&&e.eat("*"))t.tokenize=tokenBlockComment;else{if(s.test(n+e.peek()))return e.next(),t.tokenize=null,"operator";if(a.test(n))return t.tokenize=null,"operator";if(c.test(n))t.tokenize=f;else if("'"==n&&e.peek()&&"'"!=e.peek())t.tokenize=p;else if('"'==n)t.tokenize=d;else{if(!u.test(n))return t.tokenize=null,"error";t.tokenize=k}}return t.tokenize(e,t)},indent:function(t,n){if(null!=t.tokenize)return e.Pass;var r=t.level;return/(algorithm)/.test(n)&&r--,/(equation)/.test(n)&&r--,/(initial algorithm)/.test(n)&&r--,/(initial equation)/.test(n)&&r--,/(end)/.test(n)&&r--,r>0?o*r:0},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}})),function(t,n){"string"==typeof t&&(t=[t]);var o=[];function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&o.push(t)}r(n.keywords),r(n.builtin),r(n.atoms),o.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],o));for(var i=0;i<t.length;++i)e.defineMIME(t[i],n)}(["text/x-modelica"],{name:"modelica",keywords:t("algorithm and annotation assert block break class connect connector constant constrainedby der discrete each else elseif elsewhen encapsulated end enumeration equation expandable extends external false final flow for function if import impure in initial inner input loop model not operator or outer output package parameter partial protected public pure record redeclare replaceable return stream then true type when while within"),builtin:t("abs acos actualStream asin atan atan2 cardinality ceil cos cosh delay div edge exp floor getInstanceName homotopy inStream integer log log10 mod pre reinit rem semiLinear sign sin sinh spatialDistribution sqrt tan tanh"),atoms:t("Real Boolean Integer String")})}(n("./node_modules/codemirror/lib/codemirror.js"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL21vZGVsaWNhL21vZGVsaWNhLmpzIl0sIm5hbWVzIjpbIkNvZGVNaXJyb3IiLCJ3b3JkcyIsInN0ciIsIm9iaiIsInNwbGl0IiwiaSIsImxlbmd0aCIsImRlZmluZU1vZGUiLCJjb25maWciLCJwYXJzZXJDb25maWciLCJpbmRlbnRVbml0Iiwia2V5d29yZHMiLCJidWlsdGluIiwiYXRvbXMiLCJpc1NpbmdsZU9wZXJhdG9yQ2hhciIsImlzRG91YmxlT3BlcmF0b3JDaGFyIiwiaXNEaWdpdCIsImlzTm9uRGlnaXQiLCJ0b2tlbkxpbmVDb21tZW50Iiwic3RyZWFtIiwic3RhdGUiLCJza2lwVG9FbmQiLCJ0b2tlbml6ZSIsInRva2VuQmxvY2tDb21tZW50IiwiY2giLCJtYXliZUVuZCIsIm5leHQiLCJ0b2tlblN0cmluZyIsImVzY2FwZWQiLCJzb2wiLCJ0b2tlbklkZW50IiwiZWF0V2hpbGUiLCJlYXQiLCJjdXIiLCJjdXJyZW50IiwibGV2ZWwiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRva2VuUUlkZW50IiwidG9rZW5VbnNpZ25lZE51YmVyIiwic3RhcnRTdGF0ZSIsInRva2VuIiwiZWF0U3BhY2UiLCJ0ZXN0IiwicGVlayIsImluZGVudCIsInRleHRBZnRlciIsIlBhc3MiLCJibG9ja0NvbW1lbnRTdGFydCIsImJsb2NrQ29tbWVudEVuZCIsImxpbmVDb21tZW50IiwibWltZXMiLCJtb2RlIiwiYWRkIiwicHJvcCIsImhhc093blByb3BlcnR5IiwicHVzaCIsImhlbHBlclR5cGUiLCJyZWdpc3RlckhlbHBlciIsImRlZmluZU1JTUUiLCJkZWYiLCJuYW1lIiwibW9kIl0sIm1hcHBpbmdzIjoiaUlBY0MsU0FBU0EsR0FDUixhQTBMQSxTQUFTQyxFQUFNQyxHQUViLElBREEsSUFBSUMsRUFBTSxHQUFJRixFQUFRQyxFQUFJRSxNQUFNLEtBQ3ZCQyxFQUFFLEVBQUdBLEVBQUVK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QUFVRCxFQUM5QkwsRUFBVzBELFdBQVdSLEVBQU03QyxHQUFJOEMsR0FHcENRLENBQUksQ0FBQyxtQkFBb0IsQ0FDdkJDLEtBQU0sV0FDTmpELFNBQVVWLEVBaENXLGliQWlDckJXLFFBQVNYLEVBaENXLDhOQWlDcEJZLE1BQU9aLEVBaENXLGlDQTNNbEI0RCxDQUFJLEVBQVEiLCJmaWxlIjoiNjYuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwczovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuLy8gTW9kZWxpY2Egc3VwcG9ydCBmb3IgQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBMZW5uYXJ0IE9jaGVsXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KVxuXG4oZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBDb2RlTWlycm9yLmRlZmluZU1vZGUoXCJtb2RlbGljYVwiLCBmdW5jdGlvbihjb25maWcsIHBhcnNlckNvbmZpZykge1xuXG4gICAgdmFyIGluZGVudFVuaXQgPSBjb25maWcuaW5kZW50VW5pdDtcbiAgICB2YXIga2V5d29yZHMgPSBwYXJzZXJDb25maWcua2V5d29yZHMgfHwge307XG4gICAgdmFyIGJ1aWx0aW4gPSBwYXJzZXJDb25maWcuYnVpbHRpbiB8fCB7fTtcbiAgICB2YXIgYXRvbXMgPSBwYXJzZXJDb25maWcuYXRvbXMgfHwge307XG5cbiAgICB2YXIgaXNTaW5nbGVPcGVyYXRvckNoYXIgPSAvWzs9XFwoOlxcKSx7fS4qPD4rXFwtXFwvXlxcW1xcXV0vO1xuICAgIHZhciBpc0RvdWJsZU9wZXJhdG9yQ2hhciA9IC8oOj18PD18Pj18PT18PD58XFwuXFwrfFxcLlxcLXxcXC5cXCp8XFwuXFwvfFxcLlxcXikvO1xuICAgIHZhciBpc0RpZ2l0ID0gL1swLTldLztcbiAgICB2YXIgaXNOb25EaWdpdCA9IC9bX2EtekEtWl0vO1xuXG4gICAgZnVuY3Rpb24gdG9rZW5MaW5lQ29tbWVudChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9rZW5CbG9ja0NvbW1lbnQoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIG1heWJlRW5kID0gZmFsc2UsIGNoO1xuICAgICAgd2hpbGUgKGNoID0gc3RyZWFtLm5leHQoKSkge1xuICAgICAgICBpZiAobWF5YmVFbmQgJiYgY2ggPT0gXCIvXCIpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWF5YmVFbmQgPSAoY2ggPT0gXCIqXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFwiY29tbWVudFwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRva2VuU3RyaW5nKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIGNoO1xuICAgICAgd2hpbGUgKChjaCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGNoID09ICdcIicgJiYgIWVzY2FwZWQpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICAgICAgc3RhdGUuc29sID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIGNoID09IFwiXFxcXFwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2tlbklkZW50KHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZShpc0RpZ2l0KTtcbiAgICAgIHdoaWxlIChzdHJlYW0uZWF0KGlzRGlnaXQpIHx8IHN0cmVhbS5lYXQoaXNOb25EaWdpdCkpIHsgfVxuXG5cbiAgICAgIHZhciBjdXIgPSBzdHJlYW0uY3VycmVudCgpO1xuXG4gICAgICBpZihzdGF0ZS5zb2wgJiYgKGN1ciA9PSBcInBhY2thZ2VcIiB8fCBjdXIgPT0gXCJtb2RlbFwiIHx8IGN1ciA9PSBcIndoZW5cIiB8fCBjdXIgPT0gXCJjb25uZWN0b3JcIikpIHN0YXRlLmxldmVsKys7XG4gICAgICBlbHNlIGlmKHN0YXRlLnNvbCAmJiBjdXIgPT0gXCJlbmRcIiAmJiBzdGF0ZS5sZXZlbCA+IDApIHN0YXRlLmxldmVsLS07XG5cbiAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbDtcbiAgICAgIHN0YXRlLnNvbCA9IGZhbHNlO1xuXG4gICAgICBpZiAoa2V5d29yZHMucHJvcGVydHlJc0VudW1lcmFibGUoY3VyKSkgcmV0dXJuIFwia2V5d29yZFwiO1xuICAgICAgZWxzZSBpZiAoYnVpbHRpbi5wcm9wZXJ0eUlzRW51bWVyYWJsZShjdXIpKSByZXR1cm4gXCJidWlsdGluXCI7XG4gICAgICBlbHNlIGlmIChhdG9tcy5wcm9wZXJ0eUlzRW51bWVyYWJsZShjdXIpKSByZXR1cm4gXCJhdG9tXCI7XG4gICAgICBlbHNlIHJldHVybiBcInZhcmlhYmxlXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9rZW5RSWRlbnQoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgd2hpbGUgKHN0cmVhbS5lYXQoL1teJ10vKSkgeyB9XG5cbiAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbDtcbiAgICAgIHN0YXRlLnNvbCA9IGZhbHNlO1xuXG4gICAgICBpZihzdHJlYW0uZWF0KFwiJ1wiKSlcbiAgICAgICAgcmV0dXJuIFwidmFyaWFibGVcIjtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2tlblVuc2lnbmVkTnViZXIoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgc3RyZWFtLmVhdFdoaWxlKGlzRGlnaXQpO1xuICAgICAgaWYgKHN0cmVhbS5lYXQoJy4nKSkge1xuICAgICAgICBzdHJlYW0uZWF0V2hpbGUoaXNEaWdpdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyZWFtLmVhdCgnZScpIHx8IHN0cmVhbS5lYXQoJ0UnKSkge1xuICAgICAgICBpZiAoIXN0cmVhbS5lYXQoJy0nKSlcbiAgICAgICAgICBzdHJlYW0uZWF0KCcrJyk7XG4gICAgICAgIHN0cmVhbS5lYXRXaGlsZShpc0RpZ2l0KTtcbiAgICAgIH1cblxuICAgICAgc3RhdGUudG9rZW5pemUgPSBudWxsO1xuICAgICAgc3RhdGUuc29sID0gZmFsc2U7XG4gICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICB9XG5cbiAgICAvLyBJbnRlcmZhY2VcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW5pemU6IG51bGwsXG4gICAgICAgICAgbGV2ZWw6IDAsXG4gICAgICAgICAgc29sOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICBpZihzdGF0ZS50b2tlbml6ZSAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoc3RyZWFtLnNvbCgpKSB7XG4gICAgICAgICAgc3RhdGUuc29sID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdISVRFU1BBQ0VcbiAgICAgICAgaWYoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpO1xuXG4gICAgICAgIC8vIExJTkVDT01NRU5UXG4gICAgICAgIGlmKGNoID09ICcvJyAmJiBzdHJlYW0uZWF0KCcvJykpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuTGluZUNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQkxPQ0tDT01NRU5UXG4gICAgICAgIGVsc2UgaWYoY2ggPT0gJy8nICYmIHN0cmVhbS5lYXQoJyonKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CbG9ja0NvbW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVFdPIFNZTUJPTCBUT0tFTlNcbiAgICAgICAgZWxzZSBpZihpc0RvdWJsZU9wZXJhdG9yQ2hhci50ZXN0KGNoK3N0cmVhbS5wZWVrKCkpKSB7XG4gICAgICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIFwib3BlcmF0b3JcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTSU5HTEUgU1lNQk9MIFRPS0VOU1xuICAgICAgICBlbHNlIGlmKGlzU2luZ2xlT3BlcmF0b3JDaGFyLnRlc3QoY2gpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBcIm9wZXJhdG9yXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSURFTlRcbiAgICAgICAgZWxzZSBpZihpc05vbkRpZ2l0LnRlc3QoY2gpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbklkZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIFEtSURFTlRcbiAgICAgICAgZWxzZSBpZihjaCA9PSBcIidcIiAmJiBzdHJlYW0ucGVlaygpICYmIHN0cmVhbS5wZWVrKCkgIT0gXCInXCIpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuUUlkZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIFNUUklOR1xuICAgICAgICBlbHNlIGlmKGNoID09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuU3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVOU0lHTkVEX05VQkVSXG4gICAgICAgIGVsc2UgaWYoaXNEaWdpdC50ZXN0KGNoKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5VbnNpZ25lZE51YmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVSUk9SXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgfSxcblxuICAgICAgaW5kZW50OiBmdW5jdGlvbihzdGF0ZSwgdGV4dEFmdGVyKSB7XG4gICAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSAhPSBudWxsKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuXG4gICAgICAgIHZhciBsZXZlbCA9IHN0YXRlLmxldmVsO1xuICAgICAgICBpZigvKGFsZ29yaXRobSkvLnRlc3QodGV4dEFmdGVyKSkgbGV2ZWwtLTtcbiAgICAgICAgaWYoLyhlcXVhdGlvbikvLnRlc3QodGV4dEFmdGVyKSkgbGV2ZWwtLTtcbiAgICAgICAgaWYoLyhpbml0aWFsIGFsZ29yaXRobSkvLnRlc3QodGV4dEFmdGVyKSkgbGV2ZWwtLTtcbiAgICAgICAgaWYoLyhpbml0aWFsIGVxdWF0aW9uKS8udGVzdCh0ZXh0QWZ0ZXIpKSBsZXZlbC0tO1xuICAgICAgICBpZigvKGVuZCkvLnRlc3QodGV4dEFmdGVyKSkgbGV2ZWwtLTtcblxuICAgICAgICBpZihsZXZlbCA+IDApXG4gICAgICAgICAgcmV0dXJuIGluZGVudFVuaXQqbGV2ZWw7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0sXG5cbiAgICAgIGJsb2NrQ29tbWVudFN0YXJ0OiBcIi8qXCIsXG4gICAgICBibG9ja0NvbW1lbnRFbmQ6IFwiKi9cIixcbiAgICAgIGxpbmVDb21tZW50OiBcIi8vXCJcbiAgICB9O1xuICB9KTtcblxuICBmdW5jdGlvbiB3b3JkcyhzdHIpIHtcbiAgICB2YXIgb2JqID0ge30sIHdvcmRzID0gc3RyLnNwbGl0KFwiIFwiKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8d29yZHMubGVuZ3RoOyArK2kpXG4gICAgICBvYmpbd29yZHNbaV1dID0gdHJ1ZTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIG1vZGVsaWNhS2V5d29yZHMgPSBcImFsZ29yaXRobSBhbmQgYW5ub3RhdGlvbiBhc3NlcnQgYmxvY2sgYnJlYWsgY2xhc3MgY29ubmVjdCBjb25uZWN0b3IgY29uc3RhbnQgY29uc3RyYWluZWRieSBkZXIgZGlzY3JldGUgZWFjaCBlbHNlIGVsc2VpZiBlbHNld2hlbiBlbmNhcHN1bGF0ZWQgZW5kIGVudW1lcmF0aW9uIGVxdWF0aW9uIGV4cGFuZGFibGUgZXh0ZW5kcyBleHRlcm5hbCBmYWxzZSBmaW5hbCBmbG93IGZvciBmdW5jdGlvbiBpZiBpbXBvcnQgaW1wdXJlIGluIGluaXRpYWwgaW5uZXIgaW5wdXQgbG9vcCBtb2RlbCBub3Qgb3BlcmF0b3Igb3Igb3V0ZXIgb3V0cHV0IHBhY2thZ2UgcGFyYW1ldGVyIHBhcnRpYWwgcHJvdGVjdGVkIHB1YmxpYyBwdXJlIHJlY29yZCByZWRlY2xhcmUgcmVwbGFjZWFibGUgcmV0dXJuIHN0cmVhbSB0aGVuIHRydWUgdHlwZSB3aGVuIHdoaWxlIHdpdGhpblwiO1xuICB2YXIgbW9kZWxpY2FCdWlsdGluID0gXCJhYnMgYWNvcyBhY3R1YWxTdHJlYW0gYXNpbiBhdGFuIGF0YW4yIGNhcmRpbmFsaXR5IGNlaWwgY29zIGNvc2ggZGVsYXkgZGl2IGVkZ2UgZXhwIGZsb29yIGdldEluc3RhbmNlTmFtZSBob21vdG9weSBpblN0cmVhbSBpbnRlZ2VyIGxvZyBsb2cxMCBtb2QgcHJlIHJlaW5pdCByZW0gc2VtaUxpbmVhciBzaWduIHNpbiBzaW5oIHNwYXRpYWxEaXN0cmlidXRpb24gc3FydCB0YW4gdGFuaFwiO1xuICB2YXIgbW9kZWxpY2FBdG9tcyA9IFwiUmVhbCBCb29sZWFuIEludGVnZXIgU3RyaW5nXCI7XG5cbiAgZnVuY3Rpb24gZGVmKG1pbWVzLCBtb2RlKSB7XG4gICAgaWYgKHR5cGVvZiBtaW1lcyA9PSBcInN0cmluZ1wiKVxuICAgICAgbWltZXMgPSBbbWltZXNdO1xuXG4gICAgdmFyIHdvcmRzID0gW107XG5cbiAgICBmdW5jdGlvbiBhZGQob2JqKSB7XG4gICAgICBpZiAob2JqKVxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9iailcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKVxuICAgICAgICAgICAgd29yZHMucHVzaChwcm9wKTtcbiAgICB9XG5cbiAgICBhZGQobW9kZS5rZXl3b3Jkcyk7XG4gICAgYWRkKG1vZGUuYnVpbHRpbik7XG4gICAgYWRkKG1vZGUuYXRvbXMpO1xuXG4gICAgaWYgKHdvcmRzLmxlbmd0aCkge1xuICAgICAgbW9kZS5oZWxwZXJUeXBlID0gbWltZXNbMF07XG4gICAgICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsIG1pbWVzWzBdLCB3b3Jkcyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaT0wOyBpPG1pbWVzLmxlbmd0aDsgKytpKVxuICAgICAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKG1pbWVzW2ldLCBtb2RlKTtcbiAgfVxuXG4gIGRlZihbXCJ0ZXh0L3gtbW9kZWxpY2FcIl0sIHtcbiAgICBuYW1lOiBcIm1vZGVsaWNhXCIsXG4gICAga2V5d29yZHM6IHdvcmRzKG1vZGVsaWNhS2V5d29yZHMpLFxuICAgIGJ1aWx0aW46IHdvcmRzKG1vZGVsaWNhQnVpbHRpbiksXG4gICAgYXRvbXM6IHdvcmRzKG1vZGVsaWNhQXRvbXMpXG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9